<dom-module is="ui-image-picker">
  <style>
    .image-list {
      @apply(--layout);
      @apply(--layout-wrap);
    }
    
    iron-image {
      width: 100%;
      height: 100%;
      background-image: url("/bower_components/oe-studio/images/image_bg.png");
    }
    
    .image {
      width: 32%;
      height: 45px;
      margin: 5px;
      border: 1px solid #0C1013;
    }

  </style>

  <template>
        <div class="image-list">
            <template is="dom-repeat" items="[[images]]">
                <div class="image" on-dblclick="_setSelectedImage">
                    <iron-image src="[[_getSrc(item)]]" sizing="contain"></iron-image>
                </div>
            </template>
  </div>
  </template>
  <script>
    Polymer({
      is: 'ui-image-picker',
      properties: {
        images: {
          type: Object,
          notify: true
        }
      },
      _setSelectedImage: function(event) {
        var image = event.model.item;
        this.fire('image-selected', this._getSrc(image));
      },
      _getSrc: function(item) {
        return '/' + item.path + '/' + item.name;
      }
    });

  </script>
</dom-module>
