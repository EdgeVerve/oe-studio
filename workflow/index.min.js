!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l='function'==typeof require&&require
if(!s&&l){return l(a,!0)}
if(o){return o(a,!0)}
var c=new Error("Cannot find module '"+a+"'")
throw c.code='MODULE_NOT_FOUND',c}var u=n[a]={exports:{}}
t[a][0].call(u.exports,function(e){var n=t[a][1][e]
return r(n||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o='function'==typeof require&&require,a=0;a<i.length;a++){r(i[a])}
return r}({1:[function(e,t,n){'use strict'
function i(){window.currentFileStatus='new',r(m)}function r(e){window.listenerData={}
for(var t=new DOMParser,n=t.parseFromString(e,'text/xml'),i=n.childNodes[0].childNodes,r=0;r<i.length;r++){if('bpmn2:process'===i[r].nodeName){for(var o=i[r].childNodes,a=0;a<o.length;a++){if(o[a].nodeName.includes('task')){for(var s=o[a].childNodes,l=0;l<s.length;l++){if(s[l].nodeName.includes('extensionElements')){for(var c=s[l].childNodes,u=0;u<c.length;u++){if(c[u].nodeName.includes('input')||c[u].nodeName.includes('output')){for(var p=c[u].childNodes,f=0;f<p.length;f++){(p[f].nodeName.includes('input')||p[f].nodeName.includes('output'))&&void 0!==p[f].attributes.eventType&&(window.listenerData[p[f].attributes.name.nodeValue]=p[f].attributes.eventType.nodeValue)}}}}}}}}}
h.importXML(e,function(e){e?(d.removeClass('with-diagram').addClass('with-error'),d.find('.error pre').text(e.message),console.error(e)):d.removeClass('with-error').addClass('with-diagram')})}function o(e){h.saveSVG(e)}function a(e){h.saveXML({format:!0},function(t,n){e(t,n)})}void 0===window.listenerData&&(window.listenerData={}),void 0===window.assignmentTypeData&&(window.assignmentTypeData={}),window.currentIO='',window.currentFileStatus='new'
var s=e('jquery'),l=e('bpmn-js/lib/Modeler'),c=e('bpmn-js-properties-panel'),u=e('bpmn-js-properties-panel/lib/provider/camunda'),p=e('camunda-bpmn-moddle/resources/camunda'),d=s('#js-drop-zone'),f=s('#js-canvas'),h=new l({container:f,propertiesPanel:{parent:'#js-properties-panel'},additionalModules:[c,u],moddleExtensions:{camunda:p}});(function(){var e=null,t={}
return t.enableLogger=function(){null!=e&&(window.console.log=e)},t.disableLogger=function(){e=console.log,window.console.log=function(){}},t})().enableLogger()
var m='<?xml version="1.0" encoding="UTF-8"?>\r\n<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn">\r\n  <bpmn2:process id="Process_1" isExecutable="false">\r\n    <bpmn2:startEvent id="StartEvent_1"/>\r\n  </bpmn2:process>\r\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\r\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\r\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\r\n        <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>\r\n      </bpmndi:BPMNShape>\r\n    </bpmndi:BPMNPlane>\r\n  </bpmndi:BPMNDiagram>\r\n</bpmn2:definitions>'
window.createDiagram=function(e){window.currentFileStatus='old',r(e)},window.FileList&&window.FileReader?function(e,t){function n(e){e.stopPropagation(),e.preventDefault()
var n=e.dataTransfer.files,i=n[0],r=new FileReader
r.onload=function(e){var n=e.target.result
window.currentFileStatus='new',t(n)},r.readAsText(i)}function i(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect='copy'}e.get(0).addEventListener('dragover',i,!1),e.get(0).addEventListener('drop',n,!1)}(d,r):window.alert('Looks like you use an older browser that does not support drag and drop. Try using Chrome, Firefox or the Internet Explorer > 10.'),s(document).on('ready',function(){function t(e,t,n){encodeURIComponent(n)
n?(console.log(e),r=n,e.attr('disabled',!1),e.addClass('active').removeClass('disabled').removeClass('nopointer').addClass('pointer')):(e.removeClass('active'),e.addClass('disabled'),e.addClass('nopointer'),e.removeClass('pointer'),e.attr('disabled',!0))}function n(e,t,n){var i=encodeURIComponent(n)
n?(r=n,e.attr('disabled',!1),e.addClass('active').removeClass('disabled').removeClass('nopointer').addClass('pointer').attr({href:'data:application/bpmn20-xml;charset=UTF-8,'+i,download:t})):(e.removeClass('active'),e.addClass('disabled'),e.addClass('nopointer'),e.removeClass('pointer'),e.attr('disabled',!0))}s('#js-create-diagram').click(function(e){e.stopPropagation(),e.preventDefault(),i()}),s('#js-new-diagram').click(function(e){if(e.stopPropagation(),e.preventDefault(),''!==t){var t=''
i()}})
var r='',l=s('#js-download-diagram'),c=s('#js-download-svg'),u=s('#js-save-diagram'),p=s('#js-publish-diagram')
s('#js-save-diagram').click(function(){window.openSave(r)}),s('.buttons a').click(function(e){s(this).is('.active')||(e.preventDefault(),e.stopPropagation())})
var d=e('lodash/function/debounce'),f=d(function(){o(function(e,t){n(c,'diagram.svg',e?null:t)}),a(function(e,n){t(u,'diagram.bpmn',e?null:n)}),a(function(e,n){t(p,'diagram.bpmn',e?null:n)}),a(function(e,t){n(l,'diagram.bpmn',e?null:t)})},500)
h.on('commandStack.changed',f)})},{'bpmn-js-properties-panel':3,'bpmn-js-properties-panel/lib/provider/camunda':58,'bpmn-js/lib/Modeler':97,'camunda-bpmn-moddle/resources/camunda':189,jquery:367,'lodash/function/debounce':393}],2:[function(e,t,n){'use strict'
function i(e){var t,n,i,r,o,a,s=e.length
if(s%4>0){throw new Error('Invalid string. Length must be a multiple of 4')}
o='='===e[s-2]?2:'='===e[s-1]?1:0,a=new c(3*s/4-o),i=o>0?s-4:s
var u=0
for(t=0,n=0;t<i;t+=4,n+=3){r=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[u++]=r>>16&255,a[u++]=r>>8&255,a[u++]=255&r}
return 2===o?(r=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[u++]=255&r):1===o&&(r=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[u++]=r>>8&255,a[u++]=255&r),a}function r(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function o(e,t,n){for(var i,o=[],a=t;a<n;a+=3){i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(r(i))}
return o.join('')}function a(e){for(var t,n=e.length,i=n%3,r='',a=[],l=0,c=n-i;l<c;l+=16383){a.push(o(e,l,l+16383>c?c:l+16383))}
return 1===i?(t=e[n-1],r+=s[t>>2],r+=s[t<<4&63],r+='=='):2===i&&(t=(e[n-2]<<8)+e[n-1],r+=s[t>>10],r+=s[t>>4&63],r+=s[t<<2&63],r+='='),a.push(r),a.join('')}n.toByteArray=i,n.fromByteArray=a
var s=[],l=[],c='undefined'!=typeof Uint8Array?Uint8Array:Array
!function(){for(var e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',t=0,n=e.length;t<n;++t){s[t]=e[t],l[e.charCodeAt(t)]=t}
l['-'.charCodeAt(0)]=62,l['_'.charCodeAt(0)]=63}()},{}],3:[function(e,t,n){t.exports=e('./lib')},{'./lib':32}],4:[function(e,t,n){'use strict'
function i(e,t){var n=this
t=t||r,e.on('propertiesPanel.isEntryVisible',t,function(e){return n.isEntryVisible(e.entry,e.element)}),e.on('propertiesPanel.isPropertyEditable',t,function(e){return n.isPropertyEditable(e.entry,e.propertyName,e.element)})}var r=1e3
i.$inject=['eventBus'],t.exports=i,i.prototype.isEntryVisible=function(e,t){return!0},i.prototype.isPropertyEditable=function(e,t,n){return!0}},{}],5:[function(e,t,n){'use strict'
function i(e){return'checkbox'===e.type||'radio'===e.type}function r(e){return'select-one'===e.type}function o(e){var t='input[name], textarea[name], [data-value]',n=_.all(t,e)
return n&&n.length||!P(e,t)||(n=[e]),n}function a(e,t){var n=_.all('input[name], textarea[name], select[name]',e)
return n&&n.length||(n=P(e,'option')?[e]:n),t||(n=k(n,function(e){return!S(e,'.'+U)})),n}function s(e){var t={},n=a(e)
return R(n,function(e){var n=e.value,r=A(e,'name')||A(e,'data-name')
i(e)&&(n=e.checked?!A(e,'value')||e.value:null),null!==n&&(t[r]=n)}),t}function l(e){var t,n=_('[data-list-entry-container]',e)
if(n){t=[]
var i=n.children||[]
R(i,function(e){t.push(s(e))})}else {t=s(e)}
return t}function c(e,t){return!(e&&!t)&&B(e).concat(B(t)).every(function(n){return e[n]===t[n]})}function u(e,t){return O(e)?e.length===t.length&&e.every(function(e,n){return c(e,t[n])}):c(e,t)}function p(e){return V(H(z(H(z(e,'groups')),'entries')),'id')}function d(e){return V(H(z(e,'groups')),'id')}function f(e){return _('textarea[data-expandable]',e)}function h(e){if(e){var t=e.value||'',n=t.split(/\r?\n/g),i=A(e,'data-min-rows'),r=A(e,'data-max-rows'),o=n.length||1
i&&(o=Math.max(parseInt(i,10),o)),r&&(o=Math.min(parseInt(r,10),o)),e.rows=o}}function m(e,t,n,i,r,o){this._eventBus=t,this._modeling=n,this._commandStack=r,this._canvas=o,this._propertiesProvider=i,this._init(e)}function v(e,t){var n
void 0===t&&(t=''),document.activeElement===e&&(n=I(x(e),e.value,t)),e.value=t,n&&E(e,n)}function g(e,t){void 0!==t&&(e.value=t)}function y(e,t){var n=e.value
e.checked=t===n||!A(e,'value')&&t}function b(e,t){e.textContent=t}function x(e){return{start:e.selectionStart,end:e.selectionEnd}}function E(e,t){e.selectionStart=t.start,e.selectionEnd=t.end}var w=e('min-dom/lib/domify'),_=e('min-dom/lib/query'),C=e('min-dom/lib/remove'),T=e('min-dom/lib/classes'),S=e('min-dom/lib/closest'),A=e('min-dom/lib/attr'),j=e('min-dom/lib/delegate'),P=e('min-dom/lib/matches'),R=e('lodash/collection/forEach'),k=e('lodash/collection/filter'),M=e('lodash/object/get'),B=e('lodash/object/keys'),D=e('lodash/lang/isEmpty'),O=e('lodash/lang/isArray'),L=e('lodash/array/xor'),N=e('lodash/function/debounce'),k=e('lodash/collection/filter'),I=e('selection-update'),F=e('scroll-tabs'),U='pp-hidden',B=Object.keys
m.$inject=['config.propertiesPanel','eventBus','modeling','propertiesProvider','commandStack','canvas'],t.exports=m,m.prototype._init=function(e){var t=this._eventBus,n=this
t.on('root.added',function(e){n.update(e.element)}),t.on('selection.changed',function(e){var t=e.newSelection[0]
n.update(t)}),t.on(['propertiesPanel.changed','propertiesPanel.resized'],function(e){var t=_('.djs-properties-tab-bar',n._container)
if(t){var i=F.get(t)
i||(i=F(t,{selectors:{tabsContainer:'.djs-properties-tabs-links',tab:'.djs-properties-tabs-links li',ignore:'.pp-hidden',active:'.pp-active'}}),i.on('scroll',function(e,t,i){var r=_('[data-tab-target]',e),o=A(r,'data-tab-target')
n.activateTab(o)})),i.update()}}),t.on('elements.changed',function(e){var t=n._current,i=t&&t.element
i&&-1!==e.elements.indexOf(i)&&n.update(i)}),t.on('diagram.destroy',function(){n.detach()}),this._container=w('<div class="djs-properties-panel"></div>'),this._bindListeners(this._container),e&&e.parent&&this.attachTo(e.parent)},m.prototype.attachTo=function(e){if(!e){throw new Error('parentNode required')}
this.detach(),e.get&&(e=e.get(0)),'string'==typeof e&&(e=_(e))
var t=this._container
e.appendChild(t),this._emit('attach')},m.prototype.detach=function(){var e=this._container,t=e.parentNode
t&&(this._emit('detach'),t.removeChild(e))},m.prototype.activateTab=function(e){var t='string'==typeof e?e:e.id,n=this._current,i=n.panel,r=_.all('.djs-properties-tab',i),o=_.all('.djs-properties-tab-link',i)
R(r,function(e){var n=A(e,'data-tab')
T(e).toggle('pp-active',t===n)}),R(o,function(e){var n=_('[data-tab-target]',e),i=A(n,'data-tab-target')
T(e).toggle('pp-active',t===i)})},m.prototype.update=function(e){var t=this._current,n=!0
void 0===e&&(e=this._canvas.getRootElement())
var i=this._propertiesProvider.getTabs(e)
t&&t.element===e&&(n=this._entriesChanged(t,i)),n&&(t&&C(t.panel),this._current=this._create(e,i),this.activateTab(this._current.tabs[0])),this._current&&this._updateActivation(this._current),this._emit('changed')},m.prototype._entriesChanged=function(e,t){var n=B(e.entries),i=B(p(t))
return!D(L(n,i))},m.prototype._emit=function(e){this._eventBus.fire('propertiesPanel.'+e,{panel:this,current:this._current})},m.prototype._bindListeners=function(e){function t(e,t){var i=e.delegateTarget,r=S(i,'[data-entry]')
if(r){var o=A(i,'data-blur'),a=A(r,'data-entry'),s=n.getEntry(a)
if(n.executeAction(s,r,o,e)){var c=l(r)
n.applyChanges(s,c,r)}n.updateState(s,r)}}var n=this,i=function(e){var t,i,r=S(e.delegateTarget,'[data-entry]')
if(r){t=A(r,'data-entry'),i=n.getEntry(t)
var o=l(r)
if('change'===e.type){var a=e.delegateTarget.getAttribute('data-on-change')
if(a){if(!n.executeAction(i,r,a,e)){return n.update(n._current.element)}}}n.applyChanges(i,o,r),n.updateState(i,r)}}
j.bind(e,'textarea[data-expandable]','input',function(e){h(e.delegateTarget)}),j.bind(e,'input, textarea','input',N(i,300)),j.bind(e,'input, textarea, select','change',i),j.bind(e,'[data-action]','click',function(e){var t=e.delegateTarget,i=S(t,'[data-entry]'),r=A(t,'data-action'),o=A(i,'data-entry'),a=n.getEntry(o)
if(n.executeAction(a,i,r,e)){var s=l(i)
n.applyChanges(a,s,i)}n.updateState(a,i)}),j.bind(e,'[data-blur]','blur',t,!0),j.bind(e,'.djs-properties-tabs-links [data-tab-target]','click',function(e){e.preventDefault()
var t=e.delegateTarget,i=A(t,'data-tab-target')
n.activateTab(i)})},m.prototype.updateState=function(e,t){this.updateShow(e,t),this.updateDisable(e,t),this.updateTextArea(e,t)},m.prototype.updateTextArea=function(e,t){h(f(t))},m.prototype.updateShow=function(e,t){var n=this._current
if(n){var i=_.all('[data-show]',t)||[]
R(i,function(i){var r=A(i,'data-show'),o=M(e,r)
if(o){var a=S(i,'[data-scope]')||t,s=o(n.element,t,i,a)||!1,l=T(i).has(U)
s?l&&T(i).remove(U):T(i).add(U)}})}},m.prototype.updateDisable=function(e,t){var n=this._current
if(n){var i=_.all('[data-disable]',t)||[]
R(i,function(i){var r=A(i,'data-disable'),o=M(e,r)
if(o){var a=S(i,'[data-scope]')||t,s=o(n.element,t,i,a)||!1
A(i,'disabled',s?'':null)}})}},m.prototype.executeAction=function(e,t,n,i){var r=this._current
if(r){var o=M(e,n)
if(o){var a=S(i.target,'[data-scope]')||t
return o.apply(e,[r.element,t,i,a])}}},m.prototype.applyChanges=function(e,t,n){var i=this._current.element
if(!u(t,e.oldValues)){var r,o=e.set(i,t,n)
O(o)?o.length&&(r={cmd:'properties-panel.multi-command-executor',context:H(o)}):r=o,r?this._commandStack.execute(r.cmd,r.context||{element:i}):this.update(i)}},m.prototype.applyValidationErrors=function(e,t){var n=!0,i=a(t,!0)
return R(i,function(t){var i=A(t,'name')||A(t,'data-name'),r=e&&e[i],o=_('.pp-error-message',t.parentNode)
r?(n=!1,o||(o=w('<div></div>'),T(o).add('pp-error-message'),t.parentNode.insertBefore(o,t.nextSibling)),o.innerHTML=r,T(t).add('invalid')):(T(t).remove('invalid'),o&&t.parentNode.removeChild(o))}),n},m.prototype.validate=function(e,t,n){var i=this,r=this._current,o=!0
if(n=n||_('[data-entry="'+e.id+'"]',r.panel),t instanceof Array){for(var a=_('[data-list-entry-container]',n),s=a.children||[],l=0;l<t.length;l++){var c=t[l]
if(e.validateListItem){var u=e.validateListItem(r.element,c,n,l),p=s[l]
o=i.applyValidationErrors(u,p)&&o}}}else {e.validate&&(this.validationErrors=e.validate(r.element,t,n),o=i.applyValidationErrors(this.validationErrors,n)&&o)}
return o},m.prototype.getEntry=function(e){return this._current&&this._current.entries[e]}
var H=e('lodash/array/flattenDeep'),V=e('lodash/collection/indexBy'),z=e('lodash/collection/map')
m.prototype._create=function(e,t){if(!e){return null}
var n=this._container,i=this._createPanel(e,t)
n.appendChild(i)
var r=p(t)
return{tabs:t,groups:d(t),entries:r,element:e,panel:i}},m.prototype._bindTemplate=function(e,t,n,a,s){function l(t,n){return c.fire('propertiesPanel.isPropertyEditable',{entry:t,propertyName:n,element:e})}var c=this._eventBus,u=o(a)
R(u,function(o){var c,u,p
$(o).prev().addClass('active'),'value'in o?(c=A(o,'name')||A(o,'data-name'),u=n[c],p=l(t,c),p&&t.editable&&(p=t.editable(e,a,o,c,u,s)),A(o,'readonly',p?null:''),A(o,'disabled',p?null:''),t.setControlValue?t.setControlValue(e,a,o,c,u,s):i(o)?y(o,u):r(o)?g(o,u):v(o,u)):(c=A(o,'data-value'),u=n[c],t.setControlValue?t.setControlValue(e,a,o,c,u,s):b(o,u))})},m.prototype._updateActivation=function(e){function t(e){return s.fire('propertiesPanel.isEntryVisible',{entry:e,element:c})}function n(e,t,n){return'function'!=typeof e.enabled||e.enabled(t,n)}function i(e,t){return'function'!=typeof e.enabled||e.enabled(t)}function r(e,t){T(e).toggle(U,!t)}function o(e,t,n){var i=_(t,e)
i&&(i.textContent=n)}var a=this,s=this._eventBus,c=e.element,u=e.panel
R(e.tabs,function(e){var s=_('[data-tab='+e.id+']',u),p=_('[data-tab-target='+e.id+']',u).parentNode,d=!1
R(e.groups,function(e){var i=!1,u=_('[data-group='+e.id+']',s)
R(e.entries,function(e){var n=_('[data-entry="'+e.id+'"]',u),o=t(e)
i=i||o,r(n,o)
var s='get'in e?e.get(c,n):{}
if(s instanceof Array){for(var p=_('[data-list-entry-container]',n),d=p.children||[],f=0;f<s.length;f++){var h=s[f],m=d[f]
m||(m=w(e.createListEntryTemplate(h,f,p)),p.appendChild(m)),A(m,'data-index',f),a._bindTemplate(c,e,h,m,f)}for(var v=d.length-s.length,g=0;g<v;g++){p.removeChild(p.lastChild)}}else {a._bindTemplate(c,e,s,n)}
a.updateState(e,n),a.validate(e,s,n),e.oldValues=l(n)}),'function'==typeof e.label&&o(u,'.group-label',e.label(c,u)),i=i&&n(e,c,u),d=d||i,r(u,i)}),d=d&&i(e,c),r(s,d),r(p,d)}),o(u,'[data-label-id]',c.businessObject.name||'')},m.prototype._createPanel=function(e,t){var n=this,i=w('<div class="djs-properties"></div>'),r=w('<div class="djs-properties-header"><div class="label" data-label-id></div><div class="search"><input type="search" placeholder="Search for property" /><button><span>Search</span></button></div></div>'),o=w('<div class="djs-properties-tab-bar"></div>'),a=w('<ul class="djs-properties-tabs-links"></ul>'),s=w('<div class="djs-properties-tabs-container"></div>')
return i.appendChild(r),R(t,function(e,t){if(!e.id){throw new Error('tab must have an id')}
var i=w('<div class="djs-properties-tab" data-tab="'+e.id+'"></div>'),r=w('<li class="djs-properties-tab-link"><a href data-tab-target="'+e.id+'">'+e.label+'</a></li>'),o=e.groups
R(o,function(e){if(!e.id){throw new Error('group must have an id')}
var t=w('<div class="djs-properties-group" data-group="'+e.id+'"><span class="group-label"><span>'+e.label+'</span><span class="group-toggle"><i class="material-icons">keyboard_arrow_up</i></span></span><div class="group-content"></div></div>')
t.querySelector('.group-label').addEventListener('click',function(e){e.defaultPrevented||T(t).toggle('group-closed')}),R(e.entries,function(e){if(!e.id){throw new Error('entry must have an id')}
var i=e.html
'string'==typeof i&&(i=w(i)),i.get&&(i=i.get(0))
var r=w('<div class="djs-properties-entry" data-entry="'+e.id+'"></div>')
R(e.cssClasses||[],function(e){T(r).add(e)}),r.appendChild(i),t.querySelector('.group-content').appendChild(r),n.updateState(e,r)}),i.appendChild(t)}),a.appendChild(r),s.appendChild(i)}),o.appendChild(a),i.appendChild(o),i.appendChild(s),i}},{'lodash/array/flattenDeep':370,'lodash/array/xor':376,'lodash/collection/filter':380,'lodash/collection/forEach':382,'lodash/collection/indexBy':385,'lodash/collection/map':386,'lodash/function/debounce':393,'lodash/lang/isArray':502,'lodash/lang/isEmpty':503,'lodash/object/get':513,'lodash/object/keys':514,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/closest':528,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/matches':532,'min-dom/lib/query':533,'min-dom/lib/remove':534,'scroll-tabs':562,'selection-update':563}],6:[function(e,t,n){'use strict'
function i(e){if(e.selectedIndex>=0){return e.options[e.selectedIndex].value}}function r(e,t){return i(g(e,t))}function o(e){for(var t=e;t.$parent;){t=t.$parent}
return t}function a(e,t){var n=e||[],i=[]
return x(n,function(e){b(e,t)&&i.push(e)}),i}function s(e,t){return a(o(e).rootElements,t)}function l(e){for(;e.firstChild;){e.removeChild(e.firstChild)}}function c(e){return e.push({label:'',value:'',name:''})}function u(e,t){var n=[],i=s(e,t)
return x(i,function(e){n.push({label:(e.name||'')+' (id='+e.id+')',value:e.id,name:e.name})}),n}function p(e,t,n,i){var r=u(t,n)
c(r)
var o=g(e,i)
return y(o),x(r,function(e){var t=E('<option value="'+e.value+'">'+e.label+'</option>')
o.appendChild(t)}),r}function d(e,t){var n=e.$model.ids.assigned(t),i=!!n&&n!==e
return!t||i?'Element must have an unique id.':f(t)}function f(e){return h(e)?'Id must not contain spaces.':T.test(e)?void 0:C.test(e)?'Id must not contain prefix.':'Id must be a valid QName.'}function h(e){return _.test(e)}function m(e){return new w([32,32,1]).nextPrefixed(e)}function v(e){var t
if(document.createEvent){try{t=new MouseEvent('click',{view:window,bubbles:!0,cancelable:!0})}catch(e){t=document.createEvent('MouseEvent'),t.initEvent('click',!0,!0)}return e.dispatchEvent(t)}return t=document.createEventObject(),e.fireEvent('onclick',t)}var g=e('min-dom/lib/query'),y=e('min-dom/lib/clear'),b=e('bpmn-js/lib/util/ModelUtil').is,x=e('lodash/collection/forEach'),E=e('min-dom/lib/domify'),w=e('ids'),_=/\s/,C=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,T=/^[a-z_][\w-.]*$/i
t.exports.selectedOption=i,t.exports.selectedType=r,t.exports.getRoot=o,t.exports.filterElementsByType=a,t.exports.findRootElementsByType=s,t.exports.removeAllChildren=l,t.exports.addEmptyParameter=c,t.exports.refreshOptionsModel=u,t.exports.updateOptionsDropDown=p,t.exports.isIdValid=d,t.exports.validateId=f,t.exports.containsSpace=h,t.exports.nextId=m,t.exports.triggerClickEvent=v},{'bpmn-js/lib/util/ModelUtil':178,ids:362,'lodash/collection/forEach':382,'min-dom/lib/clear':527,'min-dom/lib/domify':530,'min-dom/lib/query':533}],7:[function(e,t,n){'use strict'
function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function r(e,t){if(!e){throw new Error(t+' required')}
return e}var o=e('../helper/ElementHelper')
i.$inject=['elementRegistry','bpmnFactory'],t.exports=i,i.prototype.execute=function(e){var t=r(e.referencingObject,'referencingObject'),n=r(e.referenceProperty,'referenceProperty'),i=r(e.newObject,'newObject'),a=r(e.newObjectContainer,'newObjectContainer'),s=r(e.newObjectParent,'newObjectParent'),l=[e.element],c=o.createElement(i.type,i.properties,s,this._bpmnFactory)
return e.referencedObject=c,a.push(c),e.previousReference=t[n],t[n]=c,e.changed=l,l},i.prototype.revert=function(e){var t=e.referencingObject,n=e.referenceProperty,i=e.previousReference,r=e.referencedObject,o=e.newObjectContainer
return t.set(n,i),o.splice(o.indexOf(r),1),e.changed}},{'../helper/ElementHelper':25}],8:[function(e,t,n){'use strict'
function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function r(e,t){if(!e){throw new Error(t+' required')}
return e}function o(e,t){if(!e||'[object Array]'!==Object.prototype.toString.call(e)){throw new Error(t+' needs to be a list')}
return e}var a=e('lodash/collection/forEach'),s=e('../helper/ElementHelper')
i.$inject=['elementRegistry','bpmnFactory'],t.exports=i,i.prototype.execute=function(e){var t=r(e.currentObject,'currentObject'),n=r(e.propertyName,'propertyName'),i=o(e.newObjects,'newObjects'),l=[e.element],c=[],u=this
return a(i,function(e){var n=s.createElement(e.type,e.properties,t,u._bpmnFactory)
c.push(n)}),e.childObject=c,e.previousChilds=t[n],t[n]=c,e.changed=l,l},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,i=e.previousChilds
return t.set(n,i),e.changed}},{'../helper/ElementHelper':25,'lodash/collection/forEach':382}],9:[function(e,t,n){'use strict'
function i(e){this._commandStack=e}var r=e('lodash/collection/forEach')
i.$inject=['commandStack'],t.exports=i,i.prototype.preExecute=function(e){var t=this._commandStack
r(e,function(e){t.execute(e.cmd,e.context)})}},{'lodash/collection/forEach':382}],10:[function(e,t,n){'use strict'
function i(e){this._elementRegistry=e}function r(e){for(var t=e;t.$parent;){t=t.$parent}
return t}function o(e,t){return s(t,function(t,n){return t[n]=e.get(n),t},{})}function a(e,t){u(t,function(t,n){e.set(n,t)})}var s=e('lodash/object/transform'),l=e('bpmn-js/lib/util/ModelUtil').is,c=e('lodash/object/keys'),u=e('lodash/collection/forEach')
i.$inject=['elementRegistry'],t.exports=i,i.prototype.execute=function(e){var t=e.element,n=e.businessObject,i=r(n).rootElements,s=e.referenceType,p=e.referenceProperty,d=[t]
if(!t){throw new Error('element required')}
if(!n){throw new Error('businessObject required')}
var f=e.properties,h=e.oldProperties||o(n,c(f))
return void 0!==s&&void 0!==p&&u(i,function(e){l(e,s)&&e.id===f[p]&&(f[p]=e)}),a(n,f),e.oldProperties=h,e.changed=d,d},i.prototype.revert=function(e){var t=e.oldProperties
return a(e.businessObject,t),e.changed}},{'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382,'lodash/object/keys':514,'lodash/object/transform':520}],11:[function(e,t,n){'use strict'
function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function r(e,t){if(!e){throw new Error(t+'required')}
return e}var o=e('lodash/collection/forEach')
i.$inject=['elementRegistry','bpmnFactory'],t.exports=i,i.prototype.execute=function(e){var t,n=r(e.currentObject,'currentObject'),i=r(e.propertyName,'propertyName'),a=e.updatedObjectList,s=e.objectsToRemove||[],l=e.objectsToAdd||[],c=[e.element]
e.referencePropertyName&&(t=e.referencePropertyName)
var u=n[i]
if(e.previousList=n[i],a){n[i]=a}
else{var p=[]
if(o(u,function(e){-1==s.indexOf(e)&&p.push(e)}),p=p.concat(l),p.length>0||!t){n[i]=p}
else if(t){var d=n.$parent
d.set(t,void 0)}}return e.changed=c,c},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,i=e.previousList,r=t.$parent
return e.referencePropertyName&&r.set(e.referencePropertyName,t),t.set(n,i),e.changed}},{'lodash/collection/forEach':382}],12:[function(e,t,n){'use strict'
function i(e,t){e.on('diagram.init',function(){r(o,function(e,n){t.registerHandler(n,e)})})}var r=e('lodash/collection/forEach'),o={'properties-panel.update-businessobject':e('./UpdateBusinessObjectHandler'),'properties-panel.create-and-reference':e('./CreateAndReferenceHandler'),'properties-panel.create-businessobject-list':e('./CreateBusinessObjectListHandler'),'properties-panel.update-businessobject-list':e('./UpdateBusinessObjectListHandler'),'properties-panel.multi-command-executor':e('./MultiCommandHandler')}
i.$inject=['eventBus','commandStack'],t.exports={__init__:[i]}},{'./CreateAndReferenceHandler':7,'./CreateBusinessObjectListHandler':8,'./MultiCommandHandler':9,'./UpdateBusinessObjectHandler':10,'./UpdateBusinessObjectListHandler':11,'lodash/collection/forEach':382}],13:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,r=e('../helper/CmdHelper'),o=function(e,t){var n=t,o=e.label||n.id,a=!!e.disabled&&'function'==typeof e.disabled
return n.html='<input id="camunda-'+n.id+'" class="filled-in" type="checkbox" name="'+e.modelProperty+'" '+(a?'data-show="isDisabled"':'')+' /><label for="camunda-'+n.id+'" '+(a?'data-show="isDisabled"':'')+'>'+o+'</label>',n.get=function(t){var n=i(t),r={}
return r[e.modelProperty]=n.get(e.modelProperty),r},n.set=function(t,n){var i={}
return i[e.modelProperty]=!!n[e.modelProperty],r.updateProperties(t,i)},'function'==typeof e.set&&(n.set=e.set),'function'==typeof e.get&&(n.get=e.get),a&&(n.isDisabled=function(){return!e.disabled.apply(n,arguments)}),n.cssClasses=['pp-checkbox'],n}
t.exports=o},{'../helper/CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178}],14:[function(e,t,n){'use strict'
var i=e('lodash/object/assign'),r=e('lodash/collection/find'),o=e('min-dom/lib/query'),a=e('./SelectEntryFactory'),s=function(e){var t=e.selectOptions,n=e.modelProperty,s=e.customValue||'custom',l=e.customName||'custom '+n,c=function(e){return void 0!==e[n]&&!r(t,function(t){return e[n]===t.value})},u=i({},e)
u.showCustomInput=function(t,n){var i=o('[data-entry="'+e.id+'"] select',n.parentNode)
return!!i&&i.value===s},u.get=function(t,i){var r=e.get(t,i),o={}
return c(r)?(o[n]=s,o['custom-'+n]=r[n],o):(o[n]=r[n]||'',o)},u.set=function(t,i,r){var o={}
return i[n]===s?o[n]=i['custom-'+n]||'':e.emptyParameter&&''===i[n]?o[n]=void 0:o[n]=i[n],e.set(t,o,r)},u.selectOptions.push({name:l,value:s})
var p=i({},a(u,u))
return p.html+='<div class="pp-field-wrapper input-field pp-combo-input" data-show="showCustomInput"><input id="camunda-'+e.id+'-input" type="text" name="custom-'+n+'"  /></div>',p}
t.exports=s},{'./SelectEntryFactory':18,'lodash/collection/find':381,'lodash/object/assign':512,'min-dom/lib/query':533}],15:[function(e,t,n){'use strict'
function i(e){if(!e){throw new Error(e+' must be set.')}
return e}function r(){}var o=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,a=e('./TextInputEntryFactory'),s=e('./CheckboxEntryFactory'),l=e('./SelectEntryFactory'),c=e('./ComboEntryFactory'),u=e('./TextAreaEntryFactory'),p=e('./ValidationAwareTextInput'),d=e('./TableEntryFactory'),f=e('./LabelFactory'),h=e('./LinkEntryFactory'),m=e('../helper/CmdHelper'),v=function(e){var t=function(t){var n=o(t),r={},a=i(e.modelProperty)
return r[a]=n.get(a),r},n=function(t,n){var r={},o=i(e.modelProperty)
return''!==n[o]?r[o]=n[o]:r[o]=void 0,m.updateProperties(t,r)},r=function(){return{}}
return{id:e.id,description:e.description||'',get:e.get||t,set:e.set||n,validate:e.validate||r,html:''}}
r.textField=function(e){return a(e,v(e))},r.validationAwareTextField=function(e){return p(e,v(e))},r.checkbox=function(e){return s(e,v(e))},r.textArea=function(e){return u(e,v(e))},r.selectBox=function(e){return l(e,v(e))},r.comboBox=function(e){return c(e)},r.table=function(e){return d(e)},r.label=function(e){return f(e)},r.link=function(e){return h(e)},t.exports=r},{'../helper/CmdHelper':24,'./CheckboxEntryFactory':13,'./ComboEntryFactory':14,'./LabelFactory':16,'./LinkEntryFactory':17,'./SelectEntryFactory':18,'./TableEntryFactory':19,'./TextAreaEntryFactory':20,'./TextInputEntryFactory':21,'./ValidationAwareTextInput':22,'bpmn-js/lib/util/ModelUtil':178}],16:[function(e,t,n){'use strict'
var i=function(e){return{id:e.id,html:'<label data-value="label" data-show="showLabel" class="entry-label'+(e.divider?' divider':'')+'"></label>',get:function(t,n){return'function'==typeof e.get?e.get(t,n):{label:e.labelText}},showLabel:function(t,n){return'function'!=typeof e.showLabel||e.showLabel(t,n)}}}
t.exports=i},{}],17:[function(e,t,n){'use strict'
var i=e('../Utils'),r=function(e,t){var n=e.id,r=e.label||n,o=e.hideLink,a='function'==typeof o,s=e.getClickableElement,l={id:n}
return l.html='<a data-action="linkSelected" '+(a?'data-show="hideLink" ':'')+'class="pp-entry-link'+(e.cssClasses?' '+e.cssClasses:'')+'">'+r+'</a>',l.linkSelected=function(e,t,n,r){if('function'==typeof s){var o=s.apply(l,[e,t,n,r])
o&&i.triggerClickEvent(o)}return!1},a&&(l.hideLink=function(){return!o.apply(l,arguments)}),l}
t.exports=r},{'../Utils':6}],18:[function(e,t,n){'use strict'
var i=e('lodash/collection/forEach'),r=function(e){return!(!e||'[object Array]'!==Object.prototype.toString.call(e))},o=function(e){return e.concat([{name:'',value:''}])},a=function(e,t){var n=t,a=e.label||n.id,s=e.selectOptions,l=e.modelProperty,c=e.emptyParameter,u=!!e.disabled&&'function'==typeof e.disabled
return r(s)?c&&(s=o(s)):s=[{name:'',value:''}],n.html='<label for="camunda-'+n.id+'"'+(u?'data-show="isDisabled" ':'')+'>'+a+'</label><select id="camunda-'+n.id+'-select" name="'+l+'"'+(u?'data-show="isDisabled" ':'')+' data-value>',i(s,function(e){n.html+='<option value="'+e.value+'">'+(e.name||'')+'</option>'}),n.html+='</select>',u&&(n.isDisabled=function(){return!e.disabled.apply(n,arguments)}),n.cssClasses=['dropdown'],n}
t.exports=a},{'lodash/collection/forEach':382}],19:[function(e,t,n){'use strict'
function i(e,t){var n=x
return n+=r(e,t),n+=t?E:'',n+='</div>'}function r(e,t){var n=e.length,i=''
return g(e,function(e){i+='<input class="pp-table-row-columns-'+n+' '+(t?'pp-table-row-removable':'')+'" id="camunda-table-row-cell-input-value" type="text" name="'+e+'" />'}),i}function o(e){var t=x
return t+=a(e),t+='</div>'}function a(e){var t=e.length,n=''
return g(e,function(e){n+='<label class="pp-table-row-columns-'+t+'">'+e+'</label>'}),n}function s(e,t){return(e||[]).map(function(e){var n={}
return g(t,function(t){n[t]=e[t]||''}),n})}function l(e,t,n,i,r){return v(n,function(n,o){return!c(e,t,n,i[o],r,o)})}function c(e,t,n,i,r,o){return!(n&&!i)&&y(n).concat(y(i)).every(function(a){var s=n[a]||void 0,l=i[a]||void 0
return!r(e,t,a,o)||s===l})}function u(e){return m(e,'[data-entry]',!0)}function p(e){return f('div[data-list-entry-container]',e)}var d=e('../helper/CmdHelper'),f=e('min-dom/lib/query'),h=e('min-dom/lib/attr'),m=e('min-dom/lib/closest'),v=e('lodash/collection/filter'),g=e('lodash/collection/forEach'),y=e('lodash/object/keys'),b=e('min-dom/lib/domify'),x='<div class="pp-field-wrapper input-field pp-table-row">',E='<button class="clear" data-action="deleteElement"><span>X</span></button>'
t.exports=function(e){var t=e.id,n=e.modelProperties,r=e.labels,a=o(r),c=e.getElements,f=e.removeElement,v='function'==typeof f,y=e.addElement,x='function'==typeof y,E=e.addLabel||'Add Value',w=e.updateElement,_='function'==typeof w,C=e.editable||function(){return!0},T=e.setControlValue,S=e.show,A='function'==typeof S,j=function(e,t){return s(c(e,t),n)},P={id:t,html:(x?'<div class="pp-table-add-row" '+(A?'data-show="show"':'')+'><label>'+E+'</label><button class="add" data-action="addElement"><span>+</span></button></div>':'')+'<div class="pp-table" data-show="showTable"><div class="pp-field-wrapper input-field pp-table-row">'+a+'</div><div data-list-entry-container></div></div>',get:function(e,t){var i=j(e,t,this.__invalidValues),r=this.__invalidValues
return delete this.__invalidValues,g(r,function(e,t){var r=i[t]
g(n,function(t){r[t]=e[t]})}),i},set:function(t,n,i){var r=this.__action||{}
if(delete this.__action,'delete-element'===r.id){return f(t,i,r.idx)}
if('add-element'===r.id){return y(t,i)}
if(_){var o=[],a=n
'function'!=typeof e.validate&&(a=l(t,i,n,j(t,i),C))
var s=this
return g(a,function(r){var a,l=n.indexOf(r)
if('function'==typeof e.validate&&(a=e.validate(t,r,i,l)),a){s.__invalidValues=s.__invalidValues||{},s.__invalidValues[l]=r,o.push(d.updateProperties(t,{}))}
else{var c=w(t,r,i,l)
c&&o.push(c)}}),o}},createListEntryTemplate:function(e,t,r){return i(n,v)},addElement:function(e,t,r,o){var a=b(i(n,v))
return p(t).appendChild(a),this.__action={id:'add-element'},!0},deleteElement:function(e,t,n,i){var r=p(t),o=n.delegateTarget.parentNode,a=parseInt(h(o,'data-index'),10)
return r.removeChild(o),this.__action={id:'delete-element',idx:a},!0},editable:function(e,t,n,i,r,o){var a=m(t,'[data-entry]')
return C(e,a,i,o)},show:function(e,t,n,i){return t=u(t),S(e,t,n,i)},showTable:function(e,t,n,i){t=u(t)
var r=j(e,t)
return r&&r.length&&(!A||S(e,t,n,i))},validateListItem:function(t,n,i,r){if('function'==typeof e.validate){return e.validate(t,n,i,r)}}}
return T&&(P.setControlValue=function(e,t,n,i,r,o){var a=u(t)
T(e,a,n,i,r,o)}),P}},{'../helper/CmdHelper':24,'lodash/collection/filter':380,'lodash/collection/forEach':382,'lodash/object/keys':514,'min-dom/lib/attr':525,'min-dom/lib/closest':528,'min-dom/lib/domify':530,'min-dom/lib/query':533}],20:[function(e,t,n){'use strict'
var i=function(e,t){var n=t,i=e.label||n.id,r=!!e.show&&'function'==typeof e.show,o=e.expandable,a=e.minRows,s=e.maxRows
return n.html='<div class="pp-field-wrapper input-field" '+(r?'data-show="isShown"':'')+'><label for="camunda-'+n.id+'" '+(r?'data-show="isShown"':'')+'>'+i+'</label><textarea class="materialize-textarea" id="camunda-'+n.id+'" name="'+e.modelProperty+'" '+(o?'data-expandable ':'')+(a?'data-min-rows="'+a+'" ':'')+(s?'data-max-rows="'+s+'" ':'')+'></textarea></div>',r&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=['pp-textarea'],n}
t.exports=i},{}],21:[function(e,t,n){'use strict'
var i=e('min-dom/lib/query'),r=function(e,t){var n=function(t,n){return i('input[name="'+e.modelProperty+'"]',n).value='',!0},r=function(t,n){return''!==i('input[name="'+e.modelProperty+'"]',n).value},o=t,a=e.label||o.id,s=e.dataValueLabel,l=(e.buttonLabel,void 0!==e.buttonAction?e.buttonAction.name:'clear'),c=void 0!==e.buttonAction?e.buttonAction.method:n,u=void 0!==e.buttonShow?e.buttonShow.name:'canClear',p=void 0!==e.buttonShow?e.buttonShow.method:r,d=!!e.disabled&&'function'==typeof e.disabled
return o.html='<div class="pp-field-wrapper input-field" '+(d?'data-show="isDisabled"':'')+'><label for="camunda-'+o.id+'" '+(d?'data-show="isDisabled" ':'')+(s?'data-value="'+s+'"':'')+'>'+a+'</label><input id="camunda-'+o.id+'" type="text" name="'+e.modelProperty+'"  /></div>',o[l]=c,o[u]=p,d&&(o.isDisabled=function(){return!e.disabled.apply(o,arguments)}),o.cssClasses=['pp-textfield'],o}
t.exports=r},{'min-dom/lib/query':533}],22:[function(e,t,n){'use strict'
var i=e('./TextInputEntryFactory'),r=function(e,t){var n=e.modelProperty
t.get=function(t,i){var r=this.__lastInvalidValue
delete this.__lastInvalidValue
var o={}
return o[n]=void 0!==r?r:e.getProperty(t,i),o},t.set=function(t,i,o){var a=r.apply(this,[t,i,o]),s=i[n]
if(a&&a[n]){return this.__lastInvalidValue=s,e.setProperty(t,{},o)}
var l={}
return l[n]=s,e.setProperty(t,l,o)}
var r=t.validate=function(t,i,r){var o=i[n]||this.__lastInvalidValue,a={}
return a[n]=o,e.validate(t,a,r)}
return i(e,t)}
t.exports=r},{'./TextInputEntryFactory':21}],23:[function(e,t,n){'use strict'
function i(e){return!(!e.get('camunda:asyncBefore')&&!e.get('camunda:async'))}function r(e){return!!e.get('camunda:asyncAfter')}function o(e){return!!e.get('camunda:exclusive')}function a(e){return(c.getExtensionElements(e,'camunda:FailedJobRetryTimeCycle')||[])[0]}function s(e,t){var n=c.getExtensionElements(e,'camunda:FailedJobRetryTimeCycle')
return l(n,function(n){return c.removeEntry(e,t,n)})}var l=e('lodash/collection/map'),c=e('./ExtensionElementsHelper')
t.exports.isAsyncBefore=i,t.exports.isAsyncAfter=r,t.exports.isExclusive=o,t.exports.getFailedJobRetryTimeCycle=a,t.exports.removeFailedJobRetryTimeCycle=s},{'./ExtensionElementsHelper':27,'lodash/collection/map':386}],24:[function(e,t,n){'use strict'
var i={}
t.exports=i,i.updateProperties=function(e,t){return{cmd:'element.updateProperties',context:{element:e,properties:t}}},i.updateBusinessObject=function(e,t,n){return{cmd:'properties-panel.update-businessobject',context:{element:e,businessObject:t,properties:n}}},i.addElementsTolist=function(e,t,n,i){return{cmd:'properties-panel.update-businessobject-list',context:{element:e,currentObject:t,propertyName:n,objectsToAdd:i}}},i.removeElementsFromList=function(e,t,n,i,r){return{cmd:'properties-panel.update-businessobject-list',context:{element:e,currentObject:t,propertyName:n,referencePropertyName:i,objectsToRemove:r}}},i.addAndRemoveElementsFromList=function(e,t,n,i,r,o){return{cmd:'properties-panel.update-businessobject-list',context:{element:e,currentObject:t,propertyName:n,referencePropertyName:i,objectsToAdd:r,objectsToRemove:o}}},i.setList=function(e,t,n,i){return{cmd:'properties-panel.update-businessobject-list',context:{element:e,currentObject:t,propertyName:n,updatedObjectList:i}}}},{}],25:[function(e,t,n){'use strict'
var i={}
t.exports=i,i.createElement=function(e,t,n,i){var r=i.create(e,t)
return r.$parent=n,r}},{}],26:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,r=e('bpmn-js/lib/util/ModelUtil').is,o=e('lodash/collection/forEach'),a={}
t.exports=a,a.getEventDefinition=function(e,t){var n=i(e),a=null
return n.eventDefinitions&&o(n.eventDefinitions,function(e){r(e,t)&&(a=e)}),a},a.getTimerEventDefinition=function(e){return this.getEventDefinition(e,'bpmn:TimerEventDefinition')},a.getMessageEventDefinition=function(e){return this.getEventDefinition(e,'bpmn:MessageEventDefinition')},a.getSignalEventDefinition=function(e){return this.getEventDefinition(e,'bpmn:SignalEventDefinition')},a.getErrorEventDefinition=function(e){return this.getEventDefinition(e,'bpmn:ErrorEventDefinition')},a.getEscalationEventDefinition=function(e){return this.getEventDefinition(e,'bpmn:EscalationEventDefinition')},a.getCompensateEventDefinition=function(e){return this.getEventDefinition(e,'bpmn:CompensateEventDefinition')}},{'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382}],27:[function(e,t,n){'use strict'
var i=e('./CmdHelper'),r=e('./ElementHelper'),o=e('bpmn-js/lib/util/ModelUtil').is,a={},s=function(e){return e.get('extensionElements')}
a.getExtensionElements=function(e,t){var n=s(e)
if(void 0!==n){var i=n.get('values')
if(void 0!==i){var r=i.filter(function(e){return o(e,t)})
if(r.length){return r}}}},a.addEntry=function(e,t,n,o){var a=e.get('extensionElements')
return a?i.addElementsTolist(t,a,'values',[n]):(a=r.createElement('bpmn:ExtensionElements',{values:[n]},e,o),{extensionElements:a})},a.removeEntry=function(e,t,n){var r=e.get('extensionElements')
return r?i.removeElementsFromList(t,r,'values','extensionElements',[n]):{}},t.exports=a},{'./CmdHelper':24,'./ElementHelper':25,'bpmn-js/lib/util/ModelUtil':178}],28:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,r=e('./ExtensionElementsHelper').getExtensionElements,o={}
t.exports=o,o.getFormType=function(e){var t=i(e),n=r(t,'camunda:FormData'),o='form-key'
return n&&(o='form-data'),o},o.getFormFields=function(e){var t=i(e),n=r(t,'camunda:FormData')
return void 0!==n?n[0].fields:[]},o.getFormField=function(e,t){return this.getFormFields(e)[t]},o.getConstraints=function(e){return e&&e.validation&&e.validation.constraints?e.validation.constraints:[]},o.getEnumValues=function(e){return e&&e.values?e.values:[]}},{'./ExtensionElementsHelper':27,'bpmn-js/lib/util/ModelUtil':178}],29:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil'),r=i.is,o=i.getBusinessObject,a=e('./EventDefinitionHelper'),s=e('./ExtensionElementsHelper'),l={}
t.exports=l,l.isServiceTaskLike=function(e){return r(e,'camunda:ServiceTaskLike')},l.isEVFServiceTaskLike=function(e){return r(e,'camunda:ServiceTaskLike')},l.isFTServiceTaskLike=function(e){return r(e,'camunda:ServiceTaskLike')},l.isDmnCapable=function(e){return r(e,'camunda:DmnCapable')},l.isExternalCapable=function(e){return r(e,'camunda:ExternalCapable')},l.isListener=function(e){return r(e,'camunda:TaskListener')||r(e,'camunda:ExecutionListener')},l.getServiceTaskLikeBusinessObject=function(e){if(r(e,'bpmn:IntermediateThrowEvent')||r(e,'bpmn:EndEvent')){var t=a.getMessageEventDefinition(e)
t&&(e=t)}return this.isServiceTaskLike(e)&&o(e)},l.getEVFServiceTaskLikeBusinessObject=function(e){if(r(e,'bpmn:IntermediateThrowEvent')||r(e,'bpmn:EndEvent')){var t=a.getMessageEventDefinition(e)
t&&(e=t)}return this.isEVFServiceTaskLike(e)&&o(e)},l.getFTServiceTaskLikeBusinessObject=function(e){if(r(e,'bpmn:IntermediateThrowEvent')||r(e,'bpmn:EndEvent')){var t=a.getMessageEventDefinition(e)
t&&(e=t)}return this.isFTServiceTaskLike(e)&&o(e)},l.getImplementationType=function(e){var t=this.getServiceTaskLikeBusinessObject(e)
if(!t){if(!this.isListener(e)){return}
t=e}if(this.isDmnCapable(t)){if(void 0!==t.get('camunda:decisionRef')){return'dmn'}}if(this.isServiceTaskLike(t)){var n=s.getExtensionElements(t,'camunda:Connector')
if(void 0!==n){return'connector'}}var t=this.getEVFServiceTaskLikeBusinessObject(e)
if(this.isEVFServiceTaskLike(t)){var n=s.getExtensionElements(t,'camunda:EVFConnector')
if(void 0!==n){return'evfconnector'}}var t=this.getFTServiceTaskLikeBusinessObject(e)
if(this.isFTServiceTaskLike(t)){var n=s.getExtensionElements(t,'camunda:FinalizeTransactionConnector')
if(void 0!==n){return'finalizetransactionconnector'}}if(this.isExternalCapable(t)){if('external'===t.get('camunda:type')){return'external'}}if(void 0!==t.get('camunda:class')){return'class'}
if(void 0!==t.get('camunda:expression')){return'expression'}
if(void 0!==t.get('camunda:delegateExpression')){return'delegateExpression'}
if(this.isListener(t)){if(void 0!==t.get('script')){return'script'}}}},{'./EventDefinitionHelper':26,'./ExtensionElementsHelper':27,'bpmn-js/lib/util/ModelUtil':178}],30:[function(e,t,n){'use strict'
function i(e,t,n){var i=l.getExtensionElements(e,t)||[]
return n?(i[0]||{})[n]||[]:i}function r(e,t,n){var i=u.getInputOutput(e,n)
return i&&i.get(t)||[]}var o=e('bpmn-js/lib/util/ModelUtil'),a=o.is,s=o.getBusinessObject,l=e('./ExtensionElementsHelper'),c=e('./ImplementationTypeHelper'),u={}
t.exports=u,u.getInputOutput=function(e,t){if(!t){return(i(s(e),'camunda:InputOutput')||[])[0]}var n=this.getConnector(e)
return n&&n.get('inputOutput')},u.getConnector=function(e){var t=c.getServiceTaskLikeBusinessObject(e)
return t&&(i(t,'camunda:Connector')||[])[0]},u.getEVFConnector=function(e){var t=c.getEVFServiceTaskLikeBusinessObject(e)
return t&&(i(t,'camunda:EVFConnector')||[])[0]},u.getFTConnector=function(e){var t=c.getFTServiceTaskLikeBusinessObject(e)
return t&&(i(t,'camunda:FinalizeTransactionConnector')||[])[0]},u.getInputParameters=function(e,t){return r.apply(this,[e,'inputParameters',t])},u.getOutputParameters=function(e,t){return r.apply(this,[e,'outputParameters',t])},u.getInputParameter=function(e,t,n){return this.getInputParameters(e,t)[n]},u.getOutputParameter=function(e,t,n){return this.getOutputParameters(e,t)[n]},u.isInputOutputSupported=function(e,t){var n=s(e)
return t||a(n,'bpmn:FlowNode')&&!a(n,'bpmn:StartEvent')&&!a(n,'bpmn:BoundaryEvent')&&!(a(n,'bpmn:SubProcess')&&n.get('triggeredByEvent'))},u.areOutputParametersSupported=function(e,t){var n=s(e)
return t||!a(n,'bpmn:EndEvent')&&!n.loopCharacteristics}},{'./ExtensionElementsHelper':27,'./ImplementationTypeHelper':29,'bpmn-js/lib/util/ModelUtil':178}],31:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('./CmdHelper'),a={}
t.exports=a,a.modifyProcessBusinessObject=function(e,t,n){if(!i(e,'bpmn:Participant')){return{}}
var a=r(e).get('processRef'),s={}
return s[t]=n[t],o.updateBusinessObject(e,a,s)},a.getProcessBusinessObject=function(e,t){if(!i(e,'bpmn:Participant')){return{}}
var n=r(e).get('processRef'),o={}
return o[t]=n.get(t),o}},{'./CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178}],32:[function(e,t,n){t.exports={__depends__:[e('./cmd')],__init__:['propertiesPanel'],propertiesPanel:['type',e('./PropertiesPanel')]}},{'./PropertiesPanel':5,'./cmd':12}],33:[function(e,t,n){'use strict'
var i=e('../../../factory/EntryFactory'),r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('../../../helper/CmdHelper')
t.exports=function(e,t,n){var a=i.textArea({id:'documentation',description:'',label:'Description',modelProperty:'documentation'})
a.set=function(e,t){var i=r(e),a=[]
return void 0!==t.documentation&&''!==t.documentation&&a.push(n.create('bpmn:Documentation',{text:t.documentation})),o.setList(e,i,'documentation',a)},a.get=function(e){var t=r(e),n=t.get('documentation')
return{documentation:n.length>0?n[0].text:''}},e.entries.push(a)}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178}],34:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('../../../helper/EventDefinitionHelper'),a=e('lodash/collection/forEach'),s=e('./implementation/MessageEventDefinition'),l=e('./implementation/SignalEventDefinition'),c=e('./implementation/ErrorEventDefinition'),u=e('./implementation/EscalationEventDefinition'),p=e('./implementation/TimerEventDefinition'),d=e('./implementation/CompensateEventDefinition')
t.exports=function(e,t,n,f){a(['bpmn:StartEvent','bpmn:EndEvent','bpmn:IntermediateThrowEvent','bpmn:BoundaryEvent','bpmn:IntermediateCatchEvent'],function(r){if(i(t,r)){var a=o.getMessageEventDefinition(t),c=o.getSignalEventDefinition(t)
a&&s(e,t,n,a),c&&l(e,t,n,c)}}),i(t,'bpmn:ReceiveTask')&&s(e,t,n,r(t)),a(['bpmn:StartEvent','bpmn:BoundaryEvent','bpmn:EndEvent'],function(r){if(i(t,r)){var a=i(t,'bpmn:StartEvent')||i(t,'bpmn:BoundaryEvent'),s=o.getErrorEventDefinition(t)
s&&c(e,t,n,s,a)}}),a(['bpmn:StartEvent','bpmn:BoundaryEvent','bpmn:IntermediateThrowEvent','bpmn:EndEvent'],function(r){if(i(t,r)){var a=i(t,'bpmn:StartEvent')||i(t,'bpmn:BoundaryEvent'),s=o.getEscalationEventDefinition(t)
s&&u(e,t,n,s,a)}}),a(['bpmn:StartEvent','bpmn:BoundaryEvent','bpmn:IntermediateCatchEvent'],function(r){if(i(t,r)){var a=o.getTimerEventDefinition(t)
a&&p(e,t,n,a)}}),a(['bpmn:EndEvent','bpmn:IntermediateThrowEvent'],function(r){if(i(t,r)){var a=o.getCompensateEventDefinition(t)
a&&d(e,t,n,a,f)}})}},{'../../../helper/EventDefinitionHelper':26,'./implementation/CompensateEventDefinition':39,'./implementation/ErrorEventDefinition':41,'./implementation/EscalationEventDefinition':42,'./implementation/MessageEventDefinition':44,'./implementation/SignalEventDefinition':46,'./implementation/TimerEventDefinition':47,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382}],35:[function(e,t,n){'use strict'
var i=e('../../../factory/EntryFactory'),r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('../../../Utils'),a=e('../../../helper/CmdHelper')
t.exports=function(e,t){e.entries.push(i.validationAwareTextField({id:'id',description:'',label:'Id',modelProperty:'id',getProperty:function(e){return e.id},setProperty:function(e,t){return a.updateProperties(e,t)},validate:function(e,t){var n=t.id,i=r(e),a=o.isIdValid(i,n)
return a?{id:a}:{}}}))}},{'../../../Utils':6,'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178}],36:[function(e,t,n){'use strict'
function i(e){var t=o(e),n=null
return t.eventDefinitions&&l(t.eventDefinitions,function(e){r(e,'bpmn:LinkEventDefinition')&&(n=e)}),n}var r=e('bpmn-js/lib/util/ModelUtil').is,o=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,a=e('../../../factory/EntryFactory'),s=e('../../../helper/CmdHelper'),l=e('lodash/collection/forEach')
t.exports=function(e,t){l(['bpmn:IntermediateThrowEvent','bpmn:IntermediateCatchEvent'],function(n){if(r(t,n)){var o=i(t)
if(o){var l=a.textField({id:'link-event',description:'',label:'Link Name',modelProperty:'link-name'})
l.get=function(){return{'link-name':o.get('name')}},l.set=function(e,t){var n={name:t['link-name']}
return s.updateBusinessObject(e,o,n)},e.entries.push(l)}}})}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382}],37:[function(e,t,n){'use strict'
var i=e('./implementation/Name'),r=e('bpmn-js/lib/util/ModelUtil').is
t.exports=function(e,t){r(t,'bpmn:Collaboration')||(e.entries=e.entries.concat(i(t)))}},{'./implementation/Name':45,'bpmn-js/lib/util/ModelUtil':178}],38:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('../../../factory/EntryFactory'),o=e('../../../helper/ParticipantHelper'),a=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,s=e('./implementation/Name')
t.exports=function(e,t){var n=a(t)
if(i(t,'bpmn:Process')||i(t,'bpmn:Participant')&&n.get('processRef')){if(i(t,'bpmn:Participant')){var l=r.textField({id:'process-id',description:'',label:'Process Id',modelProperty:'processId'})
l.get=function(e){return{processId:o.getProcessBusinessObject(e,'id').id}},l.set=function(e,t){return o.modifyProcessBusinessObject(e,'id',{id:t.processId})},e.entries.push(l)
var c=s(t,{id:'process-name',label:'Process Name'})[0]
c.get=function(e){return o.getProcessBusinessObject(e,'name')},c.set=function(e,t){return o.modifyProcessBusinessObject(e,'name',t)},e.entries.push(c)}var u=r.checkbox({id:'process-is-executable',description:'Defines if a process is executable by a process engine',label:'Executable',modelProperty:'isExecutable'})
i(t,'bpmn:Participant')&&(u.get=function(e){return o.getProcessBusinessObject(e,'isExecutable')},u.set=function(e,t){return o.modifyProcessBusinessObject(e,'isExecutable',t)}),e.entries.push(u)}}},{'../../../factory/EntryFactory':15,'../../../helper/ParticipantHelper':31,'./implementation/Name':45,'bpmn-js/lib/util/ModelUtil':178}],39:[function(e,t,n){'use strict'
function i(e){return o(e,'bpmn:Activity')}function r(e){return o(e,'bpmn:BoundaryEvent')}function o(e,t){return h.filterElementsByType(e.flowElements,t)}function a(e,t){var n=e.id
return!!y(t,function(e){var t=f.getCompensateEventDefinition(e),i=e.attachedToRef
return t&&i&&i.id===n})}function s(e,t){return v(e,'bpmn:SubProcess')&&!e.triggeredByEvent||v(e,'bpmn:CallActivity')||a(e,t)}function l(e){var t=r(e)
return b(i(e),function(e){return s(e,t)})}function c(e){var t=m(e),n=t.$parent,i=l(n)
return v(n,'bpmn:SubProcess')&&n.triggeredByEvent&&(n=n.$parent)&&(i=i.concat(l(n))),i}function u(e){var t=[{value:''}],n=c(e)
return g(n,function(e){var n=e.id,i=(e.name?e.name+' ':'')+'(id='+n+')'
t.push({value:n,name:i})}),t}var p=e('../../../../factory/EntryFactory'),d=e('../../../../helper/CmdHelper'),f=e('../../../../helper/EventDefinitionHelper'),h=e('../../../../Utils'),m=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,v=e('bpmn-js/lib/util/ModelUtil').is,g=e('lodash/collection/forEach'),y=e('lodash/collection/find'),b=e('lodash/collection/filter')
t.exports=function(e,t,n,i,r){e.entries.push(p.checkbox({id:'wait-for-completion',description:'Configure compensation event definition',label:'Wait for Completion',modelProperty:'waitForCompletion',get:function(e,t){return{waitForCompletion:i.waitForCompletion}},set:function(e,t){return t.waitForCompletion=t.waitForCompletion||void 0,d.updateBusinessObject(e,i,t)}})),e.entries.push(p.selectBox({id:'activity-ref',label:'Activity Ref',selectOptions:u(t),modelProperty:'activityRef',get:function(e,t){var n=i.activityRef
return n=n&&n.id,{activityRef:n||''}},set:function(e,t){var n=t.activityRef||void 0
return n=n&&m(r.get(n)),d.updateBusinessObject(e,i,{activityRef:n})}}))}},{'../../../../Utils':6,'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/EventDefinitionHelper':26,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/filter':380,'lodash/collection/find':381,'lodash/collection/forEach':382}],40:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n,o){var a=o.id||'element-property',s=o.label,l=o.referenceProperty,c=o.modelProperty||'name',u=o.shouldValidate||!1,p=i.textField({id:a,label:s,modelProperty:c,get:function(e,n){var i=t.get(l),r={}
return r[c]=i&&i.get(c),r},set:function(e,n,i){var o=t.get(l),a={}
return a[c]=n[c]||void 0,r.updateBusinessObject(e,o,a)},disabled:function(e,n){return!t.get(l)}})
return u&&(p.validate=function(e,n,i){if(t.get(l)&&!n[c]){var r={}
return r[c]='Must provide a value',r}}),[p]}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24}],41:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper'),o=e('./EventDefinitionReference'),a=e('./ElementReferenceProperty')
t.exports=function(e,t,n,s,l){e.entries=e.entries.concat(o(t,s,n,{label:'Error',description:'Configure the error element',elementName:'error',elementType:'bpmn:Error',referenceProperty:'errorRef',newElementIdPrefix:'Error_'})),e.entries=e.entries.concat(a(t,s,n,{id:'error-element-name',label:'Error Name',referenceProperty:'errorRef',modelProperty:'name',shouldValidate:!0})),e.entries=e.entries.concat(a(t,s,n,{id:'error-element-code',label:'Error Code',referenceProperty:'errorRef',modelProperty:'errorCode'})),l&&e.entries.push(i.textField({id:'errorCodeVariable',label:'Error Code Variable',modelProperty:'errorCodeVariable',get:function(e){return{errorCodeVariable:s.get('camunda:errorCodeVariable')}},set:function(e,t){return r.updateBusinessObject(e,s,{'camunda:errorCodeVariable':t.errorCodeVariable||void 0})}}))}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'./ElementReferenceProperty':40,'./EventDefinitionReference':43}],42:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper'),o=e('./EventDefinitionReference'),a=e('./ElementReferenceProperty')
t.exports=function(e,t,n,s,l){e.entries=e.entries.concat(o(t,s,n,{label:'Escalation',description:'Configure the escalation element',elementName:'escalation',elementType:'bpmn:Escalation',referenceProperty:'escalationRef',newElementIdPrefix:'Escalation_'})),e.entries=e.entries.concat(a(t,s,n,{id:'escalation-element-name',label:'Escalation Name',referenceProperty:'escalationRef',modelProperty:'name',shouldValidate:!0})),e.entries=e.entries.concat(a(t,s,n,{id:'escalation-element-code',label:'Escalation Code',referenceProperty:'escalationRef',modelProperty:'escalationCode'})),l&&e.entries.push(i.textField({id:'escalationCodeVariable',label:'Escalation Code Variable',modelProperty:'escalationCodeVariable',get:function(e){return{escalationCodeVariable:s.get('camunda:escalationCodeVariable')}},set:function(e,t){return r.updateBusinessObject(e,s,{'camunda:escalationCodeVariable':t.escalationCodeVariable||void 0})}}))}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'./ElementReferenceProperty':40,'./EventDefinitionReference':43}],43:[function(e,t,n){'use strict'
function i(e){return a(f,e.parentElement)}function r(e,t,n){var i=d.findRootElementsByType(e,t)
return u(i,function(e){return e.id===n})}var o=e('../../../../helper/CmdHelper'),a=e('min-dom/lib/query'),s=e('min-dom/lib/domify'),l=e('min-dom/lib/attr'),c=e('lodash/collection/forEach'),u=e('lodash/collection/find'),p=e('../../../../helper/ElementHelper'),d=e('../../../../Utils'),f='select[name=selectedElement]'
t.exports=function(e,t,n,a){var u=a.elementName||'',h=a.elementType,m=a.referenceProperty,v=a.newElementIdPrefix||'elem_',g=a.label||'',y=a.description||'',b=[]
return b.push({id:'event-definitions-'+u,description:y,html:'<div class="pp-row pp-select"><label for="camunda-'+u+'">'+g+'</label><div class="pp-field-wrapper"><select id="camunda-'+u+'" name="selectedElement" data-value></select><button class="add" id="addElement" data-action="addElement"><span>+</span></button></div></div>',get:function(e,n){d.updateOptionsDropDown(f,t,h,n)
var i=t.get(m)
return{selectedElement:i&&i.id||''}},set:function(e,i){var a=i.selectedElement,s={}
if(!a||void 0===a){return s[m]=void 0,o.updateBusinessObject(e,t,s)}
var l=[],c=r(t,h,a)
if(!c){var u=d.getRoot(t)
c=p.createElement(h,{name:a},u,n),l.push(o.addAndRemoveElementsFromList(e,u,'rootElements',null,[c]))}return s[m]=c,l.push(o.updateBusinessObject(e,t,s)),l},addElement:function(e,t){var n=d.nextId(v),r=s('<option value="'+n+'"> (id='+n+')</option>'),o=i(t)
return o.insertBefore(r,o.firstChild),c(o,function(e){e.value===n?l(e,'selected','selected'):l(e,'selected',null)}),!0}}),b}},{'../../../../Utils':6,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'lodash/collection/find':381,'lodash/collection/forEach':382,'min-dom/lib/attr':525,'min-dom/lib/domify':530,'min-dom/lib/query':533}],44:[function(e,t,n){'use strict'
var i=e('./EventDefinitionReference'),r=e('./ElementReferenceProperty')
t.exports=function(e,t,n,o){e.entries=e.entries.concat(i(t,o,n,{label:'Message',description:'Configure the message element',elementName:'message',elementType:'bpmn:Message',referenceProperty:'messageRef',newElementIdPrefix:'Message_'})),e.entries=e.entries.concat(r(t,o,n,{id:'message-element-name',label:'Message Name',referenceProperty:'messageRef',modelProperty:'name',shouldValidate:!0}))}},{'./ElementReferenceProperty':40,'./EventDefinitionReference':43}],45:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory')
t.exports=function(e,t){t=t||{}
var n=t.id||'name',r=t.label||'Name'
return[i.textField({id:n,label:r,modelProperty:'name',expandable:!0})]}},{'../../../../factory/EntryFactory':15}],46:[function(e,t,n){'use strict'
var i=e('./EventDefinitionReference'),r=e('./ElementReferenceProperty')
t.exports=function(e,t,n,o){e.entries=e.entries.concat(i(t,o,n,{label:'Signal',description:'Configure the signal element',elementName:'signal',elementType:'bpmn:Signal',referenceProperty:'signalRef',newElementIdPrefix:'Signal_'})),e.entries=e.entries.concat(r(t,o,n,{id:'signal-element-name',label:'Signal Name',referenceProperty:'signalRef',modelProperty:'name',shouldValidate:!0}))}},{'./ElementReferenceProperty':40,'./EventDefinitionReference':43}],47:[function(e,t,n){'use strict'
function i(e){return void 0!==e.get('timeDate')?'timeDate':void 0!==e.get('timeCycle')?'timeCycle':void 0!==e.get('timeDuration')?'timeDuration':void 0}function r(e,t,n){return t=t||void 0,a.createElement('bpmn:FormalExpression',{body:t},e,n)}function o(e,t,n,o){var a=[{value:'timeDate',name:'Date'},{value:'timeDuration',name:'Duration'},{value:'timeCycle',name:'Cycle'}]
e.entries.push(l.selectBox({id:'timer-event-definition-type',label:'Timer Definition Type',selectOptions:a,emptyParameter:!0,modelProperty:'timerDefinitionType',get:function(e,t){return{timerDefinitionType:i(o)||''}},set:function(e,t){var a={timeDuration:void 0,timeDate:void 0,timeCycle:void 0},l=t.timerDefinitionType
if(t.timerDefinitionType){var c,u=i(o)
if(u){c=o.get(u).get('body')}a[l]=r(o,c,n)}return s.updateBusinessObject(e,o,a)}})),e.entries.push(l.textField({id:'timer-event-definition',label:'Timer Definition',modelProperty:'timerDefinition',get:function(e,t){var n=i(o),r=n&&o.get(n)
return{timerDefinition:r&&r.get('body')}},set:function(e,t){var n=i(o),r=n&&o.get(n)
if(r){return s.updateBusinessObject(e,r,{body:t.timerDefinition||void 0})}},validate:function(e){var t=i(o),n=t&&o.get(t)
if(n){if(!n.get('body')){return{timerDefinition:'Must provide a value'}}}},disabled:function(e){return!i(o)}}))}var a=e('../../../../helper/ElementHelper'),s=e('../../../../helper/CmdHelper'),l=e('../../../../factory/EntryFactory')
t.exports=o},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25}],48:[function(e,t,n){'use strict'
function i(e,t,n,i){var r={id:'general',label:'General',entries:[]}
E(r,e),B(r,e),g(r,e),D(r,e,i)
var o={id:'customField',label:'Custom Fields',entries:[]}
O(o,e,i,t)
var a={id:'details',label:'Details',entries:[]}
w(a,e,t),_(a,e),j(a,e,t),b(a,e),T(a,e,t),y(a,e,t,n),A(a,e,t),k(a,e)
var s={id:'multiInstance',label:'Multi Instance',entries:[]}
S(s,e,t),C({id:'async',label:'Asynchronous Continuations',entries:[]},e,t)
var l={id:'jobConfiguration',label:'Job Configuration',entries:[],enabled:J}
q(l,e,t)
var c={id:'externalTaskConfiguration',label:'External Task Configuration',entries:[],enabled:K}
$(c,e,t)
var u={id:'documentation',label:'Description',entries:[]}
return x(u,e,t),[r,o,a,c,s,l,u]}function r(e,t,n){var i={id:'variables',label:'Variables',entries:[]}
return M(i,e,t),[i]}function o(e,t,n){var i={id:'forms',label:'Forms',entries:[]}
return R(i,e,t),[i]}function a(e,t,n){var i={id:'taskListeners',label:'Task Listeners',entries:[]}
return P(i,e,t),[i]}function s(e,t,n){var i={id:'input-output',label:'Parameters',entries:[]},r=L(i,e,t),o={id:'input-output-parameter',entries:[],enabled:function(e,t){return r.getSelectedParameter(e,t)},label:function(e,t){var n=r.getSelectedParameter(e,t)
return Z(n)}}
return N(o,e,t,r),[i,o]}function l(e,t,n){var i={id:'evfconnector-details',label:'Details',entries:[]}
return H(i,e,t),[i]}function c(e,t,n){var i={id:'ftconnector-details',label:'Details',entries:[]}
return V(i,e,t),[i]}function u(e,t,n){var i={id:'connector-details',label:'Details',entries:[]}
I(i,e,t)
var r={id:'connector-input-output',label:'Input/Output',entries:[]},o=F(r,e,t),a={id:'connector-input-output-parameter',entries:[],enabled:function(e,t){return o.getSelectedParameter(e,t)},label:function(e,t){var n=o.getSelectedParameter(e,t)
return Z(n)}}
return U(a,e,t,o),[i,r,a]}function p(e,t,n){var i={id:'extensionElements-properties',label:'Properties',entries:[]}
return z(i,e,t),[i]}function d(e,t,n,d){h.call(this,e),this.getTabs=function(e){var f={id:'general',label:'General',groups:i(e,t,n,d)},h={id:'variables',label:'Variables',groups:r(e,t,n)},m={id:'forms',label:'Forms',groups:o(e,t,n)},v=(a(e,t,n),{id:'input-output',label:'Input/Output',groups:s(e,t,n)}),g={id:'connector',label:'Rest Connector',groups:u(e,t,n),enabled:function(e){var t=X.getServiceTaskLikeBusinessObject(e)
return t&&'connector'===X.getImplementationType(t)}},y={id:'evfconnector',label:'EVF Connector',groups:l(e,t,n),enabled:function(e){var t=X.getServiceTaskLikeBusinessObject(e)
return t&&'evfconnector'===X.getImplementationType(t)}},b={id:'finalizetransactionconnector',label:'Finalize Transaction Connector',groups:c(e,t,n),enabled:function(e){var t=X.getServiceTaskLikeBusinessObject(e)
return t&&'finalizetransactionconnector'===X.getImplementationType(t)}}
p(e,t,n)
return'bpmn:Task'===e.type?[f,h,g,m]:'bpmn:UserTask'===e.type?[f,h,m]:'bpmn:BusinessRuleTask'===e.type?[f,h,g,m,v]:[f,h,g,y,b]}}var f=e('inherits'),h=e('../../PropertiesActivator'),m=e('../../helper/AsyncCapableHelper'),v=e('../../helper/ImplementationTypeHelper'),g=e('../bpmn/parts/ProcessProps'),y=e('../bpmn/parts/EventProps'),b=e('../bpmn/parts/LinkProps'),x=e('../bpmn/parts/DocumentationProps'),E=(e('../bpmn/parts/IdProps'),e('../bpmn/parts/NameProps')),w=e('./parts/ServiceTaskDelegateProps'),_=e('./parts/UserTaskProps'),C=e('./parts/AsynchronousContinuationProps'),T=e('./parts/CallActivityProps'),S=e('./parts/MultiInstanceLoopProps'),A=e('./parts/SequenceFlowProps'),j=(e('./parts/ExecutionListenerProps'),e('./parts/ScriptTaskProps')),P=e('./parts/TaskListenerProps'),R=e('./parts/FormProps'),k=e('./parts/StartEventInitiator'),M=e('./parts/VariableMappingProps'),B=e('./parts/VersionTagProps'),D=e('./element-templates/parts/ChooserProps'),O=e('./element-templates/parts/CustomProps'),L=e('./parts/InputOutputProps'),N=e('./parts/InputOutputParameterProps'),I=e('./parts/ConnectorDetailProps'),F=e('./parts/ConnectorInputOutputProps'),U=e('./parts/ConnectorInputOutputParameterProps'),H=e('./parts/EVFConnectorDetailProps'),V=e('./parts/FinalizeTransactionDetailProps'),z=e('./parts/PropertiesProps'),q=e('./parts/JobConfigurationProps'),$=e('./parts/ExternalTaskConfigurationProps'),W=e('bpmn-js/lib/util/ModelUtil').is,G=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,Y=e('../../helper/EventDefinitionHelper'),X=e('../../helper/ImplementationTypeHelper'),K=function(e){var t=G(e)
if(W(e,'bpmn:Process')||W(e,'bpmn:Participant')&&t.get('processRef')){return!0}
var n=v.getServiceTaskLikeBusinessObject(e),i='external'===v.getImplementationType(n)
return!!v.isExternalCapable(n)&&i},J=function(e){var t=G(e)
if(W(e,'bpmn:Process')||W(e,'bpmn:Participant')&&t.get('processRef')){return!0}
var n=G(e)
return!(!m.isAsyncBefore(n)&&!m.isAsyncAfter(n))||!!W(e,'bpmn:Event')&&!!Y.getTimerEventDefinition(e)},Z=function(e){return W(e,'camunda:InputParameter')?'Input Parameter':W(e,'camunda:OutputParameter')?'Output Parameter':''}
d.$inject=['eventBus','bpmnFactory','elementRegistry','elementTemplates'],f(d,h),t.exports=d},{'../../PropertiesActivator':4,'../../helper/AsyncCapableHelper':23,'../../helper/EventDefinitionHelper':26,'../../helper/ImplementationTypeHelper':29,'../bpmn/parts/DocumentationProps':33,'../bpmn/parts/EventProps':34,'../bpmn/parts/IdProps':35,'../bpmn/parts/LinkProps':36,'../bpmn/parts/NameProps':37,'../bpmn/parts/ProcessProps':38,'./element-templates/parts/ChooserProps':56,'./element-templates/parts/CustomProps':57,'./parts/AsynchronousContinuationProps':59,'./parts/CallActivityProps':60,'./parts/ConnectorDetailProps':61,'./parts/ConnectorInputOutputParameterProps':62,'./parts/ConnectorInputOutputProps':63,'./parts/EVFConnectorDetailProps':64,'./parts/ExecutionListenerProps':65,'./parts/ExternalTaskConfigurationProps':66,'./parts/FinalizeTransactionDetailProps':67,'./parts/FormProps':68,'./parts/InputOutputParameterProps':69,'./parts/InputOutputProps':70,'./parts/JobConfigurationProps':71,'./parts/MultiInstanceLoopProps':72,'./parts/PropertiesProps':73,'./parts/ScriptTaskProps':74,'./parts/SequenceFlowProps':75,'./parts/ServiceTaskDelegateProps':76,'./parts/StartEventInitiator':77,'./parts/TaskListenerProps':78,'./parts/UserTaskProps':79,'./parts/VariableMappingProps':80,'./parts/VersionTagProps':81,'bpmn-js/lib/util/ModelUtil':178,inherits:364}],49:[function(e,t,n){'use strict'
function i(e,t,n){var i,r,o=e.scriptFormat
return o?r=n.create('camunda:Script',{scriptFormat:o,value:t}):i=t,n.create('camunda:InputParameter',{name:e.name,value:i,definition:r})}function r(e,t,n){var i,r,o=e.scriptFormat
return o?r=n.create('camunda:Script',{scriptFormat:o,value:e.source}):i=e.source,n.create('camunda:OutputParameter',{name:t,value:i,definition:r})}function o(e,t,n){return n.create('camunda:Property',{name:e.name,value:t||''})}t.exports.createInputParameter=i,t.exports.createOutputParameter=r,t.exports.createCamundaProperty=o},{}],50:[function(e,t,n){'use strict'
function i(e,t){u.call(this,e,p),this.isEntryVisible=function(e,n){var i=c(n,t)
if(i&&!o(e,i)){return!1}},this.isPropertyEditable=function(e,n,i){var r=c(i,t)
if(r&&!a(e,r)){return!1}}}function r(e){return d.test(e.id)}function o(e,t){var n=e.id
if('elementTemplate-chooser'===n||r(e)){return!0}
var i=t.entriesVisible||f
if('boolean'==typeof i){return i}
var o=i._all||!1,a=i[n]
return!0===o&&!1!==a||!1===o&&!0===a}function a(e,t){var n
return!r(e)||(n=s(t,e))&&!1!==n.editable}function s(e,t){var n=parseInt(t.id.replace('custom-'+e.id+'-',''),10)
if(isNaN(n)){throw new Error('cannot extract property index for entry <'+t.id+'>')}
return e.properties[n]}var l=e('inherits'),c=e('./Helper').getTemplate,u=e('../../../PropertiesActivator'),p=1100
i.$inject=['eventBus','elementTemplates'],l(i,u),t.exports=i
var d=/^custom-/,f={_all:!1,id:!0,name:!0}},{'../../../PropertiesActivator':4,'./Helper':52,inherits:364}],51:[function(e,t,n){'use strict'
function i(e){this._errors=[],this._all={},this.clear=function(){this._errors=[],this._all={}},this.logError=function(e,t){return'string'==typeof e&&(t&&(e='template(id: '+t.id+') '+e),e=new Error(e)),this._errors.push(e),e},this.addAll=function(e){o(e)?e.forEach(this.add,this):this.logError('templates must be []')},this.add=function(e){var t,n=e.id,i=e.appliesTo,r=e.properties
return n?this._all[n]?this.logError('template id <'+n+'> already used'):(o(i)||(t=this.logError('missing appliesTo=[]',e)),o(r)?this._validateProperties(r)||(t=new Error('invalid properties')):t=this.logError('missing properties=[]',e),void(t||(this._all[n]=e))):this.logError('missing template id')},this._validateProperties=function(e){var t=e.filter(this._validateProperty,this)
return e.length===t.length},this._validateProperty=function(e){var t,n=e.type,i=e.binding
if(-1===l.indexOf(n)&&(t=this.logError('invalid property type <'+n+'>; must be any of { '+l.join(', ')+' }')),n===s&&(o(e.choices)?e.choices.every(r)||(t=this.logError('{ name, value } must be specified for '+s+' choices')):t=this.logError('must provide choices=[] with '+s+' type')),!i){return this.logError('property missing binding')}
var a=i.type
return-1===f.indexOf(a)&&(t=this.logError('invalid property.binding type <'+a+'>; must be any of { '+f.join(', ')+' }')),a!==c&&a!==u&&a!==p||i.name||(t=this.logError('property.binding <'+a+'> requires name')),a===d&&(i.source||(t=this.logError('property.binding <'+a+'> requires source'))),!t},this.get=function(e){return this._all[e]},this.getAll=function(){return this._all},this.forEach=function(e,t){return a(this._all,e,t)},e&&this.addAll(e)}function r(e){return'name'in e&&'value'in e}var o=e('lodash/lang/isArray'),a=e('lodash/collection/forEach'),s='Dropdown',l=['String','Text','Boolean',s],c='property',u='camunda:property',p='camunda:inputParameter',d='camunda:outputParameter',f=[c,u,p,d]
i.$inject=['config.elementTemplates'],t.exports=i},{'lodash/collection/forEach':382,'lodash/lang/isArray':502}],52:[function(e,t,n){'use strict'
function i(e){var t=c(e)
if(t){return t.get(d)}}function r(e,t){var n=i(e)
return n&&t.get(n)}function o(e,t){var n,i=c(e)
return n=u(i,'bpmn:ExtensionElements')?i:i.extensionElements,n?p(n.get('values'),function(e){return u(e,t)}):null}function a(e,t){return p(e.get('values'),function(e){return e.name===t.name})}function s(e,t){var n=e.get('inputParameters')
return p(n,function(e){return e.name===t.name})}function l(e,t){var n=e.get('outputParameters')
return p(n,function(e){var n=e.value
if(!t.scriptFormat){return n===t.source}
var i=e.definition
return!(!i||t.scriptFormat!==i.scriptFormat)&&i.value===t.source})}var c=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,u=e('bpmn-js/lib/util/ModelUtil').is,p=e('lodash/collection/find'),d='camunda:modelerTemplate'
t.exports.TEMPLATE_ATTR=d,t.exports.getTemplateId=i,t.exports.getTemplate=r,t.exports.findExtension=o,t.exports.findCamundaProperty=a,t.exports.findInputParameter=s,t.exports.findOutputParameter=l},{'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/find':381}],53:[function(e,t,n){'use strict'
function i(e,t,n){function i(t){var i=t.businessObject,r=i.extensionElements
return r||(r=n.create('bpmn:ExtensionElements',{values:[]}),e.updateProperties(t,{extensionElements:r})),r}function l(t,n){e.updateProperties(t,{'camunda:modelerTemplate':n&&n.id})}function c(e,r){var o,l,c=a(r,n)
c&&(o=i(e),l=s(e,'camunda:InputOutput'),t.execute('properties-panel.update-businessobject-list',{element:e,currentObject:o,propertyName:'values',objectsToAdd:[c],objectsToRemove:l?[l]:[]}))}function u(e,r){var a,l,c=o(r,n)
c&&(a=i(e),l=s(e,'camunda:Properties'),t.execute('properties-panel.update-businessobject-list',{element:e,currentObject:a,propertyName:'values',objectsToAdd:[c],objectsToRemove:l?[l]:[]}))}function p(t,i){var o=r(i,n)
Object.keys(o).length>0&&e.updateProperties(t,o)}this.preExecute=function(e){var t=e.element,n=e.newTemplate
l(t,n),n&&(c(t,n),u(t,n),p(t,n))}}function r(e,t){var n={}
return e.properties.forEach(function(e){var i,r=e.binding,o=r.name
'property'===r.type&&(i='conditionExpression'===o?t.create('bpmn:FormalExpression',{body:e.value,language:r.scriptFormat}):e.value,n[o]=i,-1!==p.indexOf(o)&&p.forEach(function(e){e!==o&&(n[e]=void 0)}))}),n}function o(e,t){var n=[]
if(e.properties.forEach(function(e){var i=e.binding
'camunda:property'===i.type&&n.push(l(i,e.value,t))}),n.length){return t.create('camunda:Properties',{values:n})}}function a(e,t){var n=[],i=[]
if(e.properties.forEach(function(e){var r=e.binding,o=r.type
'camunda:inputParameter'===o&&n.push(c(r,e.value,t)),'camunda:outputParameter'===o&&i.push(u(r,e.value,t))}),i.length||n.length){return t.create('camunda:InputOutput',{inputParameters:n,outputParameters:i})}}var s=e('../Helper').findExtension,l=e('../CreateHelper').createCamundaProperty,c=e('../CreateHelper').createInputParameter,u=e('../CreateHelper').createOutputParameter,p=['camunda:class','camunda:delegateExpression','camunda:expression']
i.$inject=['modeling','commandStack','bpmnFactory'],t.exports=i},{'../CreateHelper':49,'../Helper':52}],54:[function(e,t,n){'use strict'
function i(e){e.registerHandler('propertiesPanel.camunda.changeTemplate',r)}var r=e('./ChangeElementTemplateHandler')
i.$inject=['commandStack'],t.exports={__init__:[i]}},{'./ChangeElementTemplateHandler':53}],55:[function(e,t,n){t.exports={__depends__:[e('./cmd')],__init__:['customElementsPropertiesActivator'],customElementsPropertiesActivator:['type',e('./CustomElementsPropertiesActivator')],elementTemplates:['type',e('./ElementTemplates')]}},{'./CustomElementsPropertiesActivator':50,'./ElementTemplates':51,'./cmd':54}],56:[function(e,t,n){'use strict'
function i(e,t){return t.reduce(function(t,n){return t||s(e,n)},!1)}function r(e,t,n){var i=l(e,n),r=n.get(t)
if(i!==r){return{cmd:'propertiesPanel.camunda.changeTemplate',context:{element:e,oldTemplate:i,newTemplate:r}}}}function o(e,t){var n,r=c(e),o=[{name:'',value:''}]
return t.forEach(function(t){i(e,t.appliesTo)&&(t.id===r&&(n=!0),o.push({name:t.name,value:t.id}))}),r&&!n&&o.push({name:'[unknown template: '+r+']',value:r}),o}var a=e('../../../../factory/EntryFactory'),s=e('bpmn-js/lib/util/ModelUtil').is,l=e('../Helper').getTemplate,c=e('../Helper').getTemplateId,u=e('../Helper').TEMPLATE_ATTR
t.exports=function(e,t,n){var i=o(t,n)
1!==i.length&&e.entries.push(a.selectBox({id:'elementTemplate-chooser',label:'Element Template',modelProperty:'camunda:modelerTemplate',selectOptions:i,set:function(e,t){return r(e,t[u],n)}}))}},{'../../../../factory/EntryFactory':15,'../Helper':52,'bpmn-js/lib/util/ModelUtil':178}],57:[function(e,t,n){'use strict'
function i(e,t){return function(n){var i=a(n,t)
return c(e,i)}}function r(e,t,n){return function(i,r){var o=r[e]
return s(i,t,o,n)}}function o(e,t){return function(n,i){var r=i[e],o=l(r,t)
if(o){return c(e,o)}}}function a(e,t){var n=h(e),i=t.binding,r=i.type,o=i.name,a=t.value||''
if('property'===r){var s=n.get(o)
return'conditionExpression'===o?s?s.body:a:void 0!==s?s:a}var l,c
if('camunda:property'===r){return l=g(n,'camunda:Properties'),l&&(c=x(l,i))?c.value:a}
var u,p
if(-1!==S.indexOf(r)&&!(u=g(n,'camunda:InputOutput'))){return a}
if('camunda:inputParameter'===r){if(p=y(u,i)){if(!i.scriptFormat){return p.value}
if(p.definition){return p.definition.value}}return a}if('camunda:outputParameter'===i.type){return p=b(u,i),p?p.name:a}
throw d(t)}function s(e,t,n,i){var r,o=h(e),a=t.binding,s=a.type,l=a.name,u=[]
if('property'===s){if('conditionExpression'===l){r=i.create('bpmn:FormalExpression',{body:n,language:a.scriptFormat})}
else{var p=o.$descriptor.propertiesByName[l],d=p.type
if(-1===C.indexOf(d)){throw new Error('cannot set moddle type <'+d+'>')}
'Boolean'===d?r=!!n:'Integer'===d?(r=parseInt(n,10),isNaN(r)&&(r=void 0)):r=n}void 0!==r&&u.push(v.updateBusinessObject(e,o,c(l,r)))}var f;-1!==T.indexOf(s)&&((f=o.get('extensionElements'))||(f=i.create('bpmn:ExtensionElements'),u.push(v.updateBusinessObject(e,o,c('extensionElements',f)))))
var m,A,j
'camunda:property'===s&&(m=g(f,'camunda:Properties'),m||(m=i.create('camunda:Properties'),u.push(v.addElementsTolist(e,f,'values',[m]))),A=x(m,a),j=E(a,n,i),u.push(v.addAndRemoveElementsFromList(e,m,'values',null,[j],A?[A]:[])))
var P,R,k
if(-1!==S.indexOf(s)&&((P=g(f,'camunda:InputOutput'))||(P=i.create('camunda:InputOutput'),u.push(v.addElementsTolist(e,f,'values',P)))),'camunda:inputParameter'===s&&(R=y(P,a),k=w(a,n,i),u.push(v.addAndRemoveElementsFromList(e,P,'inputParameters',null,[k],R?[R]:[]))),'camunda:outputParameter'===s&&(R=b(P,a),k=_(a,n,i),u.push(v.addAndRemoveElementsFromList(e,P,'outputParameters',null,[k],R?[R]:[]))),u.length){return u}
console.warn('no update',e,t,n)}function l(e,t){var n=t.constraints||{}
if(n.notEmpty&&p(e)){return'Must not be empty'}
if(n.maxLength&&e.length>n.maxLength){return'Must have max length '+n.maxLength}
if(n.minLength&&e.length<n.minLength){return'Must have min length '+n.minLength}
var i,r=n.pattern
return r&&('string'!=typeof r&&(i=r.message,r=r.value),!u(e,r))?i||'Must match pattern '+r:void 0}function c(e,t){var n={}
return n[e]=t,n}function u(e,t){return new RegExp(t).test(e)}function p(e){return!e||/^\s*$/.test(e)}function d(e){var t=e.binding
return new Error('unknown binding: <'+t.type+'>')}var f=e('../../../../factory/EntryFactory'),h=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,m=e('../Helper').getTemplate,v=e('../../../../helper/CmdHelper'),g=e('../Helper').findExtension,y=e('../Helper').findInputParameter,b=e('../Helper').findOutputParameter,x=e('../Helper').findCamundaProperty,E=e('../CreateHelper').createCamundaProperty,w=e('../CreateHelper').createInputParameter,_=e('../CreateHelper').createOutputParameter,C=['Boolean','Integer','String'],T=['camunda:property','camunda:inputParameter','camunda:outputParameter'],S=['camunda:inputParameter','camunda:outputParameter']
t.exports=function(e,t,n,a){var s=m(t,n)
s&&s.properties.forEach(function(t,n){var l,c='custom-'+s.id+'-'+n,u=t.type,p={id:c,description:t.description,label:t.label,modelProperty:c,get:i(c,t),set:r(c,t,a),validate:o(c,t)}
'Boolean'===u&&(l=f.checkbox(p)),'String'===u&&(l=f.textField(p)),'Text'===u&&(l=f.textArea(p)),'Dropdown'===u&&(p.selectOptions=t.choices,l=f.selectBox(p)),l&&e.entries.push(l)})},t.exports.getPropertyValue=a},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../CreateHelper':49,'../Helper':52,'bpmn-js/lib/util/ModelUtil':178}],58:[function(e,t,n){t.exports={__depends__:[e('./element-templates')],__init__:['propertiesProvider'],propertiesProvider:['type',e('./CamundaPropertiesProvider')]}},{'./CamundaPropertiesProvider':48,'./element-templates':55}],59:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,r=e('bpmn-js/lib/util/ModelUtil').is,o=e('./implementation/AsyncContinuation')
t.exports=function(e,t,n){r(t,'camunda:AsyncCapable')&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:i})))}},{'./implementation/AsyncContinuation':82,'bpmn-js/lib/util/ModelUtil':178}],60:[function(e,t,n){'use strict'
function i(e){var t=r(e),n=t.get('calledElement'),i=t.get('camunda:caseRef'),o=''
return void 0!==n?o='bpmn':void 0!==i&&(o='cmmn'),o}var r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('bpmn-js/lib/util/ModelUtil').is,a=e('../../../factory/EntryFactory'),s=e('./implementation/Callable'),l=e('../../../helper/CmdHelper'),c=e('lodash/array/flattenDeep'),u=e('lodash/object/assign'),p={calledElement:void 0,'camunda:calledElementBinding':'latest','camunda:calledElementVersion':void 0,'camunda:caseRef':void 0,'camunda:caseBinding':'latest','camunda:caseVersion':void 0}
t.exports=function(e,t,n){o(t,'camunda:CallActivity')&&(e.entries.push(a.selectBox({id:'callActivity',label:'CallActivity Type',selectOptions:[{name:'BPMN',value:'bpmn'},{name:'CMMN',value:'cmmn'}],emptyParameter:!0,modelProperty:'callActivityType',get:function(e,t){return{callActivityType:i(e)}},set:function(e,t,n){var i=t.callActivityType,r=u({},p)
return'bpmn'===i?r.calledElement='':'cmmn'===i&&(r['camunda:caseRef']=''),l.updateProperties(e,r)}})),e.entries.push(s(t,n,{getCallableType:i})),e.entries=c(e.entries))}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'./implementation/Callable':83,'bpmn-js/lib/util/ModelUtil':178,'lodash/array/flattenDeep':370,'lodash/object/assign':512}],61:[function(e,t,n){'use strict'
function i(e){return s.getImplementationType(e)}function r(e){return s.getServiceTaskLikeBusinessObject(e)}function o(e){return l.getConnector(e)}function a(e){return'connector'===i(e)}var s=e('../../../helper/ImplementationTypeHelper'),l=e('../../../helper/InputOutputHelper'),c=e('../../../factory/EntryFactory'),u=e('../../../helper/CmdHelper')
t.exports=function(e,t,n){e.entries.push(c.textField({id:'connectorUrl',label:'URL',modelProperty:'url',get:function(e,t){var n=r(e),i=n&&o(n),a=i&&i.get('url')
return console.log('value of url ==='+a),{url:a,ctype:'rest'}},set:function(e,t,n){var i=r(e),a=o(i)
return u.updateBusinessObject(e,a,{url:t.url||void 0,ctype:'rest'})},validate:function(e,t,n){return a(e)&&!t.url?{url:'Must provide a value'}:{}},disabled:function(e,t){return!a(e)}})),e.entries.push(c.textField({id:'connectorMethod',label:'Method',modelProperty:'method',get:function(e,t){var n=r(e),i=n&&o(n)
return{method:i&&i.get('method')}},set:function(e,t,n){var i=r(e),a=o(i)
return u.updateBusinessObject(e,a,{method:t.method||void 0})},validate:function(e,t,n){return a(e)&&!t.method?{method:'Must provide a value'}:{}},disabled:function(e,t){return!a(e)}})),e.entries.push(c.textArea({id:'connectorData',label:'Data',modelProperty:'data',get:function(e,t){var n=r(e),i=n&&o(n)
return{data:i&&i.get('data')}},set:function(e,t,n){var i=r(e),a=o(i)
return u.updateBusinessObject(e,a,{data:t.data||void 0})},validate:function(e,t,n){return a(e)&&!t.data?{data:'Must provide a value'}:{}},disabled:function(e,t){return!a(e)}})),e.entries.push(c.textField({id:'connectorHeaders',label:'Headers',modelProperty:'headers',get:function(e,t){var n=r(e),i=n&&o(n)
return{headers:i&&i.get('headers')}},set:function(e,t,n){var i=r(e),a=o(i)
return u.updateBusinessObject(e,a,{headers:t.headers||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return!a(e)}})),e.entries.push(c.textField({id:'connectorRetries',label:'Number Of Retries',modelProperty:'retries',get:function(e,t){var n=r(e),i=n&&o(n)
return console.log(i),{retries:i&&i.get('retries')}},set:function(e,t,n){var i=r(e),a=o(i)
return u.updateBusinessObject(e,a,{retries:t.retries||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return!a(e)}})),e.entries.push(c.textField({id:'connectorTimeout',label:'Timeout(ms)',modelProperty:'timeout',get:function(e,t){var n=r(e),i=n&&o(n)
return console.log(i),{timeout:i&&i.get('timeout')}},set:function(e,t,n){var i=r(e),a=o(i)
return u.updateBusinessObject(e,a,{timeout:t.timeout||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return!a(e)}}))}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'../../../helper/ImplementationTypeHelper':29,'../../../helper/InputOutputHelper':30}],62:[function(e,t,n){'use strict'
var i=e('lodash/object/assign'),r=e('./implementation/InputOutputParameter')
t.exports=function(e,t,n,o){o=i({idPrefix:'connector-',insideConnector:!0},o),e.entries=e.entries.concat(r(t,n,o))}},{'./implementation/InputOutputParameter':90,'lodash/object/assign':512}],63:[function(e,t,n){'use strict'
var i=e('./implementation/InputOutput')
t.exports=function(e,t,n){return{getSelectedParameter:i(t,n,{idPrefix:'connector-',insideConnector:!0}).getSelectedParameter}}},{'./implementation/InputOutput':89}],64:[function(e,t,n){'use strict'
function i(){return!('read'===$('#camunda-method-select').val())}function r(){return console.log($('#camunda-method-select').val()),!('update'===$('#camunda-method-select').val()||'delete'===$('#camunda-method-select').val())}function o(){return console.log($('#camunda-method-select').val()),!('create'===$('#camunda-method-select').val()||'update'===$('#camunda-method-select').val())}function a(){return console.log($('#camunda-method-select').val()),!('delete'===$('#camunda-method-select').val())}function s(e){return p.getImplementationType(e)}function l(e){return p.getEVFServiceTaskLikeBusinessObject(e)}function c(e){return d.getEVFConnector(e)}function u(e){return'evfconnector'===s(e)}var p=e('../../../helper/ImplementationTypeHelper'),d=e('../../../helper/InputOutputHelper'),f=e('../../../factory/EntryFactory'),h=e('../../../helper/CmdHelper'),m=[{value:'',name:''},{value:'create',name:'Create'},{value:'read',name:'Read'},{value:'update',name:'Update'},{value:'delete',name:'Delete'}]
t.exports=function(e,t,n){e.entries.push(f.textField({id:'connectorModel',label:'Model',modelProperty:'model',get:function(e,t){var n=l(e),i=n&&c(n)
return{model:i&&i.get('model')}},set:function(e,t,n){var i=l(e),r=c(i)
return h.updateBusinessObject(e,r,{model:t.model||void 0})},validate:function(e,t,n){return u(e)&&!t.model?{model:'Must provide a value'}:{}}})),e.entries.push(f.selectBox({id:'method',description:'Configure the implementation of the task.',label:'Method',selectOptions:m,modelProperty:'method',get:function(e,t){var n=l(e),i=n&&c(n)
return{method:i&&i.get('method')}},set:function(e,t,n){var i=l(e),r=c(i)
return'read'==t.method?($('#camunda-modelData').val(''),$('#camunda-modelVersion').val(''),t.modelData=void 0,t.modelVersion=void 0):'create'==t.method?($('#camunda-modelId').val(''),$('#camunda-modelVersion').val(''),t.modelId=void 0,t.modelVersion=void 0):'update'==t.method?($('#camunda-modelVersion').val(''),t.modelVersion=void 0):'delete'==t.method&&($('#camunda-modelData').val(''),t.modelData=void 0),h.updateBusinessObject(e,r,{method:t.method||void 0,modelFilter:t.modelFilter||void 0,modelId:t.modelId||void 0,modelData:t.modelData||void 0,modelVersion:t.modelVersion||void 0})}})),e.entries.push(f.textField({id:'modelId',label:'Id',modelProperty:'modelId',get:function(e,t){var n=l(e),i=n&&c(n)
return{modelId:i&&i.get('modelId')}},set:function(e,t,n){var i=l(e),r=c(i)
return h.updateBusinessObject(e,r,{modelId:t.modelId||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return r()}})),e.entries.push(f.textField({id:'modelFilter',label:'Filter',modelProperty:'modelFilter',get:function(e,t){var n=l(e),i=n&&c(n)
return{modelFilter:i&&i.get('modelFilter')}},set:function(e,t,n){var i=l(e),r=c(i)
return h.updateBusinessObject(e,r,{modelFilter:t.modelFilter||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return i()}})),e.entries.push(f.textField({id:'modelData',label:'Data',modelProperty:'modelData',get:function(e,t){var n=l(e),i=n&&c(n)
return{modelData:i&&i.get('modelData')}},set:function(e,t,n){var i=l(e),r=c(i)
return h.updateBusinessObject(e,r,{modelData:t.modelData||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return o()}})),e.entries.push(f.textField({id:'modelVersion',label:'Version',modelProperty:'modelVersion',get:function(e,t){var n=l(e),i=n&&c(n)
return{modelVersion:i&&i.get('modelVersion')}},set:function(e,t,n){var i=l(e),r=c(i)
return h.updateBusinessObject(e,r,{modelVersion:t.modelVersion||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return a()}}))}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'../../../helper/ImplementationTypeHelper':29,'../../../helper/InputOutputHelper':30}],65:[function(e,t,n){'use strict'
function i(e,t){return'<div class="djs-listener-area" data-scope><button class="clear" data-action="removeListener"><span>X</span></button><div class="pp-row"><label for="cam-event-type-'+e+'">Event Type</label>'+(t?'<div class="pp-field-wrapper"><p class="djs-properties-static">take</p></div>':'<div class="pp-field-wrapper"><select id="cam-event-type-'+e+'" name="eventType" data-value><option value="start">start</option><option value="end">end</option></select></div>')+'</div><div class="pp-row"><label for="cam-listener-type-'+e+'">Listener Type</label><div class="pp-field-wrapper"><select id="cam-listener-type-'+e+'" name="listenerType" data-value><option value="class">Java Class</option><option value="expression">Expression</option><option value="delegateExpression">Delegate Expression</option><option value="script">Script</option></select></div></div><div class="pp-row"><div data-show="isNotScript"><label for="camunda-listener-val-'+e+'"><span data-show="isJavaClass">Java Class</span><span data-show="isExpression">Expression</span><span data-show="isDelegateExpression">Delegate Expression</span></label><div class="pp-field-wrapper"><input id="camunda-listener-val-'+e+'" type="text" name="listenerValue" /><button class="clear" data-action="clearListenerValue" data-show="canClearListenerValue"><span>X</span></button></div></div></div><div data-show="isScript">'+m.template+'</div></div>'}function r(e,t){var n=t.get('expression'),i=t.get('delegateExpression'),r=t.get('class'),o=t.get('event'),a=t.script,s={},l=''
return void 0!==n?(l='expression',s.listenerValue=n):void 0!==i?(l='delegateExpression',s.listenerValue=i):void 0!==r?(l='class',s.listenerValue=r):void 0!==a&&(l='script',s=m.get(e,a)),s.listenerType=l,s.eventType=o,s}function o(e){e.class=void 0,e.expression=void 0,e.delegateExpression=void 0,e.event=void 0,e.script=void 0}function a(e,t,n,i,r){d(t,function(t){var a={}
o(a),a.event=t.eventType
var s=p.createElement('camunda:ExecutionListener',a,n,r)
if('script'===t.listenerType){var l=m.set(e,t)
s.script=p.createElement('camunda:Script',l,s,r)}else {s[t.listenerType]=t.listenerValue||''}
i.push(s)})}var s=e('bpmn-js/lib/util/ModelUtil').is,l=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,c=e('min-dom/lib/query'),u=e('../../../helper/CmdHelper'),p=e('../../../helper/ElementHelper'),d=e('lodash/collection/forEach'),f=e('min-dom/lib/domify'),h=e('../../../Utils'),m=e('./implementation/Script')('scriptFormat','value',!0)
t.exports=function(e,t,n){var o,v=0
if(s(t,'bpmn:FlowElement')&&(o=l(t)),o){var g=s(t,'bpmn:SequenceFlow')
e.entries.push({id:'executionListeners',description:'Configure execution listener.',label:'Listener',html:'<div class="cam-add-listener"><label for="addListener">Add Execution Listener </label><button class="add" id="addListener" data-action="addListener"><span>+</span></button></div><div data-list-entry-container></div>',createListEntryTemplate:function(e,t){return v=t,i(t,g)},get:function(e,t){var n=[]
if(o.extensionElements){var i=l(e).extensionElements.values
d(i,function(t){'function'==typeof t.$instanceOf&&s(t,'camunda:ExecutionListener')&&n.push(r(e,t))})}return n},set:function(e,t,i){var r,l=o.extensionElements,c=!1
if(g&&d(t,function(e){e.eventType='take'}),l||(c=!0,l=p.createElement('bpmn:ExtensionElements',{values:[]},o,n)),c){a(e,t,l,l.get('values'),n),r=u.updateProperties(e,{extensionElements:l})}else{var f=[]
d(l.get('values'),function(e){s(e,'camunda:ExecutionListener')&&f.push(e)})
var h=[]
a(e,t,l,h,n),r=u.addAndRemoveElementsFromList(e,l,'values','extensionElements',h,f)}return r},validateListItem:function(e,t){var n={}
return'script'===t.listenerType?n=m.validate(e,t):t.listenerValue||(n.listenerValue='Must provide a value'),n},addListener:function(e,t){var n=c('[data-list-entry-container]',t)
v++
var r=f(i(v,g))
return n.appendChild(r),!0},removeListener:function(e,t,n,i){return i.parentElement.removeChild(i),!0},clearListenerValue:function(e,t,n,i){return c('input[name=listenerValue]',i).value='',!0},canClearListenerValue:function(e,t,n,i){return''!==c('input[name=listenerValue]',i).value},isExpression:function(e,t,n,i){return'expression'===h.selectedType('select[name=listenerType]',i)},isJavaClass:function(e,t,n,i){return'class'===h.selectedType('select[name=listenerType]',i)},isDelegateExpression:function(e,t,n,i){return'delegateExpression'===h.selectedType('select[name=listenerType]',i)},isScript:function(e,t,n,i){return'script'===h.selectedType('select[name=listenerType]',i)},isNotScript:function(e,t,n,i){return'script'!==h.selectedType('select[name=listenerType]',i)},script:m,cssClasses:['pp-textfield']})}}},{'../../../Utils':6,'../../../helper/CmdHelper':24,'../../../helper/ElementHelper':25,'./implementation/Script':96,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382,'min-dom/lib/domify':530,'min-dom/lib/query':533}],66:[function(e,t,n){'use strict'
function i(e){var t=a.getServiceTaskLikeBusinessObject(e)
return t||(t=o(e)),t}var r=e('bpmn-js/lib/util/ModelUtil').is,o=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,a=e('../../../helper/ImplementationTypeHelper'),s=e('./implementation/ExternalTaskPriority')
t.exports=function(e,t,n){var o=i(t)
o&&(r(o,'camunda:TaskPriorized')||r(o,'bpmn:Participant')&&o.get('processRef'))&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:function(e){return r(o,'bpmn:Participant')?o.get('processRef'):o}})))}},{'../../../helper/ImplementationTypeHelper':29,'./implementation/ExternalTaskPriority':87,'bpmn-js/lib/util/ModelUtil':178}],67:[function(e,t,n){'use strict'
function i(e){return o.getEVFServiceTaskLikeBusinessObject(e)}function r(e){return a.getFTConnector(e)}var o=e('../../../helper/ImplementationTypeHelper'),a=e('../../../helper/InputOutputHelper'),s=e('../../../factory/EntryFactory'),l=e('../../../helper/CmdHelper'),c=!1,u=[{value:'',name:''},{value:'processvariable',name:'ProcessVariable'},{value:'message',name:'Message'},{value:'approve',name:'Approve'},{value:'reject',name:'Reject'}]
t.exports=function(e,t,n){e.entries.push(s.selectBox({id:'ftType',description:'Configure the type of the task.',label:'Type',selectOptions:u,modelProperty:'FTType',get:function(e,t){var n=i(e),o=n&&r(n)
return{FTType:o&&o.get('FTType')}},set:function(e,t,n){var o=i(e),a=r(o)
return''===t.FTType&&(t.FTType=void 0,c=!0),c=!1,'approve'===t.FTType&&($('#camunda-ftValue').val('approved'),c=!0),'reject'===t.FTType&&($('#camunda-ftValue').val('rejected'),c=!0),l.updateBusinessObject(e,a,{FTType:t.FTType||void 0,FTValue:t.FTValue||void 0})}})),e.entries.push(s.textField({id:'ftValue',label:'Value',modelProperty:'FTValue',get:function(e,t){var n=i(e),o=n&&r(n)
return{FTValue:o&&o.get('FTValue')}},set:function(e,t,n){var o=i(e),a=r(o)
return l.updateBusinessObject(e,a,{FTValue:t.FTValue||void 0})},validate:function(e,t,n){return!0},disabled:function(e,t){return c}}))}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'../../../helper/ImplementationTypeHelper':29,'../../../helper/InputOutputHelper':30}],68:[function(e,t,n){'use strict'
function i(){return h.nextId('Value_')}function r(e,t){var n=e.id,i=e.label,r=e.modelProperty,o=e.validate
return u.textField({id:n,label:i,modelProperty:r,get:function(e,n){var i=t(e,n)||{},o={}
return o[r]=i[r],o},set:function(n,i,o){var a=[]
if('function'==typeof e.set){var s=e.set(n,i,o)
s&&a.push(s)}var l=t(n,o),c={}
return c[r]=i[r],a.push(d.updateBusinessObject(n,l,c)),a},disabled:function(e,n){return'form-key'===f.getFormType(e)||!t(e,n)},validate:o})}function o(e){return m(e,'bpmn:StartEvent')&&!m(e.parent,'bpmn:SubProcess')||m(e,'bpmn:UserTask')}var a=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,s=e('../../../helper/ExtensionElementsHelper').getExtensionElements,l=e('./implementation/ExtensionElements'),c=e('./implementation/Properties'),u=e('../../../factory/EntryFactory'),p=e('../../../helper/ElementHelper'),d=e('../../../helper/CmdHelper'),f=e('../../../helper/FormHelper'),h=e('../../../Utils'),m=e('bpmn-js/lib/util/ModelUtil').is,v=e('lodash/collection/find')
t.exports=function(e,t,n){function m(e,t){var n=g.getSelected(e,t.parentNode)
if(-1!==n.idx){return f.getFormField(e,n.idx)}}if(o(t)){e.entries.push({id:'formType',html:'<div class="pp-row"><label for="camunda-formType">Form Type</label><div class="pp-field-wrapper"><select id="camunda-formType" name="formType" data-value><option value="form-key">Form Key</option><option value="form-data">Form Data</option></select></div></div>',get:function(e,t){return{formType:f.getFormType(e)}},set:function(e,t,i){var r=a(e)
if('form-key'===t.formType){var o=s(r,'camunda:FormData')
return d.removeElementsFromList(e,r.extensionElements,'values','extensionElements',o)}var l=[]
l.push(d.updateBusinessObject(e,r,{'camunda:formKey':void 0}))
var c=r.get('extensionElements')
c||(c=p.createElement('bpmn:ExtensionElements',{values:[]},r,n),l.push(d.updateProperties(e,{extensionElements:c})))
var u=p.createElement('camunda:FormData',{fields:[]},c,n)
return l.push(d.addAndRemoveElementsFromList(e,c,'values','extensionElements',[u],[])),l}}),e.entries.push(u.textField({id:'form-key',label:'Form Key',modelProperty:'formKey',get:function(e,t){return{formKey:a(e).get('camunda:formKey')}},set:function(e,t,n){var i=a(e),r=t.formKey||void 0
return d.updateBusinessObject(e,i,{'camunda:formKey':r})},disabled:function(e,t){return'form-data'===f.getFormType(e)}}))
var g=l(t,n,{id:'form-fields',label:'Form Fields',modelProperty:'id',prefix:'FormField',createExtensionElement:function(e,t,i){var r=a(e),o=s(r,'camunda:FormData')[0],l=p.createElement('camunda:FormField',{id:i},o,n)
return void 0!==o.fields?d.addElementsTolist(e,o,'fields',[l]):d.updateBusinessObject(e,o,{fields:[l]})},removeExtensionElement:function(e,t,n,i){var r=s(a(e),'camunda:FormData')[0],o=r.fields[i]
return d.removeElementsFromList(e,r,'fields',null,[o])},getExtensionElements:function(e){return f.getFormFields(e)},hideExtensionElements:function(e,t){return'form-key'===f.getFormType(e)}})
e.entries.push(g),e.entries.push(u.label({id:'form-field-header',labelText:'Form Field',showLabel:function(e,t){return'form-data'===f.getFormType(e)&&!!m(e,t)}})),e.entries.push(u.validationAwareTextField({id:'form-field-id',label:'ID',modelProperty:'id',getProperty:function(e,t){return(m(e,t)||{}).id},setProperty:function(e,t,n){var i=m(e,n)
return d.updateBusinessObject(e,i,t)},disabled:function(e,t){return'form-key'===f.getFormType(e)||!m(e,t)},validate:function(e,t,n){var i=m(e,n)
if(i){var r=t.id
if(!r||''===r.trim()){return{id:'Form field id must not be empty'}}
var o=f.getFormFields(e)
if(v(o,function(e){return e!==i&&e.id===r})){return{id:'Form field id already used in form data.'}}}}})),e.entries.push(u.comboBox({id:'form-field-type',label:'Type',selectOptions:[{name:'string',value:'string'},{name:'long',value:'long'},{name:'boolean',value:'boolean'},{name:'date',value:'date'},{name:'enum',value:'enum'}],modelProperty:'type',emptyParameter:!0,get:function(e,t){var n=m(e,t)
return n?{type:n.type}:{}},set:function(e,t,n){var i=m(e,n),r=[]
return'enum'===i.type&&'enum'!==t.type&&r.push(d.updateBusinessObject(e,i,{values:void 0})),r.push(d.updateBusinessObject(e,i,t)),r},disabled:function(e,t){return'form-data'!==f.getFormType(e)||!m(e,t)}})),e.entries.push(r({id:'form-field-label',label:'Label',modelProperty:'label'},m)),e.entries.push(r({id:'form-field-defaultValue',label:'Default Value',modelProperty:'defaultValue'},m)),e.entries.push(u.label({id:'form-field-enum-values-header',labelText:'Values',divider:!0,showLabel:function(e,t){var n=m(e,t)
return n&&'enum'===n.type}})),e.entries.push(u.table({id:'form-field-enum-values',labels:['Id','Name'],modelProperties:['id','name'],show:function(e,t){var n=m(e,t)
return n&&'enum'===n.type},getElements:function(e,t){var n=m(e,t)
return f.getEnumValues(n)},addElement:function(e,t){var r=m(e,t),o=i(),s=p.createElement('camunda:Value',{id:o,name:void 0},a(e),n)
return d.addElementsTolist(e,r,'values',[s])},removeElement:function(e,t,n){var i=m(e,t),r=i.values[n]
return d.removeElementsFromList(e,i,'values',null,[r])},updateElement:function(e,t,n,i){var r=m(e,n),o=r.values[i]
return t.name=t.name||void 0,d.updateBusinessObject(e,o,t)},validate:function(e,t,n,i){var r=m(e,n),o=r.values[i]
if(o){var a=h.isIdValid(o,t.id)
if(a){return{id:a}}}}})),e.entries.push(u.label({id:'form-field-validation-header',labelText:'Validation',divider:!0,showLabel:function(e,t){return'form-data'===f.getFormType(e)&&!!m(e,t)}})),e.entries.push(u.table({id:'constraints-list',modelProperties:['name','config'],labels:['Name','Config'],addLabel:'Add Constraint',getElements:function(e,t){var n=m(e,t)
return f.getConstraints(n)},addElement:function(e,t){var i=[],r=m(e,t),o=r.validation
o||(o=p.createElement('camunda:Validation',{},a(e),n),i.push(d.updateBusinessObject(e,r,{validation:o})))
var s=p.createElement('camunda:Constraint',{name:void 0,config:void 0},o,n)
return i.push(d.addElementsTolist(e,o,'constraints',[s])),i},updateElement:function(e,t,n,i){var r=m(e,n),o=f.getConstraints(r)[i]
return t.name=t.name||void 0,t.config=t.config||void 0,d.updateBusinessObject(e,o,t)},removeElement:function(e,t,n){var i=[],r=m(e,t),o=f.getConstraints(r),a=o[n]
return i.push(d.removeElementsFromList(e,r.validation,'constraints',null,[a])),1===o.length&&i.push(d.updateBusinessObject(e,r,{validation:void 0})),i},show:function(e,t){if('form-data'===f.getFormType(e)){return!!m(e,t)}}})),e.entries.push(u.label({id:'form-field-properties-header',labelText:'Properties',divider:!0,showLabel:function(e,t){return'form-data'===f.getFormType(e)&&!!m(e,t)}})),e.entries.push(c(t,n,{id:'form-field-properties',modelProperties:['id','value'],labels:['Id','Value'],getParent:function(e,t){return m(e,t)},show:function(e,t){return'form-data'===f.getFormType(e)&&!!m(e,t)}}))}}},{'../../../Utils':6,'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'../../../helper/ElementHelper':25,'../../../helper/ExtensionElementsHelper':27,'../../../helper/FormHelper':28,'./implementation/ExtensionElements':85,'./implementation/Properties':94,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/find':381}],69:[function(e,t,n){'use strict'
var i=e('./implementation/InputOutputParameter'),r=e('lodash/object/assign')
t.exports=function(e,t,n,o){e.entries=e.entries.concat(i(t,n,r({},o)))}},{'./implementation/InputOutputParameter':90,'lodash/object/assign':512}],70:[function(e,t,n){'use strict'
var i=e('./implementation/InputOutput')
t.exports=function(e,t,n){var r=i(t,n)
return e.entries=e.entries.concat(r.entries),{getSelectedParameter:r.getSelectedParameter}}},{'./implementation/InputOutput':89}],71:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('./implementation/JobPriority'),a=e('./implementation/JobRetryTimeCycle')
t.exports=function(e,t,n){var s=r(t);(i(t,'camunda:JobPriorized')||i(t,'bpmn:Participant')&&s.get('processRef'))&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:function(e){var t=r(e)
return i(t,'bpmn:Participant')?t.get('processRef'):t}}))),i(t,'camunda:AsyncCapable')&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:r})))}},{'./implementation/JobPriority':91,'./implementation/JobRetryTimeCycle':92,'bpmn-js/lib/util/ModelUtil':178}],72:[function(e,t,n){'use strict'
function i(e){return o(e).loopCharacteristics}function r(e){var t=i(e)
return!!t&&a(t,'camunda:Collectable')}var o=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,a=e('bpmn-js/lib/util/ModelUtil').is,s=e('./implementation/MultiInstanceLoopCharacteristics'),l=e('./implementation/JobRetryTimeCycle'),c=e('./implementation/AsyncContinuation')
t.exports=function(e,t,n){r(t)&&(e.entries=e.entries.concat(s(t,n)),e.entries=e.entries.concat(c(t,n,{getBusinessObject:i,idPrefix:'multiInstance-',labelPrefix:'Multi Instance '})),e.entries=e.entries.concat(l(t,n,{getBusinessObject:i,idPrefix:'multiInstance-',labelPrefix:'Multi Instance '})))}},{'./implementation/AsyncContinuation':82,'./implementation/JobRetryTimeCycle':92,'./implementation/MultiInstanceLoopCharacteristics':93,'bpmn-js/lib/util/ModelUtil':178}],73:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,r=e('./implementation/Properties'),o=e('../../../helper/ElementHelper'),a=e('../../../helper/CmdHelper')
t.exports=function(e,t,n){e.entries.push(r(t,n,{id:'properties',modelProperties:['name','value'],labels:['Name','Value'],getParent:function(e,t){return i(e).extensionElements},createParent:function(e){var t=i(e),r=o.createElement('bpmn:ExtensionElements',{values:[]},t,n)
return{cmd:a.updateProperties(e,{extensionElements:r}),parent:r}}}))}},{'../../../helper/CmdHelper':24,'../../../helper/ElementHelper':25,'./implementation/Properties':94,'bpmn-js/lib/util/ModelUtil':178}],74:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,r=e('bpmn-js/lib/util/ModelUtil').is,o=e('../../../factory/EntryFactory'),a=e('../../../helper/CmdHelper'),s=e('./implementation/Script')('scriptFormat','script',!1)
t.exports=function(e,t,n){var l
r(t,'bpmn:ScriptTask')&&(l=i(t)),l&&(e.entries.push({id:'script-implementation',description:'Implementation for a Script.',label:'Script',html:s.template,get:function(e){return s.get(e,l)},set:function(e,t,n){var i=s.set(e,t,n)
return a.updateProperties(e,i)},validate:function(e,t){return s.validate(e,t)},script:s,cssClasses:['pp-textfield']}),e.entries.push(o.textField({id:'scriptResultVariable',description:'Result Variable of a Service Task Script',label:'Result Variable',modelProperty:'scriptResultVariable',get:function(e,t){return{scriptResultVariable:l.get('camunda:resultVariable')}},set:function(e,t,n){return a.updateProperties(e,{'camunda:resultVariable':t.scriptResultVariable})}})))}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'./implementation/Script':96,'bpmn-js/lib/util/ModelUtil':178}],75:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,o=e('min-dom/lib/query'),a=e('../../../helper/CmdHelper'),s=e('../../../helper/ElementHelper'),l=e('./implementation/Script')('language','body',!0)
t.exports=function(e,t,n){var c
i(t,'bpmn:SequenceFlow')&&(c=r(t)),c&&e.entries.push({id:'condition',description:'Configure the implementation of the task.',label:'Condition',html:'<div class="pp-row"><label for="cam-condition-type">Condition Type </label><div class="pp-field-wrapper"><select id="cam-condition-type" name="conditionType" data-value><option value="script" selected>Script</option></select></div></div><div class="pp-row"><label for="cam-condition" data-show="isExpression">Expression</label><div class="pp-field-wrapper" data-show="isExpression"><input id="cam-condition" type="text" name="condition" /><button class="clear" data-action="clear" data-show="canClear"><span>X</span></button></div><div data-show="isScript">'+l.template+'</div></div>',get:function(e,t){var n=c.conditionExpression,i={},r='script'
if(n){void 0!==n.language?(r='script',i=l.get(e,n)):(r='expression',i.condition=n.get('body'))}return i.conditionType=r,i},set:function(e,t,i){var r=t.conditionType,o={body:void 0}
if('script'===r){o=l.set(e,t,i)}
else{var u=t.condition
o.body=u}var p={conditionExpression:void 0}
return r&&(p.conditionExpression=s.createElement('bpmn:FormalExpression',o,c,n)),a.updateBusinessObject(e,c,p)},validate:function(e,t){var n={}
return t.condition||'expression'!==t.conditionType?'script'===t.conditionType&&(n=l.validate(e,t)):n.condition='Must provide a value',n},isExpression:function(e,t){var n=o('select[name=conditionType]',t)
if(n.selectedIndex>=0){return'expression'===n.options[n.selectedIndex].value}},isScript:function(e,t){var n=o('select[name=conditionType]',t)
if(n.selectedIndex>=0){return'script'===n.options[n.selectedIndex].value}},clear:function(e,t){return o('input[name=condition]',t).value='',!0},canClear:function(e,t){return''!==o('input[name=condition]',t).value},script:l,cssClasses:['pp-textfield']})}},{'../../../helper/CmdHelper':24,'../../../helper/ElementHelper':25,'./implementation/Script':96,'bpmn-js/lib/util/ModelUtil':178,'min-dom/lib/query':533}],76:[function(e,t,n){'use strict'
function i(e){return u.getImplementationType(e)}function r(e){return u.getServiceTaskLikeBusinessObject(e)}function o(e){return u.isDmnCapable(e)}function a(e){return u.isExternalCapable(e)}function s(e){return u.isServiceTaskLike(e)}function l(e){return u.isServiceTaskLike(e)}function c(e){return u.isFTServiceTaskLiket(e)}var u=e('../../../helper/ImplementationTypeHelper'),p=e('../../../helper/InputOutputHelper'),d=e('./implementation/ImplementationType'),f=e('./implementation/Delegate'),h=e('./implementation/External'),m=e('./implementation/Callable'),v=e('./implementation/ResultVariable'),g=e('../../../factory/EntryFactory'),y=e('min-dom/lib/query'),b=e('min-dom/lib/closest'),x=e('min-dom/lib/classes')
t.exports=function(e,t,n){if(s(r(t))){var u=o(t),E=a(r(t))
e.entries=e.entries.concat(d(t,n,{getBusinessObject:r,getImplementationType:i,hasDmnSupport:u,hasExternalSupport:E,hasServiceTaskLikeSupport:s,hasEVServiceTaskLikeSupport:l,hasFTServiceTaskLikeSupport:c})),e.entries=e.entries.concat(f(t,n,{getBusinessObject:r,getImplementationType:i})),e.entries=e.entries.concat(v(t,n,{getBusinessObject:r,getImplementationType:i,hideResultVariable:function(e,t){return'expression'!==i(e)}})),E&&(e.entries=e.entries.concat(h(t,n,{getBusinessObject:r,getImplementationType:i}))),u&&(e.entries=e.entries.concat(m(t,n,{getCallableType:i})))
var w=function(e){return console.log('Type1: '+i(e)),'connector'===i(e)},_=function(e){return console.log('Type2: '+i(e)),'evfconnector'===i(e)},C=function(e){return console.log('Type2: '+i(e)),'finalizetransactionconnector'===i(e)}
e.entries.push(g.link({id:'configureConnectorLink',label:'Configure Connector',getClickableElement:function(e,t){var n=b(t,'div.djs-properties-panel')
return y('a[data-tab-target="connector"]',n)},hideLink:function(e,t){var n=y('a',t)
if(n.innerHTML=n.textContent='',x(n).remove('pp-error-message'),w(e)){return p.getConnector(e).url?n.textContent='Configure Connector':(n.innerHTML='<span class="pp-icon-warning"></span> Must configure Connector',x(n).add('pp-error-message')),!1}return _(e)||C(e),!0}}))}}},{'../../../factory/EntryFactory':15,'../../../helper/ImplementationTypeHelper':29,'../../../helper/InputOutputHelper':30,'./implementation/Callable':83,'./implementation/Delegate':84,'./implementation/External':86,'./implementation/ImplementationType':88,'./implementation/ResultVariable':95,'min-dom/lib/classes':526,'min-dom/lib/closest':528,'min-dom/lib/query':533}],77:[function(e,t,n){'use strict'
var i=e('../../../factory/EntryFactory'),r=e('bpmn-js/lib/util/ModelUtil').is,o=e('bpmn-js/lib/util/ModelUtil').getBusinessObject
t.exports=function(e,t){o(t)&&r(t,'camunda:Initiator')&&!r(t.parent,'bpmn:SubProcess')&&e.entries.push(i.textField({id:'initiator',description:'Initiator of a process',label:'Initiator',modelProperty:'initiator'}))}},{'../../../factory/EntryFactory':15,'bpmn-js/lib/util/ModelUtil':178}],78:[function(e,t,n){'use strict'
function i(e){return'<div class="djs-listener-area" data-scope><button class="clear" data-action="removeListener"><span>X</span></button><div class="pp-row"><label for="cam-task-listener-event-type-'+e+'">Event Type</label><div class="pp-field-wrapper"><select id="cam-task-listener-event-type-'+e+'" name="eventType" data-value><option value="start">create</option><option value="end">complete</option></select></div></div><div class="pp-row " ><label for="cam-task-listener-type-'+e+'">Listener Type</label><div class="pp-field-wrapper"><select id="cam-task-listener-type-'+e+'" name="listenerType" data-value><option value="script">Script</option></select></div></div><div class="pp-row"><div data-show="isNotScript"><label for="cam-task-listener-val-'+e+'"><span data-show="isJavaClass">Java Class</span><span data-show="isExpression">Expression</span><span data-show="isDelegateExpression">Delegate Expression</span></label><div class="pp-field-wrapper"><input id="cam-task-listener-val-'+e+'" type="text" name="listenerValue" /><button class="clear" data-action="clearListenerValue" data-show="canClearListenerValue"><span>X</span></button></div></div></div><div data-show="isScript">'+v.template+'</div><div data-show="isScript"></div></div>'}function r(e,t){var n=t.get('expression'),i=t.get('delegateExpression'),r=t.get('class'),o=t.get('event'),a=t.script,s={},l=''
return void 0!==n?(l='expression',s.listenerValue=n):void 0!==i?(l='delegateExpression',s.listenerValue=i):void 0!==r?(l='class',s.listenerValue=r):void 0!==a&&(l='script',s=v.get(e,a)),s.listenerType=l,s.eventType=o,s}function o(e){e.class=void 0,e.expression=void 0,e.delegateExpression=void 0,e.event=void 0,e.script=void 0}function a(e,t,n,i,r){f(t,function(t){var a={}
o(a),a.event=t.eventType
var s=d.createElement('camunda:TaskListener',a,n,r)
if('script'===t.listenerType){var l=v.set(e,t)
s.script=d.createElement('camunda:Script',l,s,r)}else {s[t.listenerType]=t.listenerValue||''}
i.push(s)})}var s={},l=e('bpmn-js/lib/util/ModelUtil').is,c=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,u=e('min-dom/lib/query'),p=e('../../../helper/CmdHelper'),d=e('../../../helper/ElementHelper'),f=e('lodash/collection/forEach'),h=e('min-dom/lib/domify'),m=e('../../../Utils'),v=e('./implementation/Script')('scriptFormat','value',!0)
t.exports=function(e,t,n){var o,g=0;(l(t,'bpmn:UserTask')||l(t,'bpmn:Task'))&&(o=c(t)),o&&e.entries.push({id:'taskListeners',description:'Configure task listener.',label:'Listener',html:'<div class="cam-add-listener"><label for="addTaskListener">Add Task Listener </label><button class="add" id="addTaskListener" data-action="addListener"><span>+</span></button></div><div data-list-entry-container></div>',createListEntryTemplate:function(e,t){return g=t,i(t)},get:function(e,t){var n=[]
if(o.extensionElements){var i=c(e).extensionElements.values
f(i,function(t){'function'==typeof t.$instanceOf&&l(t,'camunda:TaskListener')&&n.push(r(e,t))})}return n},set:function(e,t,i){var r,s=o.extensionElements,c=!1
if(s||(c=!0,s=d.createElement('bpmn:ExtensionElements',{values:[]},o,n)),c){a(e,t,s,s.get('values'),n),r=p.updateProperties(e,{extensionElements:s})}else{var u=[]
f(s.get('values'),function(e){l(e,'camunda:TaskListener')&&u.push(e)})
var h=[]
a(e,t,s,h,n),r=p.addAndRemoveElementsFromList(e,s,'values','extensionElements',h,u)}return r},validateListItem:function(e,t){var n={}
return'script'===t.listenerType?n=v.validate(e,t):t.listenerValue||(n.listenerValue='Must provide a value'),n},addListener:function(e,t){var n=u('[data-list-entry-container]',t)
void 0==s[e.id]&&(s[e.id]={},s[e.id].listenerIndex=Array()),g++
var r=h(i(g))
return s[e.id].listenerIndex.push(g),n.appendChild(r),n.childElementCount>=2?document.getElementById('addTaskListener').style.display='none':document.getElementById('addTaskListener').style.display='inline-block',!0},removeListener:function(e,t,n,i){return i.parentElement.removeChild(i),u('[data-list-entry-container]',t).childElementCount>=2?document.getElementById('addTaskListener').style.display='none':document.getElementById('addTaskListener').style.display='inline-block',!0},clearListenerValue:function(e,t,n,i){return u('input[name=listenerValue]',i).value='',!0},canClearListenerValue:function(e,t,n,i){return''!==u('input[name=listenerValue]',i).value},isExpression:function(e,t,n,i){return'expression'===m.selectedType('select[name=listenerType]',i)},isJavaClass:function(e,t,n,i){return'class'===m.selectedType('select[name=listenerType]',i)},isDelegateExpression:function(e,t,n,i){return'delegateExpression'===m.selectedType('select[name=listenerType]',i)},isScript:function(e,t,n,i){return'script'===m.selectedType('select[name=listenerType]',i)},isNotScript:function(e,t,n,i){return'script'!==m.selectedType('select[name=listenerType]',i)},script:v,cssClasses:['pp-textfield']})}},{'../../../Utils':6,'../../../helper/CmdHelper':24,'../../../helper/ElementHelper':25,'./implementation/Script':96,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382,'min-dom/lib/domify':530,'min-dom/lib/query':533}],79:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('../../../factory/EntryFactory')
t.exports=function(e,t){i(t,'camunda:Assignable')&&(e.entries.push(r.textField({id:'candidateUsers',description:'A list of candidates for this User Task',label:'Candidate Users',modelProperty:'candidateUsers'})),e.entries.push(r.textField({id:'excludedUsers',description:'A list of candidates for this User Task',label:'Excluded Users',modelProperty:'excludedUsers'})),e.entries.push(r.textField({id:'candidateGroups',description:'A list of candidate groups for this User Task',label:'Candidate Groups',modelProperty:'candidateGroups'})),e.entries.push(r.textField({id:'excludedGroups',description:'A list of candidate groups for this User Task',label:'Excluded Groups',modelProperty:'excludedGroups'})),e.entries.push(r.textField({id:'candidateRoles',description:'A list of candidate groups for this User Task',label:'Candidate Roles',modelProperty:'candidateRoles'})),e.entries.push(r.textField({id:'excludedRoles',description:'A list of candidate groups for this User Task',label:'Excluded Roles',modelProperty:'excludedRoles'})),e.entries.push(r.textField({id:'dueDate',description:'The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)',label:'Due Date',modelProperty:'dueDate'})),e.entries.push(r.textField({id:'followUpDate',description:'The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)',label:'Follow Up Date',modelProperty:'followUpDate'})),e.entries.push(r.textField({id:'priority',description:'Priority of this User Task',label:'Priority',modelProperty:'priority'})))}},{'../../../factory/EntryFactory':15,'bpmn-js/lib/util/ModelUtil':178}],80:[function(e,t,n){'use strict'
function i(e,t){var n=s(e)
return c.getExtensionElements(n,t)||[]}function r(e,t){var n=i(e,t)
return l(n,function(e){return!e.businessKey})}function o(e){var t='source'
return'all'===e.variables?t='variables':void 0!==e.source?t='source':void 0!==e.sourceExpression&&(t='sourceExpression'),t}var a=e('bpmn-js/lib/util/ModelUtil').is,s=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,l=e('lodash/collection/filter'),c=e('../../../helper/ExtensionElementsHelper'),u=e('../../../helper/CmdHelper'),p=e('../../../helper/ElementHelper'),d=e('./implementation/ExtensionElements'),f=e('../../../factory/EntryFactory'),h=[{name:'Source',value:'source'},{name:'Source Expression',value:'sourceExpression'},{name:'All',value:'variables'}]
t.exports=function(e,t,n){if(a(t,'camunda:CallActivity')){var i=function(e,t){return!!l(e,t)},l=function(e,t){var n=t.parentNode,i=y.getSelected(e,n),o=r(e,'camunda:In')[i.idx]
return!o&&b&&(i=b.getSelected(e,n),o=r(e,'camunda:Out')[i.idx]),o},m=function(e){return function(t,n,i,a,s,l){var c=l+' : ',u=r(t,e),p=u[l],d=o(p)
c+='variables'===d?'all':'source'===d?p.source||'<empty>':'sourceExpression'===d?p.sourceExpression||'<empty>':'<empty>',i.text=c}},v=function(e){return function(t,i,r){var o=p.createElement(e,{source:''},i,n)
return u.addElementsTolist(t,i,'values',[o])}},g=function(e){return function(t,n,i,o){var a=r(t,e),l=a[o]
if(l){return c.removeEntry(s(t),t,l)}}},y=d(t,n,{id:'variableMapping-in',label:'In Mapping',modelProperty:'source',prefix:'In',idGeneration:!1,resizable:!0,createExtensionElement:v('camunda:In'),removeExtensionElement:g('camunda:In'),getExtensionElements:function(e){return r(e,'camunda:In')},onSelectionChange:function(e,t,n,i){b&&b.deselect(e,t.parentNode)},setOptionLabelValue:m('camunda:In')})
e.entries.push(y)
var b=d(t,n,{id:'variableMapping-out',label:'Out Mapping',modelProperty:'source',prefix:'Out',idGeneration:!1,resizable:!0,createExtensionElement:v('camunda:Out'),removeExtensionElement:g('camunda:Out'),getExtensionElements:function(e){return r(e,'camunda:Out')},onSelectionChange:function(e,t,n,i){y.deselect(e,t.parentNode)},setOptionLabelValue:m('camunda:Out')})
e.entries.push(b),e.entries.push(f.label({id:'variableMapping-typeLabel',get:function(e,t){var n=l(e,t),i=''
return a(n,'camunda:In')?i='In Mapping':a(n,'camunda:Out')&&(i='Out Mapping'),{label:i}},showLabel:function(e,t){return i(e,t)}})),e.entries.push(f.selectBox({id:'variableMapping-inOutType',label:'Type',selectOptions:h,modelProperty:'inOutType',get:function(e,t){return{inOutType:o(l(e,t)||{})}},set:function(e,t,n){var i=t.inOutType,r={source:void 0,sourceExpression:void 0,variables:void 0}
'source'===i?r.source='':'sourceExpression'===i?r.sourceExpression='':'variables'===i&&(r.variables='all')
var o=l(e,n)
return u.updateBusinessObject(e,o,r)},disabled:function(e,t){return!i(e,t)}})),e.entries.push(f.textField({id:'variableMapping-source',dataValueLabel:'sourceLabel',modelProperty:'source',get:function(e,t){var n=l(e,t)||{},i='',r=o(n)
return'source'===r?i='Source':'sourceExpression'===r&&(i='Source Expression'),{source:n[r],sourceLabel:i}},set:function(e,t,n){t.source=t.source||void 0
var i=l(e,n),r=o(i),a={}
return a[r]=t.source||'',u.updateBusinessObject(e,i,a)},validate:function(e,t,n){var i=l(e,n),r={}
return i&&(t.source||(r.source='Mapping must have a '+t.sourceLabel.toLowerCase()||'value')),r},disabled:function(e,t){var n=l(e,t)
return!n||n&&n.variables}})),e.entries.push(f.textField({id:'variableMapping-target',label:'Target',modelProperty:'target',get:function(e,t){return{target:(l(e,t)||{}).target}},set:function(e,t,n){t.target=t.target||void 0
var i=l(e,n)
return u.updateBusinessObject(e,i,t)},validate:function(e,t,n){var i=l(e,n),r={}
if(i){var a=o(i)
t.target||'variables'===a||(r.target='Mapping must have a target')}return r},disabled:function(e,t){var n=l(e,t)
return!n||n&&n.variables}})),e.entries.push(f.checkbox({id:'variableMapping-local',label:'Local',modelProperty:'local',get:function(e,t){return{local:(l(e,t)||{}).local}},set:function(e,t,n){t.local=t.local||!1
var i=l(e,n)
return u.updateBusinessObject(e,i,t)},disabled:function(e,t){return!i(e,t)}}))}}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'../../../helper/ElementHelper':25,'../../../helper/ExtensionElementsHelper':27,'./implementation/ExtensionElements':85,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/filter':380}],81:[function(e,t,n){'use strict'
var i=e('../../../factory/EntryFactory'),r=e('../../../helper/CmdHelper'),o=e('bpmn-js/lib/util/ModelUtil').is,a=e('bpmn-js/lib/util/ModelUtil').getBusinessObject
t.exports=function(e,t){var n=a(t)
if(n&&(o(t,'bpmn:Process')||o(t,'bpmn:Participant')&&n.get('processRef'))){var s=i.textField({id:'versionTag',description:'version tag of the process',label:'Version Tag',modelProperty:'versionTag'})
o(t,'bpmn:Participant')&&(s.get=function(e){return{versionTag:n.get('processRef').get('camunda:versionTag')}},s.set=function(e,t){var i=n.get('processRef')
return r.updateBusinessObject(e,i,{'camunda:versionTag':t.versionTag||void 0})}),e.entries.push(s)}}},{'../../../factory/EntryFactory':15,'../../../helper/CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178}],82:[function(e,t,n){'use strict'
function i(e){return c.isAsyncBefore(e)}function r(e){return c.isAsyncAfter(e)}function o(e){return c.isExclusive(e)}function a(e,t){return c.removeFailedJobRetryTimeCycle(e,t)}var s=e('lodash/object/assign'),l=e('../../../../factory/EntryFactory'),c=e('../../../../helper/AsyncCapableHelper'),u=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n){var c=n.getBusinessObject,p=n.idPrefix||'',d=n.labelPrefix||''
return[l.checkbox({id:p+'asyncBefore',label:d+'Asynchronous Before',modelProperty:'asyncBefore',get:function(e,t){return{asyncBefore:i(c(e))}},set:function(e,t){var n=c(e),i=!!t.asyncBefore,o={'camunda:asyncBefore':i,'camunda:async':!1},l=[]
return r(n)||i||(o=s({'camunda:exclusive':!0},o),l.push(a(n,e))),l.push(u.updateBusinessObject(e,n,o)),l}}),l.checkbox({id:p+'asyncAfter',label:d+'Asynchronous After',modelProperty:'asyncAfter',get:function(e,t){return{asyncAfter:r(c(e))}},set:function(e,t){var n=c(e),r=!!t.asyncAfter,o={'camunda:asyncAfter':r},l=[]
return i(n)||r||(o=s({'camunda:exclusive':!0},o),l.push(a(n,e))),l.push(u.updateBusinessObject(e,n,o)),l}}),l.checkbox({id:p+'exclusive',label:d+'Exclusive',modelProperty:'exclusive',get:function(e,t){return{exclusive:o(c(e))}},set:function(e,t){var n=c(e)
return u.updateBusinessObject(e,n,{'camunda:exclusive':!!t.exclusive})},disabled:function(e){var t=c(e)
return t&&!r(t)&&!i(t)}})]}},{'../../../../factory/EntryFactory':15,'../../../../helper/AsyncCapableHelper':23,'../../../../helper/CmdHelper':24,'lodash/object/assign':512}],83:[function(e,t,n){'use strict'
function i(e){return-1!==['bpmn','cmmn','dmn'].indexOf(e)}var r=e('../../../../helper/CmdHelper'),o=e('../../../../factory/EntryFactory'),a=(e('../../../../helper/ElementHelper'),e('../../../../helper/ExtensionElementsHelper'),e('./ResultVariable'),e('bpmn-js/lib/util/ModelUtil').getBusinessObject),s=(e('bpmn-js/lib/util/ModelUtil').is,e('lodash/collection/forEach'),{bpmn:{element:'calledElement',binding:'camunda:calledElementBinding',version:'camunda:calledElementVersion'},cmmn:{element:'camunda:caseRef',binding:'camunda:caseBinding',version:'camunda:caseVersion'},dmn:{element:'camunda:decisionRef',binding:'camunda:decisionRefBinding',version:'camunda:decisionRefVersion'}})
t.exports=function(e,t,n){function l(e,t){var n=c(e)
return(s[n]||{})[t]}var c=n.getCallableType,u=[]
return u.push(o.textField({id:'callable-element-ref',dataValueLabel:'callableElementLabel',modelProperty:'callableElementRef',get:function(e,t){var n,i=l(e,'element')
if(i){n=a(e).get(i)}var r='',o=c(e)
return'bpmn'===o?r='Called Element':'cmmn'===o?r='Case Ref':'dmn'===o&&(r='Decision Ref'),{callableElementRef:n,callableElementLabel:r}},set:function(e,t,n){var i=t.callableElementRef,o=l(e,'element'),a={}
return a[o]=i||'',r.updateProperties(e,a)},validate:function(e,t,n){var r=t.callableElementRef
return i(c(e))&&!r?{callableElementRef:'Value must provide a value.'}:{}},disabled:function(e,t){return!i(c(e))}})),u}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'../../../../helper/ExtensionElementsHelper':27,'./ResultVariable':95,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382}],84:[function(e,t,n){'use strict'
function i(e){return-1!==l.indexOf(e)}function r(e){return c[e]}function o(e){switch(e){case'class':return'Java Class'
case'expression':return'Expression'
case'delegateExpression':return'Delegate Expression'
default:return''}}var a=e('../../../../factory/EntryFactory'),s=e('../../../../helper/CmdHelper'),l=['class','expression','delegateExpression'],c={class:'camunda:class',expression:'camunda:expression',delegateExpression:'camunda:delegateExpression'}
t.exports=function(e,t,n){var l=n.getImplementationType,c=n.getBusinessObject
return[a.textField({id:'delegate',label:'Value',dataValueLabel:'delegationLabel',modelProperty:'delegate',get:function(e,t){var n=c(e),i=l(e),a=r(i),s=o(i)
return{delegate:n.get(a),delegationLabel:s}},set:function(e,t,n){var i=c(e),o=l(e),a=r(o),u={}
return u[a]=t.delegate||'',s.updateBusinessObject(e,i,u)},validate:function(e,t,n){return i(l(e))&&!t.delegate?{delegate:'Must provide a value'}:{}},disabled:function(e,t){return!i(l(e))}})]}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24}],85:[function(e,t,n){'use strict'
function i(e,t){var n=l(e,'div.djs-properties-tab')
return s('select[name=selectedExtensionElement]'+(t?'[id=cam-extensionElements-'+t+']':''),n)}function r(e,t){var n=i(e,t)
return{value:(n||{}).value,idx:(n||{}).selectedIndex}}function o(e){return e+='_',f.nextId(e)}var a=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,s=e('min-dom/lib/query'),l=e('min-dom/lib/closest'),c=e('min-dom/lib/domify'),u=e('lodash/collection/forEach'),p=e('../../../../helper/ElementHelper'),d=e('../../../../helper/CmdHelper'),f=e('../../../../Utils')
t.exports=function(e,t,n){var s=n.id,l=n.prefix||'elem',f=n.label||s,h=!1!==n.idGeneration||n.idGeneration,m=n.modelProperty||'id',v=n.getExtensionElements,g=n.createExtensionElement,y='function'==typeof g,b=n.removeExtensionElement,x='function'==typeof b,E=n.onSelectionChange,w=n.hideExtensionElements,_='function'==typeof w,C=n.setOptionLabelValue,T=n.size||5,S=n.resizable,A=function(e,t,n,i){if('function'==typeof E){return E(e,t,n,i)}},j=function(e){return'<option value="'+e+'" data-value data-name="extensionElementValue">'+e+'</option>'},P=function(e,t){S&&(e.size=t>T?t:T)}
return{id:s,html:'<div class="pp-row pp-element-list" '+(_?'data-show="hideElements"':'')+'><label for="cam-extensionElements-'+s+'">'+f+'</label><div class="pp-field-wrapper"><select id="cam-extensionElements-'+s+'"name="selectedExtensionElement" size="'+T+'" data-list-entry-container data-on-change="selectElement"></select>'+(y?'<button class="add" id="cam-extensionElements-create-'+s+'" data-action="createElement"><span>+</span></button>':'')+(x?'<button class="clear" id="cam-extensionElements-remove-'+s+'" data-action="removeElement" data-disable="disableRemove"><span>-</span></button>':'')+'</div></div>',get:function(e,t){var n=v(e),r=[]
u(n,function(e){r.push({extensionElementValue:e.get(m)})})
var o=i(t.parentNode,s)
return P(o,r.length),r},set:function(e,n,i){var r=this.__action
delete this.__action
var o=a(e),s=o.get('extensionElements')
if('create-extension-element'===r.id){var l=[]
return s||(s=p.createElement('bpmn:ExtensionElements',{values:[]},o,t),l.push(d.updateProperties(e,{extensionElements:s}))),l.push(g(e,s,r.value)),l}if('remove-extension-element'===r.id){return b(e,s,r.value,r.idx)}},createListEntryTemplate:function(e,t,n){return P(n,n.options.length+1),j(e.extensionElementValue)},deselect:function(e,t){i(t,s).selectedIndex=-1},getSelected:function(e,t){return r(t,s)},setControlValue:function(e,t,n,i,r,o){t.value=r,C?C(e,t,n,i,r,o):t.text=r},createElement:function(e,t){var n
h&&(n=o(l))
var r=i(t,s),a=c(j(n))
return r.appendChild(a),r.lastChild.selected='selected',A(e,t),P(r,r.options.length),this.__action={id:'create-extension-element',value:n},!0},removeElement:function(e,t){var n=r(t,s),o=i(t,s)
return o.removeChild(o.options[n.idx]),P(o,o.options.length),this.__action={id:'remove-extension-element',value:n.value,idx:n.idx},!0},hideElements:function(e,t,n,i){return!w(e,t,n,i)},disableRemove:function(e,t,n,i){return(r(t,s)||{}).idx<0},selectElement:A}}},{'../../../../Utils':6,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/forEach':382,'min-dom/lib/closest':528,'min-dom/lib/domify':530,'min-dom/lib/query':533}],86:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n){function o(e){return'external'===a(e)}var a=n.getImplementationType,s=n.getBusinessObject
return[i.textField({id:'externalTopic',label:'Topic',modelProperty:'externalTopic',get:function(e,t){return{externalTopic:s(e).get('camunda:topic')}},set:function(e,t,n){var i=s(e)
return r.updateBusinessObject(e,i,{'camunda:topic':t.externalTopic})},validate:function(e,t,n){return o(e)&&!t.externalTopic?{externalTopic:'Must provide a value'}:{}},disabled:function(e,t){return!o(e)}})]}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24}],87:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n){var o=n.getBusinessObject
return[i.textField({id:'externalTaskPriority',description:'The attribute specifies the initial priority of an External Task when it is created.',label:'Task Priority',modelProperty:'taskPriority',get:function(e,t){return{taskPriority:o(e).get('camunda:taskPriority')}},set:function(e,t){var n=o(e)
return r.updateBusinessObject(e,n,{'camunda:taskPriority':t.taskPriority||void 0})}})]}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24}],88:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper'),o=e('../../../../helper/ExtensionElementsHelper'),a=e('../../../../helper/ElementHelper'),s=e('lodash/object/assign'),l=e('lodash/collection/map'),c=['class','expression','delegateExpression'],u={'camunda:class':void 0,'camunda:expression':void 0,'camunda:delegateExpression':void 0,'camunda:resultVariable':void 0},p={'camunda:decisionRef':void 0,'camunda:decisionRefBinding':'latest','camunda:decisionRefVersion':void 0,'camunda:mapDecisionResult':'resultList'},d={'camunda:type':void 0,'camunda:topic':void 0},f=[{value:'class',name:'Java Class'},{value:'expression',name:'Expression'},{value:'delegateExpression',name:'Delegate Expression'}],h=[{value:'dmn',name:'DMN'}],m=[{value:'external',name:'External'}],v=[{value:'connector',name:'Rest Connector'}],g=[{value:'evfconnector',name:'EVF Connector'}],y=[{value:'finalizetransactionconnector',name:'Finalize Transaction Connector'}],b=[{value:'script',name:'Script'}]
t.exports=function(e,t,n){var x=n.getImplementationType,E=n.getBusinessObject,w=n.hasDmnSupport,_=n.hasExternalSupport,C=n.hasServiceTaskLikeSupport,T=n.hasEVServiceTaskLikeSupport,S=n.hasFTServiceTaskLikeSupport,A=n.hasScriptSupport,j=[],P=f.concat([]),R=[]
return w&&(R=R.concat(h)),_&&(P=P.concat(m)),C&&(R=R.concat(v)),T&&(R=R.concat(g)),S&&(R=R.concat(y)),A&&(P=P.concat(b)),P.push({value:''}),j.push(i.selectBox({id:'implementation',description:'Configure the implementation of the task.',label:'Implementation',selectOptions:R,modelProperty:'implType',get:function(e,t){return{implType:x(e)||''}},set:function(e,n,i){var f=E(e),h=x(e),m=n.implType,v=s({},u)
if(-1!==c.indexOf(m)){var g='';-1!==c.indexOf(h)&&(g=f.get('camunda:'+h)),v['camunda:'+m]=g}w&&(v=s(v,p),'dmn'===m&&(v['camunda:decisionRef']='')),_&&(v=s(v,d),'external'===m&&(v['camunda:type']='external',v['camunda:topic']='')),A&&(v['camunda:script']=void 0,'script'===m&&(v['camunda:script']=a.createElement('camunda:Script',{},f,t)))
var y=[]
if(y.push(r.updateBusinessObject(e,f,v)),C&&'connector'===m){var b=o.getExtensionElements(f,'camunda:Connector'),j=o.getExtensionElements(f,'camunda:EVFConnector')
if(j&&y.push(l(j,function(t){return o.removeEntry(f,e,t)})),y.push(l(b,function(t){return o.removeEntry(f,e,t)})),'connector'===m){var P=f.get('extensionElements')
P&&'connector'===h||(P=a.createElement('bpmn:ExtensionElements',{values:[]},f,t),y.push(r.updateBusinessObject(e,f,{extensionElements:P})))
var R=a.createElement('camunda:Connector',{},P,t)
y.push(r.addAndRemoveElementsFromList(e,P,'values','extensionElements',[R],[]))}}if(T&&'evfconnector'===m){y=[],y.push(r.updateBusinessObject(e,f,v))
var b=o.getExtensionElements(f,'camunda:EVFConnector'),j=o.getExtensionElements(f,'camunda:Connector')
if(j&&y.push(l(j,function(t){return o.removeEntry(f,e,t)})),y.push(l(b,function(t){return o.removeEntry(f,e,t)})),'evfconnector'===m){var P=null
P||(P=a.createElement('bpmn:ExtensionElements',{values:[]},f,t),y.push(r.updateBusinessObject(e,f,{extensionElements:P})))
var R=a.createElement('camunda:EVFConnector',{},P,t)
y.push(r.addAndRemoveElementsFromList(e,P,'values','extensionElements',[R],[]))}}if(S&&'finalizetransactionconnector'===m){y=[],y.push(r.updateBusinessObject(e,f,v))
var b=o.getExtensionElements(f,'camunda:FinalizeTransactionConnector'),j=o.getExtensionElements(f,'camunda:Connector'),k=o.getExtensionElements(f,'camunda:EVFConnector')
if(j&&y.push(l(j,function(t){return o.removeEntry(f,e,t)})),k&&y.push(l(k,function(t){return o.removeEntry(f,e,t)})),y.push(l(b,function(t){return o.removeEntry(f,e,t)})),'finalizetransactionconnector'===m){var P=null
P||(P=a.createElement('bpmn:ExtensionElements',{values:[]},f,t),y.push(r.updateBusinessObject(e,f,{extensionElements:P})))
var R=a.createElement('camunda:FinalizeTransactionConnector',{},P,t)
y.push(r.addAndRemoveElementsFromList(e,P,'values','extensionElements',[R],[]))}}return y}})),j}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'../../../../helper/ExtensionElementsHelper':27,'lodash/collection/map':386,'lodash/object/assign':512}],89:[function(e,t,n){'use strict'
function i(e,t){return g.getInputOutput(e,t)}function r(e){return g.getConnector(e)}function o(e,t){return g.getInputParameters(e,t)}function a(e,t){return g.getOutputParameters(e,t)}function s(e,t,n){return g.getInputParameter(e,t,n)}function l(e,t,n){return g.getOutputParameter(e,t,n)}function c(e,t,n,i){return m.createElement(e,i,t,n)}function u(e,t,n){return c('camunda:InputOutput',e,t,n)}function p(e,t,n,i){return c(e,t,n,i)}function d(e,t){return g.isInputOutputSupported(e,t)}function f(e,t){return g.areOutputParametersSupported(e,t)}var h=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,m=e('../../../../helper/ElementHelper'),v=e('../../../../helper/ExtensionElementsHelper'),g=e('../../../../helper/InputOutputHelper'),y=e('../../../../helper/CmdHelper'),b=e('./ExtensionElements'),x={'camunda:Map':'Map','camunda:List':'List','camunda:Script':'Script'}
t.exports=function(e,t,n){n=n||{}
var c=!!n.insideConnector,m=n.idPrefix||'',g=function(e,t){var n=S&&S.getSelected(e,t)||{idx:-1},i=s(e,c,n.idx)
return!i&&A&&(n=A.getSelected(e,t),i=l(e,c,n.idx)),i},E={getSelectedParameter:g},w=E.entries=[]
if(!d(e)){return E}
var _=function(e,n,o){return function(o,a,s){var l=[],d=i(o,c)
if(!d){var f=c?r(o):a
d=u(f,t,{inputParameters:[],outputParameters:[]}),c?l.push(y.updateBusinessObject(o,f,{inputOutput:d})):l.push(y.addAndRemoveElementsFromList(o,a,'values','extensionElements',[d],[]))}var h=p(e,d,t,{name:s})
return l.push(y.addElementsTolist(o,d,n,[h])),l}},C=function(e,t,n){return function(o,a,s,l){var u=i(o,c),p=e(o,c,l),d=[]
d.push(y.removeElementsFromList(o,u,t,null,[p]))
var f=u.get(t).length-1,m=(u.get(n)||[]).length
if(!f&&!m){if(c){var g=r(o)
d.push(y.updateBusinessObject(o,g,{inputOutput:void 0}))}else {d.push(v.removeEntry(h(o),o,u))}}
return d}},T=function(e){return function(t,n,i,r,o,a){var s=e(t,c,a),l='Text',u=s.get('definition')
if(void 0!==u){var p=u.$type
l=x[p]}i.text=(o||'')+' : '+l}},S=b(e,t,{id:m+'inputs',label:'Input Parameters',modelProperty:'name',prefix:'Input',resizable:!0,createExtensionElement:_('camunda:InputParameter','inputParameters'),removeExtensionElement:C(s,'inputParameters','outputParameters'),getExtensionElements:function(e){return o(e,c)},onSelectionChange:function(e,t,n,i){A&&A.deselect(e,t),window.currentIO='input'},setOptionLabelValue:T(s)})
if(w.push(S),f(e,c)){var A=b(e,t,{id:m+'outputs',label:'Output Parameters',modelProperty:'name',prefix:'Output',resizable:!0,createExtensionElement:_('camunda:OutputParameter','outputParameters'),removeExtensionElement:C(l,'outputParameters','inputParameters'),getExtensionElements:function(e){return a(e,c)},onSelectionChange:function(e,t,n,i){S.deselect(e,t),window.currentIO='output'},setOptionLabelValue:T(l)})
w.push(A)}return E}},{'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'../../../../helper/ExtensionElementsHelper':27,'../../../../helper/InputOutputHelper':30,'./ExtensionElements':85,'bpmn-js/lib/util/ModelUtil':178}],90:[function(e,t,n){'use strict'
function i(e,t,n,i){return u.createElement(e,i,t,n)}function r(e){return l(e,'camunda:Script')}function o(e){return l(e,'camunda:List')}function a(e){return l(e,'camunda:Map')}function s(e,t){return p.isInputOutputSupported(e,t)}var l=e('bpmn-js/lib/util/ModelUtil').is,c=e('bpmn-js/lib/util/ModelUtil'),u=(c.getBusinessObject,e('../../../../helper/ElementHelper')),p=e('../../../../helper/InputOutputHelper'),d=e('../../../../helper/CmdHelper'),f=e('../../../../Utils'),h=e('../../../../factory/EntryFactory'),m=e('./Script')('scriptFormat','value',!0),v={'camunda:Map':{value:'map',label:'Map'},'camunda:List':{value:'list',label:'List'},'camunda:Script':{value:'script',label:'Script'}}
t.exports=function(e,t,n){n=n||{}
var l=!!n.insideConnector,c=n.idPrefix||'',u=n.getSelectedParameter
if(!s(e,l)){return[]}
var p=[],g=function(e,t){return u(e,t)}
p.push(h.validationAwareTextField({id:c+'parameterName',label:'Name',modelProperty:'name',getProperty:function(e,t){return(u(e,t)||{}).name},setProperty:function(e,t,n){var i=u(e,n)
return d.updateBusinessObject(e,i,t)},validate:function(e,t,n){var i=u(e,n),r={}
if(i){var o=t.name
o?f.containsSpace(o)&&(r.name='Name must not contain spaces'):r.name='Parameter must have a name'}return r},disabled:function(e,t){return!g(e,t)}}))
var y=[{value:'text',name:'Text'},{value:'script',name:'Script'},{value:'list',name:'List'},{value:'map',name:'Map'}]
return p.push(h.selectBox({id:c+'parameterType',label:'Type',selectOptions:y,modelProperty:'parameterType',get:function(e,t){var n=u(e,t),i='text'
if(void 0!==n){var r=n.get('definition')
if(void 0!==r){var o=r.$type
i=v[o].value}}return{parameterType:i}},set:function(e,n,r){var o=u(e,r),a={value:void 0,definition:void 0},s=function(e){return i(e,o,t)},l=n.parameterType
return'script'===l?a.definition=s('camunda:Script'):'list'===l?a.definition=s('camunda:List'):'map'===l&&(a.definition=s('camunda:Map')),d.updateBusinessObject(e,o,a)},show:function(e,t){return g(e,t)}})),p.push(h.textArea({id:c+'parameterType-text',label:'Value',modelProperty:'value',get:function(e,t){return{value:(u(e,t)||{}).value}},set:function(e,t,n){var i=u(e,n)
return t.value=t.value||void 0,d.updateBusinessObject(e,i,t)},show:function(e,t){var n=u(e,t)
return n&&!n.definition}})),p.push({id:c+'parameterType-script',html:'<div data-show="isScript">'+m.template+'</div>',get:function(e,t){var n=u(e,t)
return n&&r(n.definition)?m.get(e,n.definition):{}},set:function(e,t,n){var i=u(e,n),r=m.set(e,t)
return d.updateBusinessObject(e,i.definition,r)},validate:function(e,t,n){var i=u(e,n)
return i&&r(i.definition)?m.validate(e,i.definition):{}},isScript:function(e,t){var n=u(e,t)
return n&&r(n.definition)},script:m}),p.push(h.table({id:c+'parameterType-list',modelProperties:['value'],labels:['Value'],getElements:function(e,t){var n=u(e,t)
return n&&o(n.definition)?n.definition.items:[]},updateElement:function(e,t,n,i){var r=u(e,n),o=r.definition.items[i]
return d.updateBusinessObject(e,o,t)},addElement:function(e,n){var r=u(e,n),o=i('camunda:Value',r.definition,t,{value:void 0})
return d.addElementsTolist(e,r.definition,'items',[o])},removeElement:function(e,t,n){var i=u(e,t)
return d.removeElementsFromList(e,i.definition,'items',null,[i.definition.items[n]])},editable:function(e,t,n,i){var s=u(e,t),l=s.definition.items[i]
return!a(l)&&!o(l)&&!r(l)},setControlValue:function(e,t,n,i,s,l){var c=u(e,t),p=c.definition.items[l]
a(p)||o(p)||r(p)?n.value=v[p.$type].label:n.value=s},show:function(e,t){var n=u(e,t)
return n&&n.definition&&o(n.definition)}})),p.push(h.table({id:c+'parameterType-map',modelProperties:['key','value'],labels:['Key','Value'],addLabel:'Add Entry',getElements:function(e,t){var n=u(e,t)
return n&&a(n.definition)?n.definition.entries:[]},updateElement:function(e,t,n,i){var s=u(e,n),l=s.definition.entries[i]
return(a(l.definition)||o(l.definition)||r(l.definition))&&(t={key:t.key}),d.updateBusinessObject(e,l,t)},addElement:function(e,n){var r=u(e,n),o=i('camunda:Entry',r.definition,t,{key:void 0,value:void 0})
return d.addElementsTolist(e,r.definition,'entries',[o])},removeElement:function(e,t,n){var i=u(e,t)
return d.removeElementsFromList(e,i.definition,'entries',null,[i.definition.entries[n]])},editable:function(e,t,n,i){var s=u(e,t),l=s.definition.entries[i]
return'key'===n||!a(l.definition)&&!o(l.definition)&&!r(l.definition)},setControlValue:function(e,t,n,i,s,l){var c=u(e,t),p=c.definition.entries[l]
'key'!==i&&(a(p.definition)||o(p.definition)||r(p.definition))?n.value=v[p.definition.$type].label:n.value=s},show:function(e,t){var n=u(e,t)
return n&&n.definition&&a(n.definition)}})),p}},{'../../../../Utils':6,'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'../../../../helper/InputOutputHelper':30,'./Script':96,'bpmn-js/lib/util/ModelUtil':178}],91:[function(e,t,n){'use strict'
var i=e('../../../../factory/EntryFactory'),r=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n){var o=n.getBusinessObject
return[i.textField({id:'jobPriority',description:'Priority of a job',label:'Job Priority',modelProperty:'jobPriority',get:function(e,t){return{jobPriority:o(e).get('camunda:jobPriority')}},set:function(e,t){var n=o(e)
return r.updateBusinessObject(e,n,{'camunda:jobPriority':t.jobPriority||void 0})}})]}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24}],92:[function(e,t,n){'use strict'
function i(e){return p.isAsyncBefore(e)}function r(e){return p.isAsyncAfter(e)}function o(e){return p.getFailedJobRetryTimeCycle(e)}function a(e,t){return p.removeFailedJobRetryTimeCycle(e,t)}function s(e,t){return d.createElement('bpmn:ExtensionElements',{values:[]},e,t)}function l(e,t,n){return d.createElement('camunda:FailedJobRetryTimeCycle',{body:n},e,t)}var c=e('bpmn-js/lib/util/ModelUtil').is,u=e('../../../../factory/EntryFactory'),p=e('../../../../helper/AsyncCapableHelper'),d=e('../../../../helper/ElementHelper'),f=e('../../../../helper/EventDefinitionHelper'),h=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n){var p=n.getBusinessObject,d=n.idPrefix||'',m=n.labelPrefix||''
return[u.textField({id:d+'retryTimeCycle',label:m+'Retry Time Cycle',modelProperty:'cycle',get:function(e,t){var n=o(p(e))
return{cycle:n&&n.get('body')}},set:function(e,n,i){var r=n.cycle,c=p(e)
if(''===r||void 0===r){return a(c,e)}
var u=o(c)
if(!u){var d=[],f=c.get('extensionElements')
return f||(f=s(c,t),d.push(h.updateBusinessObject(e,c,{extensionElements:f}))),u=l(f,t,r),d.push(h.addAndRemoveElementsFromList(e,f,'values','extensionElements',[u],[])),d}return h.updateBusinessObject(e,u,{body:r})},disabled:function(e){var t=p(e)
return(!t||!i(t)&&!r(t))&&(!c(e,'bpmn:Event')||!f.getTimerEventDefinition(e))}})]}},{'../../../../factory/EntryFactory':15,'../../../../helper/AsyncCapableHelper':23,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'../../../../helper/EventDefinitionHelper':26,'bpmn-js/lib/util/ModelUtil':178}],93:[function(e,t,n){'use strict'
function i(e,t){var n=o(e)
return n&&n.get(t)}function r(e){return e&&e.get('body')}function o(e){return h(e).loopCharacteristics}function a(e){return i(e,'loopCardinality')}function s(e){return r(a(e))}function l(e){return i(e,'completionCondition')}function c(e){return r(l(e))}function u(e){return i(e,'camunda:collection')}function p(e){return i(e,'camunda:elementVariable')}function d(e,t,n){return v.createElement('bpmn:FormalExpression',{body:t},e,n)}function f(e,t,n,i){var r=o(e),a={}
if(!n){return a[t]=void 0,g.updateBusinessObject(e,r,a)}
var s=r.get(t)
return s?g.updateBusinessObject(e,s,{body:n}):(a[t]=d(r,n,i),g.updateBusinessObject(e,r,a))}var h=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,m=e('../../../../factory/EntryFactory'),v=e('../../../../helper/ElementHelper'),g=e('../../../../helper/CmdHelper'),y=e('min-dom/lib/classes')
t.exports=function(e,t){var n=[]
return n.push({id:'multiInstance-errorMessage',html:'<div data-show="isValid"><span class="pp-icon-warning"></span> Must provide either loop cardinality or collection</div>',isValid:function(e,t,n,i){var r=o(e),a=!0
if(r){var l=s(e),c=u(e)
a=!l&&!c}return y(t).toggle('pp-hidden',!a),y(n).toggle('pp-error-message',a),a}}),n.push(m.textField({id:'multiInstance-loopCardinality',label:'Loop Cardinality',modelProperty:'loopCardinality',get:function(e,t){return{loopCardinality:s(e)}},set:function(e,n){return f(e,'loopCardinality',n.loopCardinality,t)}})),n.push(m.textField({id:'multiInstance-collection',label:'Collection',modelProperty:'collection',get:function(e,t){return{collection:u(e)}},set:function(e,t){var n=o(e)
return g.updateBusinessObject(e,n,{'camunda:collection':t.collection||void 0})},validate:function(e,t,n){var i=u(e),r=p(e)
if(!i&&r){return{collection:'Must provide a value'}}}})),n.push(m.textField({id:'multiInstance-elementVariable',label:'Element Variable',modelProperty:'elementVariable',get:function(e,t){return{elementVariable:p(e)}},set:function(e,t){var n=o(e)
return g.updateBusinessObject(e,n,{'camunda:elementVariable':t.elementVariable||void 0})}})),n.push(m.textField({id:'multiInstance-completionCondition',description:'',label:'Completion Condition',modelProperty:'completionCondition',get:function(e){return{completionCondition:c(e)}},set:function(e,n){return f(e,'completionCondition',n.completionCondition,t)}})),n}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'bpmn-js/lib/util/ModelUtil':178,'min-dom/lib/classes':526}],94:[function(e,t,n){'use strict'
function i(){return h.nextId('Property_')}function r(e){var t=e&&o(e)
return t&&t.values?t.values:[]}function o(e){return s(e)?a(e):e.properties}function a(e){return g(e.values,function(e){return c(e,'camunda:Properties')})}function s(e){return c(e,'bpmn:ExtensionElements')}var l=e('bpmn-js/lib/util/ModelUtil').getBusinessObject,c=e('bpmn-js/lib/util/ModelUtil').is,u=e('../../../../factory/EntryFactory'),p=e('../../../../helper/ElementHelper'),d=e('../../../../helper/ExtensionElementsHelper'),f=e('../../../../helper/CmdHelper'),h=e('../../../../Utils'),m=e('lodash/object/assign'),v=e('lodash/collection/forEach'),g=e('lodash/collection/find')
t.exports=function(e,t,n){var a=n.getParent,g=n.modelProperties,y=n.createParent
return m(n,{addLabel:'Add Property',getElements:function(e,t){return r(a(e,t))},addElement:function(e,n){var r=[],l=a(e,n)
if(!l&&'function'==typeof y){var c=y(e)
l=c.parent,r.push(c.cmd)}var u=o(l)
u||(u=p.createElement('camunda:Properties',{},l,t),s(l)?r.push(f.addAndRemoveElementsFromList(e,l,'values','extensionElements',[u],[])):r.push(f.updateBusinessObject(e,l,{properties:u})))
var d={}
v(g,function(e){d[e]=void 0}),g.indexOf('id')>=0&&(d.id=i())
var h=p.createElement('camunda:Property',d,u,t)
return r.push(f.addElementsTolist(e,u,'values',[h])),r},updateElement:function(e,t,n,i){var o=a(e,n),s=r(o)[i]
return v(g,function(e){t[e]=t[e]||void 0}),f.updateBusinessObject(e,s,t)},validate:function(e,t,n,i){if(g.indexOf('id')>=0){var o=a(e,n),s=r(o),l=s[i]
if(l){var c=h.isIdValid(l,t.id)
if(c){return{id:c}}}}},removeElement:function(e,t,n){var i=[],u=a(e,t),p=o(u),h=r(u),m=h[n]
if(i.push(f.removeElementsFromList(e,p,'values',null,[m])),1===h.length){if(s(u)){var g=l(e)
v(u.values,function(t){c(t,'camunda:Properties')&&i.push(d.removeEntry(g,e,t))})}else {i.push(f.updateBusinessObject(e,u,{properties:void 0}))}}
return i}}),u.table(n)}},{'../../../../Utils':6,'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'../../../../helper/ElementHelper':25,'../../../../helper/ExtensionElementsHelper':27,'bpmn-js/lib/util/ModelUtil':178,'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/object/assign':512}],95:[function(e,t,n){'use strict'
var i=e('bpmn-js/lib/util/ModelUtil').is,r=e('lodash/object/assign'),o=e('../../../../factory/EntryFactory'),a=e('../../../../helper/CmdHelper')
t.exports=function(e,t,n){var s=n.getBusinessObject,l=n.hideResultVariable,c=n.id||'resultVariable',u=o.textField({id:c,label:'Result Variable',modelProperty:'resultVariable',get:function(e,t){return{resultVariable:s(e).get('camunda:resultVariable')}},set:function(e,t,n){var o=s(e),l=t.resultVariable||void 0,c={'camunda:resultVariable':l}
return i(o,'camunda:DmnCapable')&&!l&&(c=r({'camunda:mapDecisionResult':'resultList'},c)),a.updateBusinessObject(e,o,c)},disabled:function(e,t){if('function'==typeof l){return l.apply(u,arguments)}}})
return[u]}},{'../../../../factory/EntryFactory':15,'../../../../helper/CmdHelper':24,'bpmn-js/lib/util/ModelUtil':178,'lodash/object/assign':512}],96:[function(e,t,n){'use strict'
function i(e){return o.selectedType('select[name=scriptType]',e.parentElement)}var r=e('min-dom/lib/query'),o=e('../../../../Utils')
t.exports=function(e,t,n){return{template:'<div class="pp-row pp-textfield"><label for="cam-script-format">Script Format</label><div class="pp-field-wrapper"><input id="cam-script-format" type="text" name="scriptFormat" disabled="disabled" value="javascript"  /></div></div><div class="pp-row"><label for="cam-script-type">Script Type</label><div class="pp-field-wrapper"><select id="cam-script-type" disabled="disabled" name="scriptType" data-value ><option value="script" selected>Inline Script</option></select></div></div><div class="pp-row pp-textfield"><label for="cam-script-resource-val" data-show="script.isScriptResource">Resource</label><div class="pp-field-wrapper" data-show="script.isScriptResource"><input id="cam-script-resource-val" type="text" name="scriptResourceValue" /><button class="clear" data-action="script.clearScriptResource" data-show="script.canClearScriptResource"><span>X</span></button></div></div><div class="pp-row"><label for="cam-script-val" data-show="script.isScript">Script</label><div class="pp-field-wrapper" data-show="script.isScript"><textarea id="cam-script-val" onkeyup="textAreaAdjust(this)"  type="text" name="scriptValue"></textarea></div></div>',get:function(n,i){var r={},o=i.get('camunda:resource'),a=i.get(t)
i.get(e)
return void 0!==o?(r.scriptResourceValue=o,r.scriptType='scriptResource'):(r.scriptValue=a,r.scriptType='script'),r.scriptFormat='javscript',r},set:function(i,r,o){var a=r.scriptFormat,s=r.scriptType,l=r.scriptResourceValue,c=r.scriptValue,u={'camunda:resource':void 0}
return u[t]=void 0,u[e]=void 0,n?u[e]=a||'javascript':''!==a&&(u[e]=a),'scriptResource'===s?u['camunda:resource']=l||'':u[t]=c||'',u},validate:function(e,t){var i={}
return'script'!==t.scriptType||t.scriptValue||(i.scriptValue='Must provide a value'),'scriptResource'!==t.scriptType||t.scriptResourceValue||(i.scriptResourceValue='Must provide a value'),!n||t.scriptFormat&&0!==t.scriptFormat.length||(i.scriptFormat='Must provide a value'),i},clearScriptFormat:function(e,t,n,i){return r('input[name=scriptFormat]',i).value='javascript',!0},canClearScriptFormat:function(e,t,n,i){return''!==r('input[name=scriptFormat]',i).value},clearScriptResource:function(e,t,n,i){return r('input[name=scriptResourceValue]',i).value='',!0},canClearScriptResource:function(e,t,n,i){return''!==r('input[name=scriptResourceValue]',i).value},clearScript:function(e,t,n,i){return r('textarea[name=scriptValue]',i).value='',!0},canClearScript:function(e,t,n,i){return''!==r('textarea[name=scriptValue]',i).value},isScriptResource:function(e,t,n,r){return'scriptResource'===i(r)},isScript:function(e,t,n,r){return'script'===i(r)}}}},{'../../../../Utils':6,'min-dom/lib/query':533}],97:[function(e,t,n){'use strict'
function i(e){a.call(this,e),this.on('import.parse.complete',function(e){e.error||this._collectIds(e.definitions,e.context)},this),this.on('diagram.destroy',function(){this.moddle.ids.clear()},this)}var r=e('inherits'),o=e('ids'),a=e('./Viewer'),s=e('./NavigatedViewer')
r(i,a),t.exports=i,t.exports.Viewer=a,t.exports.NavigatedViewer=s,i.prototype.createDiagram=function(e){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>',e)},i.prototype._createModdle=function(e){var t=a.prototype._createModdle.call(this,e)
return t.ids=new o([32,36,1]),t},i.prototype._collectIds=function(e,t){var n,i=e.$model,r=i.ids
r.clear()
for(n in t.elementsById){r.claim(n,t.elementsById[n])}},i.prototype._interactionModules=[e('./features/label-editing'),e('./features/auto-resize'),e('./features/search'),e('diagram-js/lib/navigation/zoomscroll'),e('diagram-js/lib/navigation/movecanvas'),e('diagram-js/lib/navigation/touch'),e('diagram-js/lib/features/auto-scroll')],i.prototype._modelingModules=[e('diagram-js/lib/features/move'),e('diagram-js/lib/features/bendpoints'),e('diagram-js/lib/features/resize'),e('diagram-js/lib/features/space-tool'),e('diagram-js/lib/features/lasso-tool'),e('diagram-js/lib/features/hand-tool'),e('./features/global-connect'),e('./features/keyboard'),e('./features/copy-paste'),e('./features/snapping'),e('./features/modeling'),e('./features/context-pad'),e('./features/palette'),e('./features/replace-preview')],i.prototype._modules=[].concat(i.prototype._modules,i.prototype._interactionModules,i.prototype._modelingModules)},{'./NavigatedViewer':98,'./Viewer':99,'./features/auto-resize':105,'./features/context-pad':107,'./features/copy-paste':109,'./features/global-connect':111,'./features/keyboard':113,'./features/label-editing':117,'./features/modeling':149,'./features/palette':155,'./features/replace-preview':160,'./features/search':167,'./features/snapping':170,'diagram-js/lib/features/auto-scroll':219,'diagram-js/lib/features/bendpoints':225,'diagram-js/lib/features/hand-tool':246,'diagram-js/lib/features/lasso-tool':254,'diagram-js/lib/features/move':281,'diagram-js/lib/features/resize':297,'diagram-js/lib/features/space-tool':313,'diagram-js/lib/navigation/movecanvas':329,'diagram-js/lib/navigation/touch':330,'diagram-js/lib/navigation/zoomscroll':333,ids:362,inherits:364}],98:[function(e,t,n){'use strict'
function i(e){o.call(this,e)}var r=e('inherits'),o=e('./Viewer')
r(i,o),t.exports=i,i.prototype._navigationModules=[e('diagram-js/lib/navigation/zoomscroll'),e('diagram-js/lib/navigation/movecanvas')],i.prototype._modules=[].concat(i.prototype._modules,i.prototype._navigationModules)},{'./Viewer':99,'diagram-js/lib/navigation/movecanvas':329,'diagram-js/lib/navigation/zoomscroll':333,inherits:364}],99:[function(e,t,n){'use strict'
function i(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/,n=t.exec(e.message)
return n&&(e.message='unparsable content <'+n[1]+'> detected; this may indicate an invalid BPMN 2.0 diagram file'+n[2]),e}function r(e){return e+(u(e)?'px':'')}function o(e){e=s({},y,e),this.moddle=this._createModdle(e),this.container=this._createContainer(e),a(this.container),this._init(this.container,this.moddle,e)}function a(e){var t=b.BPMNIO_LOGO,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+t+'"></a>',i=p(n)
e.appendChild(i),x.bind(i,'click',function(e){b.open(),e.preventDefault()})}var s=e('lodash/object/assign'),l=e('lodash/object/omit'),c=e('lodash/lang/isString'),u=e('lodash/lang/isNumber'),p=e('min-dom/lib/domify'),d=e('min-dom/lib/query'),f=e('min-dom/lib/remove'),h=e('diagram-js'),m=e('bpmn-moddle'),v=e('inherits'),g=e('./import/Importer'),y={width:'100%',height:'100%',position:'relative',container:'body'}
v(o,h),t.exports=o,o.prototype.importXML=function(e,t){t=t||function(){}
var n=this
e=this._emit('import.parse.start',{xml:e})||e,this.moddle.fromXML(e,'bpmn:Definitions',function(e,r,o){if(r=n._emit('import.parse.complete',{error:e,definitions:r,context:o})||r,e){return e=i(e),n._emit('import.done',{error:e}),t(e)}
var a=o.warnings
n.importDefinitions(r,function(e,i){var r=[].concat(a,i||[])
n._emit('import.done',{error:e,warnings:r}),t(e,r)})})},o.prototype.saveXML=function(e,t){t||(t=e,e={})
var n=this.definitions
if(!n){return t(new Error('no definitions loaded'))}
this.moddle.toXML(n,e,t)},o.prototype.saveSVG=function(e,t){t||(t=e,e={})
var n=this.get('canvas'),i=n.getDefaultLayer(),r=n._svg.select('defs'),o=i.innerSVG(),a=r&&r.outerSVG()||'',s=i.getBBox()
t(null,'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+s.width+'" height="'+s.height+'" viewBox="'+s.x+' '+s.y+' '+s.width+' '+s.height+'" version="1.1">'+a+o+'</svg>')},o.prototype.importDefinitions=function(e,t){try{this.definitions&&this.clear(),this.definitions=e,g.importBpmnDiagram(this,e,t)}catch(e){t(e)}},o.prototype.getModules=function(){return this._modules},o.prototype.destroy=function(){h.prototype.destroy.call(this),f(this.container)},o.prototype.on=function(e,t,n,i){return this.get('eventBus').on(e,t,n,i)},o.prototype.off=function(e,t){this.get('eventBus').off(e,t)},o.prototype._init=function(e,t,n){var i=n.modules||this.getModules(),r=n.additionalModules||[],o=[{bpmnjs:['value',this],moddle:['value',t]}],a=[].concat(o,i,r),c=s(l(n,'additionalModules'),{canvas:s({},n.canvas,{container:e}),modules:a})
h.call(this,c)},o.prototype._emit=function(e,t){return this.get('eventBus').fire(e,t)},o.prototype._createContainer=function(e){var t,n=e.container
return n.get&&(n=n.get(0)),c(n)&&(n=d(n)),t=p('<div class="bjs-container"></div>'),s(t.style,{width:r(e.width),height:r(e.height),position:e.position}),n.appendChild(t),t},o.prototype._createModdle=function(e){var t=s({},this._moddleExtensions,e.moddleExtensions)
return new m(t)},o.prototype._modules=[e('./core'),e('diagram-js/lib/i18n/translate'),e('diagram-js/lib/features/selection'),e('diagram-js/lib/features/overlays')],o.prototype._moddleExtensions={}
var b=e('./util/PoweredByUtil'),x=e('min-dom/lib/event')},{'./core':100,'./import/Importer':173,'./util/PoweredByUtil':179,'bpmn-moddle':180,'diagram-js':201,'diagram-js/lib/features/overlays':286,'diagram-js/lib/features/selection':306,'diagram-js/lib/i18n/translate':321,inherits:364,'lodash/lang/isNumber':506,'lodash/lang/isString':509,'lodash/object/assign':512,'lodash/object/omit':517,'min-dom/lib/domify':530,'min-dom/lib/event':531,'min-dom/lib/query':533,'min-dom/lib/remove':534}],100:[function(e,t,n){t.exports={__depends__:[e('../draw'),e('../import')]}},{'../draw':103,'../import':175}],101:[function(e,t,n){'use strict'
function i(e,t,n,i){function c(e,t){U[e]=t}function u(e){return U[e]}function p(e){function t(e,t){var n=m({fill:'black',strokeWidth:1,strokeLinecap:'round',strokeDasharray:'none'},t.attrs),i=t.ref||{x:0,y:0},r=t.scale||1
return'none'===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]),c(e,t.element.attr(n).marker(0,0,20,20,i.x,i.y).attr({markerWidth:20*r,markerHeight:20*r}))}t('sequenceflow-end',{element:e.path('M 1 5 L 11 10 L 1 15 Z'),ref:{x:11,y:10},scale:.5}),t('messageflow-start',{element:e.circle(6,6,3.5),attrs:{fill:'white',stroke:'black'},ref:{x:6,y:6}}),t('messageflow-end',{element:e.path('m 1 5 l 0 -3 l 7 3 l -7 3 z'),attrs:{fill:'white',stroke:'black',strokeLinecap:'butt'},ref:{x:8.5,y:5}}),t('association-start',{element:e.path('M 11 5 L 1 10 L 11 15'),attrs:{fill:'none',stroke:'black',strokeWidth:1.5},ref:{x:1,y:10},scale:.5}),t('association-end',{element:e.path('M 1 5 L 11 10 L 1 15'),attrs:{fill:'none',stroke:'black',strokeWidth:1.5},ref:{x:12,y:10},scale:.5}),t('conditional-flow-marker',{element:e.path('M 0 10 L 8 6 L 16 10 L 8 14 Z'),attrs:{fill:'white',stroke:'black'},ref:{x:-1,y:10},scale:.5}),t('conditional-default-flow-marker',{element:e.path('M 1 4 L 5 16'),attrs:{stroke:'black'},ref:{x:-5,y:10},scale:.5})}function d(e,t,n,i,r){h(i)&&(r=i,i=0),i=i||0,r=H(r,{stroke:'black',strokeWidth:2,fill:'white'})
var o=t/2,a=n/2
return e.circle(o,a,Math.round((t+n)/4-i)).attr(r)}function f(e,t,n,i,r,o){return h(r)&&(o=r,r=0),r=r||0,o=H(o,{stroke:'black',strokeWidth:2,fill:'white'}),e.rect(r,r,t-2*r,n-2*r,i).attr(o)}function g(e,t,n,i){var r=t/2,o=n/2,a=[r,0,t,o,r,n,0,o]
return i=H(i,{stroke:'black',strokeWidth:2,fill:'white'}),e.polygon(a).attr(i)}function b(e,t,n){return n=H(n,['no-fill'],{stroke:'black',strokeWidth:2,fill:'none'}),S(t,n).appendTo(e)}function _(e,t,n){return n=H(n,['no-fill'],{strokeWidth:2,stroke:'black'}),e.path(t).attr(n)}function C(e,t,n,i){return _(t,n,m({'data-marker':e},i))}function T(e){return function(t,n){return V[e](t,n)}}function R(e){return V[e]}function k(e,t){var n=l(e),i=o(n)
return r(n,'bpmn:MessageEventDefinition')?R('bpmn:MessageEventDefinition')(t,e,i):r(n,'bpmn:TimerEventDefinition')?R('bpmn:TimerEventDefinition')(t,e,i):r(n,'bpmn:ConditionalEventDefinition')?R('bpmn:ConditionalEventDefinition')(t,e):r(n,'bpmn:SignalEventDefinition')?R('bpmn:SignalEventDefinition')(t,e,i):r(n,'bpmn:CancelEventDefinition')&&r(n,'bpmn:TerminateEventDefinition',{parallelMultiple:!1})?R('bpmn:MultipleEventDefinition')(t,e,i):r(n,'bpmn:CancelEventDefinition')&&r(n,'bpmn:TerminateEventDefinition',{parallelMultiple:!0})?R('bpmn:ParallelMultipleEventDefinition')(t,e,i):r(n,'bpmn:EscalationEventDefinition')?R('bpmn:EscalationEventDefinition')(t,e,i):r(n,'bpmn:LinkEventDefinition')?R('bpmn:LinkEventDefinition')(t,e,i):r(n,'bpmn:ErrorEventDefinition')?R('bpmn:ErrorEventDefinition')(t,e,i):r(n,'bpmn:CancelEventDefinition')?R('bpmn:CancelEventDefinition')(t,e,i):r(n,'bpmn:CompensateEventDefinition')?R('bpmn:CompensateEventDefinition')(t,e,i):r(n,'bpmn:TerminateEventDefinition')?R('bpmn:TerminateEventDefinition')(t,e,i):null}function M(e,t,n){return F.createText(e,t||'',n).addClass('djs-label')}function B(e,t,n){return M(e,l(t).name,{box:t,align:n,padding:5})}function D(e,t,n){return M(e,l(t).name,{box:t,align:n,style:{fontSize:'11px'}})}function O(e,t,n){var i=M(e,t,{box:{height:30,width:n.height},align:'center-middle'}),r=-1*n.height
i.transform('rotate(270) translate('+r+',0)')}function L(e){for(var t=e.waypoints,n='m  '+t[0].x+','+t[0].y,i=1;i<t.length;i++){n+='L'+t[i].x+','+t[i].y+' '}
return n}function N(e,t,n){var i,r=l(t),o=y(n,'SubProcessMarker')
i=o?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},v(n,function(n){R(n)(e,t,i)}),r.isForCompensation&&R('CompensationMarker')(e,t,i),'bpmn:AdHocSubProcess'===r.$type&&R('AdhocMarker')(e,t,i)
var a=r.loopCharacteristics,s=a&&a.isSequential
a&&(void 0===s&&R('LoopMarker')(e,t,i),!1===s&&R('ParallelMarker')(e,t,i),!0===s&&R('SequentialMarker')(e,t,i))}function I(e,t){var i=(t.height-16)/t.height
_(e,n.getScaledPath('DATA_OBJECT_COLLECTION_PATH',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.451,my:i}}),{strokeWidth:2})}x.call(this,e,i)
var F=new E({style:P,size:{width:100}}),U={},H=t.computeStyle,V=this.handlers={'bpmn:Event':function(e,t,n){return d(e,t.width,t.height,n)},'bpmn:StartEvent':function(e,t){var n={}
l(t).isInterrupting||(n={strokeDasharray:'6',strokeLinecap:'round'})
var i=R('bpmn:Event')(e,t,n)
return k(t,e),i},'bpmn:MessageEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_MESSAGE',{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:i?'black':'white',stroke:i?'white':'black'})},'bpmn:TimerEventDefinition':function(e,t){var i=d(e,t.width,t.height,.2*t.height,{strokeWidth:2})
_(e,n.getScaledPath('EVENT_TIMER_WH',{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:'square'})
for(var r=0;r<12;r++){var o=n.getScaledPath('EVENT_TIMER_LINE',{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),a=t.width/2
_(e,o,{strokeWidth:1,strokeLinecap:'square',transform:'rotate('+30*r+','+t.height/2+','+a+')'})}return i},'bpmn:EscalationEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_ESCALATION',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.555}}),{strokeWidth:1,fill:i?'black':'none'})},'bpmn:ConditionalEventDefinition':function(e,t){return _(e,n.getScaledPath('EVENT_CONDITIONAL',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{strokeWidth:1})},'bpmn:LinkEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_LINK',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:i?'black':'none'})},'bpmn:ErrorEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_ERROR',{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:i?'black':'none'})},'bpmn:CancelEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_CANCEL_45',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:i?'black':'none'}).transform('rotate(45)')},'bpmn:CompensateEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_COMPENSATION',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:i?'black':'none'})},'bpmn:SignalEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_SIGNAL',{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:i?'black':'none'})},'bpmn:MultipleEventDefinition':function(e,t,i){return _(e,n.getScaledPath('EVENT_MULTIPLE',{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:i?'black':'none'})},'bpmn:ParallelMultipleEventDefinition':function(e,t){return _(e,n.getScaledPath('EVENT_PARALLEL_MULTIPLE',{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{strokeWidth:1})},'bpmn:EndEvent':function(e,t){var n=R('bpmn:Event')(e,t,{strokeWidth:4})
return k(t,e),n},'bpmn:TerminateEventDefinition':function(e,t){return d(e,t.width,t.height,8,{strokeWidth:4,fill:'black'})},'bpmn:IntermediateEvent':function(e,t){var n=R('bpmn:Event')(e,t,{strokeWidth:1})
return d(e,t.width,t.height,j,{strokeWidth:1,fill:'none'}),k(t,e),n},'bpmn:IntermediateCatchEvent':T('bpmn:IntermediateEvent'),'bpmn:IntermediateThrowEvent':T('bpmn:IntermediateEvent'),'bpmn:Activity':function(e,t,n){return f(e,t.width,t.height,A,n)},'bpmn:Task':function(e,t,n){var i=R('bpmn:Activity')(e,t,n)
return B(e,t,'center-middle'),N(e,t),i},'bpmn:ServiceTask':function(e,t){var i=R('bpmn:Task')(e,t)
return _(e,n.getScaledPath('TASK_TYPE_SERVICE',{abspos:{x:12,y:18}}),{strokeWidth:1,fill:'none'}),_(e,n.getScaledPath('TASK_TYPE_SERVICE_FILL',{abspos:{x:17.2,y:18}}),{strokeWidth:0,stroke:'none',fill:'white'}),_(e,n.getScaledPath('TASK_TYPE_SERVICE',{abspos:{x:17,y:22}}),{strokeWidth:1,fill:'white'}),i},'bpmn:UserTask':function(e,t){var i=R('bpmn:Task')(e,t)
return _(e,n.getScaledPath('TASK_TYPE_USER_1',{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:'none'}),_(e,n.getScaledPath('TASK_TYPE_USER_2',{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:'none'}),_(e,n.getScaledPath('TASK_TYPE_USER_3',{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:'black'}),i},'bpmn:ManualTask':function(e,t){var i=R('bpmn:Task')(e,t)
return _(e,n.getScaledPath('TASK_TYPE_MANUAL',{abspos:{x:17,y:15}}),{strokeWidth:.25,fill:'white',stroke:'black'}),i},'bpmn:SendTask':function(e,t){var i=R('bpmn:Task')(e,t)
return _(e,n.getScaledPath('TASK_TYPE_SEND',{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:'black',stroke:'white'}),i},'bpmn:ReceiveTask':function(e,t){var i,r=l(t),o=R('bpmn:Task')(e,t)
return r.instantiate?(d(e,28,28,4.4,{strokeWidth:1}),i=n.getScaledPath('TASK_TYPE_INSTANTIATING_SEND',{abspos:{x:7.77,y:9.52}})):i=n.getScaledPath('TASK_TYPE_SEND',{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),_(e,i,{strokeWidth:1}),o},'bpmn:ScriptTask':function(e,t){var i=R('bpmn:Task')(e,t)
return _(e,n.getScaledPath('TASK_TYPE_SCRIPT',{abspos:{x:15,y:20}}),{strokeWidth:1}),i},'bpmn:BusinessRuleTask':function(e,t){var i=R('bpmn:Task')(e,t)
return _(e,n.getScaledPath('TASK_TYPE_BUSINESS_RULE_HEADER',{abspos:{x:8,y:8}})).attr({strokeWidth:1,fill:'AAA'}),_(e,n.getScaledPath('TASK_TYPE_BUSINESS_RULE_MAIN',{abspos:{x:8,y:8}})).attr({strokeWidth:1}),i},'bpmn:SubProcess':function(e,t,n){n=m({fillOpacity:.95},n)
var i=R('bpmn:Activity')(e,t,n),r=w.isExpanded(t)
return w.isEventSubProcess(t)&&i.attr({strokeDasharray:'1,2'}),B(e,t,r?'center-top':'center-middle'),r?N(e,t):N(e,t,['SubProcessMarker']),i},'bpmn:AdHocSubProcess':function(e,t){return R('bpmn:SubProcess')(e,t)},'bpmn:Transaction':function(e,n){var i=R('bpmn:SubProcess')(e,n),r=t.style(['no-fill','no-events'])
return f(e,n.width,n.height,A-2,j,r),i},'bpmn:CallActivity':function(e,t){return R('bpmn:SubProcess')(e,t,{strokeWidth:5})},'bpmn:Participant':function(e,t){var n=R('bpmn:Lane')(e,t,{fillOpacity:.95,fill:'White'})
w.isExpanded(t)?(b(e,[{x:30,y:0},{x:30,y:t.height}]),O(e,l(t).name,t)):M(e,l(t).name,{box:t,align:'center-middle'})
return!!l(t).participantMultiplicity&&R('ParticipantMultiplicityMarker')(e,t),n},'bpmn:Lane':function(e,t,n){var i=f(e,t.width,t.height,0,n||{fill:'none'}),r=l(t)
if('bpmn:Lane'===r.$type){O(e,r.name,t)}return i},'bpmn:InclusiveGateway':function(e,t){var n=g(e,t.width,t.height)
return d(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:'none'}),n},'bpmn:ExclusiveGateway':function(e,t){var i=g(e,t.width,t.height),r=n.getScaledPath('GATEWAY_EXCLUSIVE',{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}})
return s(t).isMarkerVisible&&_(e,r,{strokeWidth:1,fill:'black'}),i},'bpmn:ComplexGateway':function(e,t){var i=g(e,t.width,t.height)
return _(e,n.getScaledPath('GATEWAY_COMPLEX',{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:'black'}),i},'bpmn:ParallelGateway':function(e,t){var i=g(e,t.width,t.height)
return _(e,n.getScaledPath('GATEWAY_PARALLEL',{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:'black'}),i},'bpmn:EventBasedGateway':function(e,t){var i=l(t),r=g(e,t.width,t.height)
d(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:'none'})
var o=i.eventGatewayType,a=!!i.instantiate
if('Parallel'===o){var s=n.getScaledPath('GATEWAY_PARALLEL',{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}})
_(e,s).attr({strokeWidth:1,fill:'none'})}else if('Exclusive'===o){if(!a){var c=d(e,t.width,t.height,.26*t.height)
c.attr({strokeWidth:1,fill:'none'})}!function(){var i=n.getScaledPath('GATEWAY_EVENT_BASED',{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}})
_(e,i,{strokeWidth:2,fill:'none'})}()}return r},'bpmn:Gateway':function(e,t){return g(e,t.width,t.height)},'bpmn:SequenceFlow':function(e,t){var n=L(t),i=_(e,n,{strokeLinejoin:'round',markerEnd:u('sequenceflow-end')}),r=l(t),o=t.source.businessObject
return r.conditionExpression&&o.$instanceOf('bpmn:Activity')&&i.attr({markerStart:u('conditional-flow-marker')}),o.default&&(o.$instanceOf('bpmn:Gateway')||o.$instanceOf('bpmn:Activity'))&&o.default===r&&i.attr({markerStart:u('conditional-default-flow-marker')}),i},'bpmn:Association':function(e,t,n){var i=l(t)
return n=m({strokeDasharray:'0.5, 5',strokeLinecap:'round',strokeLinejoin:'round'},n||{}),'One'!==i.associationDirection&&'Both'!==i.associationDirection||(n.markerEnd=u('association-end')),'Both'===i.associationDirection&&(n.markerStart=u('association-start')),b(e,t.waypoints,n)},'bpmn:DataInputAssociation':function(e,t){return R('bpmn:Association')(e,t,{markerEnd:u('association-end')})},'bpmn:DataOutputAssociation':function(e,t){return R('bpmn:Association')(e,t,{markerEnd:u('association-end')})},'bpmn:MessageFlow':function(e,t){var i=l(t),r=s(t),o=L(t),a=_(e,o,{markerEnd:u('messageflow-end'),markerStart:u('messageflow-start'),strokeDasharray:'10, 12',strokeLinecap:'round',strokeLinejoin:'round',strokeWidth:'1.5px'})
if(i.messageRef){var c=a.getPointAtLength(a.getTotalLength()/2),p=n.getScaledPath('MESSAGE_FLOW_MARKER',{abspos:{x:c.x,y:c.y}}),d={strokeWidth:1}
'initiating'===r.messageVisibleKind?(d.fill='white',d.stroke='black'):(d.fill='#888',d.stroke='white'),_(e,p,d)}return a},'bpmn:DataObject':function(e,t){var i=n.getScaledPath('DATA_OBJECT_PATH',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),r=_(e,i,{fill:'white'})
return a(l(t))&&I(e,t),r},'bpmn:DataObjectReference':T('bpmn:DataObject'),'bpmn:DataInput':function(e,t){var i=n.getRawPath('DATA_ARROW'),r=R('bpmn:DataObject')(e,t)
return _(e,i,{strokeWidth:1}),r},'bpmn:DataOutput':function(e,t){var i=n.getRawPath('DATA_ARROW'),r=R('bpmn:DataObject')(e,t)
return _(e,i,{strokeWidth:1,fill:'black'}),r},'bpmn:DataStoreReference':function(e,t){return _(e,n.getScaledPath('DATA_STORE',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:'white'})},'bpmn:BoundaryEvent':function(e,t){var n=l(t),i=n.cancelActivity,r={strokeWidth:1}
i||(r.strokeDasharray='6',r.strokeLinecap='round')
var o=R('bpmn:Event')(e,t,r)
return d(e,t.width,t.height,j,m(r,{fill:'none'})),k(t,e),o},'bpmn:Group':function(e,t){return f(e,t.width,t.height,A,{strokeWidth:1,strokeDasharray:'8,3,1,3',fill:'none',pointerEvents:'none'})},label:function(e,t){return D(e,t,'')},'bpmn:TextAnnotation':function(e,t){var i={fill:'none',stroke:'none'},r=f(e,t.width,t.height,0,0,i)
return _(e,n.getScaledPath('TEXT_ANNOTATION',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}})),M(e,l(t).text||'',{box:t,align:'left-middle',padding:5}),r},ParticipantMultiplicityMarker:function(e,t){C('participant-multiplicity',e,n.getScaledPath('MARKER_PARALLEL',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}}))},SubProcessMarker:function(e,t){f(e,14,14,0,{strokeWidth:1}).transform('translate('+(t.width/2-7.5)+','+(t.height-20)+')'),C('sub-process',e,n.getScaledPath('MARKER_SUB_PROCESS',{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}))},ParallelMarker:function(e,t,i){C('parallel',e,n.getScaledPath('MARKER_PARALLEL',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.parallel)/t.width,my:(t.height-20)/t.height}}))},SequentialMarker:function(e,t,i){C('sequential',e,n.getScaledPath('MARKER_SEQUENTIAL',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.seq)/t.width,my:(t.height-19)/t.height}}))},CompensationMarker:function(e,t,i){C('compensation',e,n.getScaledPath('MARKER_COMPENSATION',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1})},LoopMarker:function(e,t,i){C('loop',e,n.getScaledPath('MARKER_LOOP',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.loop)/t.width,my:(t.height-7)/t.height}}),{strokeWidth:1,fill:'none',strokeLinecap:'round',strokeMiterlimit:.5})},AdhocMarker:function(e,t,i){C('adhoc',e,n.getScaledPath('MARKER_ADHOC',{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i.adhoc)/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:'black'})}}
e.on('canvas.init',function(e){p(e.svg)})}function r(e,t,n){function i(e,t){return g(t,function(t,n){return e[n]==t})}return b(e.eventDefinitions,function(r){return r.$type===t&&i(e,n)})}function o(e){return'bpmn:IntermediateThrowEvent'===e.$type||'bpmn:EndEvent'===e.$type}function a(e){return e.isCollection||e.elementObjectRef&&e.elementObjectRef.isCollection}function s(e){return e.businessObject.di}function l(e){return e.businessObject}function c(e){var t=e.x+e.width/2,n=e.y+e.height/2,i=e.width/2
return T([['M',t,n],['m',0,-i],['a',i,i,0,1,1,0,2*i],['a',i,i,0,1,1,0,-2*i],['z']])}function u(e,t){var n=e.x,i=e.y,r=e.width,o=e.height
return T([['M',n+t,i],['l',r-2*t,0],['a',t,t,0,0,1,t,t],['l',0,o-2*t],['a',t,t,0,0,1,-t,t],['l',2*t-r,0],['a',t,t,0,0,1,-t,-t],['l',0,2*t-o],['a',t,t,0,0,1,t,-t],['z']])}function p(e){var t=e.width,n=e.height,i=e.x,r=e.y,o=t/2,a=n/2
return T([['M',i+o,r],['l',o,a],['l',-o,a],['l',-o,-a],['z']])}function d(e){var t=e.x,n=e.y,i=e.width,r=e.height
return T([['M',t,n],['l',i,0],['l',0,r],['l',-i,0],['z']])}var f=e('inherits'),h=e('lodash/lang/isObject'),m=e('lodash/object/assign'),v=e('lodash/collection/forEach'),g=e('lodash/collection/every'),y=e('lodash/collection/includes'),b=e('lodash/collection/some'),x=e('diagram-js/lib/draw/BaseRenderer'),E=e('diagram-js/lib/util/Text'),w=e('../util/DiUtil'),_=e('../util/ModelUtil').is,C=e('diagram-js/lib/util/RenderUtil'),T=C.componentsToPath,S=C.createLine,A=10,j=3,P={fontFamily:'Arial, sans-serif',fontSize:'12px'}
f(i,x),i.$inject=['eventBus','styles','pathMap'],t.exports=i,i.prototype.canRender=function(e){return _(e,'bpmn:BaseElement')},i.prototype.drawShape=function(e,t){var n=t.type
return(0,this.handlers[n])(e,t)},i.prototype.drawConnection=function(e,t){var n=t.type
return(0,this.handlers[n])(e,t)},i.prototype.getShapePath=function(e){return _(e,'bpmn:Event')?c(e):_(e,'bpmn:Activity')?u(e,A):_(e,'bpmn:Gateway')?p(e):d(e)}},{'../util/DiUtil':176,'../util/ModelUtil':178,'diagram-js/lib/draw/BaseRenderer':212,'diagram-js/lib/util/RenderUtil':350,'diagram-js/lib/util/Text':351,inherits:364,'lodash/collection/every':379,'lodash/collection/forEach':382,'lodash/collection/includes':384,'lodash/collection/some':389,'lodash/lang/isObject':507,'lodash/object/assign':512}],102:[function(e,t,n){'use strict'
function i(){this.pathMap={EVENT_MESSAGE:{d:'m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}',height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:'M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z',height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:'m {mx},{my} c -{e.x1},{e.y0} -{e.x3},{e.y1} -{e.x5},{e.y4} {e.x1},-{e.y3} {e.x3},-{e.y5} {e.x5},-{e.y6} {e.x0},{e.y3} {e.x2},{e.y5} {e.x4},{e.y6} -{e.x0},-{e.y0} -{e.x2},-{e.y1} -{e.x4},-{e.y4} z',height:36,width:36,heightElements:[2.382,4.764,4.926,6.589333,7.146,13.178667,19.768],widthElements:[2.463,2.808,4.926,5.616,7.389,8.424]},EVENT_CONDITIONAL:{d:'M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ',height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:'m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z',height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:'m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z',height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:'m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z',height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:'m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z',height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:'M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ',height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:'M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ',height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:'m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z',height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:'m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z',height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:'m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z',height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:'m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z',height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:'m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z',height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:'m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z',height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:'m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0',height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:'m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ',height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:'m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z',height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:'m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0',height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:'m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0',height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:'m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0',height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:'m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10',height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:'m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0',height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:'m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z',height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:'m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902',height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:'m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z',height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:'m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}',height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:'m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0',height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:'m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5'},TASK_TYPE_USER_2:{d:'m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 '},TASK_TYPE_USER_3:{d:'m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z'},TASK_TYPE_MANUAL:{d:'m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z'},TASK_TYPE_INSTANTIATING_SEND:{d:'m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6'},TASK_TYPE_SERVICE:{d:'m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z'},TASK_TYPE_SERVICE_FILL:{d:'m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z'},TASK_TYPE_BUSINESS_RULE_HEADER:{d:'m {mx},{my} 0,4 20,0 0,-4 z'},TASK_TYPE_BUSINESS_RULE_MAIN:{d:'m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8'},MESSAGE_FLOW_MARKER:{d:'m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6'}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,o=this.pathMap[e]
t.abspos?(n=t.abspos.x,i=t.abspos.y):(n=t.containerWidth*t.position.mx,i=t.containerHeight*t.position.my)
var a={}
if(t.position){for(var s=t.containerHeight/o.height*t.yScaleFactor,l=t.containerWidth/o.width*t.xScaleFactor,c=0;c<o.heightElements.length;c++){a['y'+c]=o.heightElements[c]*s}
for(var u=0;u<o.widthElements.length;u++){a['x'+u]=o.widthElements[u]*l}}return r.format(o.d,{mx:n,my:i,e:a})}}var r=e('diagram-js/vendor/snapsvg')
t.exports=i},{'diagram-js/vendor/snapsvg':352}],103:[function(e,t,n){t.exports={__init__:['bpmnRenderer'],bpmnRenderer:['type',e('./BpmnRenderer')],pathMap:['type',e('./PathMap')]}},{'./BpmnRenderer':101,'./PathMap':102}],104:[function(e,t,n){'use strict'
function i(e,t,n,i){function r(e,t,n){return{top:e.y<t.y+n.top,bottom:e.y+e.height>t.y+t.height-n.bottom,left:e.x<t.x+n.left,right:e.x+e.width>t.x+t.width-n.right}}function v(e,t){'string'==typeof t&&(t=i.get(t))
var u=a(e),p=!0
if((o(t,'bpmn:Participant')||o(t,'bpmn:Lane')||o(t,'bpmn:SubProcess'))&&(c(e,function(e){if(o(e,'bpmn:Lane')||e.labelTarget){return void(p=!1)}}),p)){var d=r(u,t,m),f=s(t,['x','y','width','height'])
if(d.top){var g=u.y-h.top
l(f,{y:g,height:f.height+f.y-g})}if(d.bottom&&l(f,{height:u.y+u.height+h.bottom-f.y}),d.left){var y=u.x-h.left
l(f,{x:y,width:f.width+f.x-y})}d.right&&l(f,{width:u.x+u.width+h.right-f.x}),o(t,'bpmn:Participant')?n.resizeLane(t,f):n.resizeShape(t,f)
var b=t.parent
b&&v([t],b)}}f.call(this,e),this.postExecuted(['shape.create'],function(e){var t=e.context,n=t.hints,i=t.shape,r=t.parent||t.newParent
n&&!1===n.root||v([i],r)}),this.postExecuted(['elements.move'],function(e){var t=e.context,n=p(u(t.closure.topLevel)),i=d(n,function(e){return e.parent.id})
c(i,function(e,t){v(e,t)})})}var r=e('inherits'),o=e('../../util/ModelUtil').is,a=e('diagram-js/lib/util/Elements').getBBox,s=e('lodash/object/pick'),l=e('lodash/object/assign'),c=e('lodash/collection/forEach'),u=e('lodash/object/values'),p=e('lodash/array/flatten'),d=e('lodash/collection/groupBy'),f=e('diagram-js/lib/command/CommandInterceptor'),h={top:60,bottom:60,left:100,right:100},m={top:2,bottom:2,left:15,right:15}
i.$inject=['eventBus','canvas','modeling','elementRegistry'],r(i,f),t.exports=i},{'../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,'diagram-js/lib/util/Elements':339,inherits:364,'lodash/array/flatten':369,'lodash/collection/forEach':382,'lodash/collection/groupBy':383,'lodash/object/assign':512,'lodash/object/pick':519,'lodash/object/values':521}],105:[function(e,t,n){t.exports={__init__:['autoResize'],autoResize:['type',e('./AutoResize')]}},{'./AutoResize':104}],106:[function(e,t,n){'use strict'
function i(e,t,n,i,r,o,a,s,l){e.registerProvider(this),this._contextPad=e,this._modeling=t,this._elementFactory=n,this._connect=i,this._create=r,this._popupMenu=o,this._canvas=a,this._rules=s,this._translate=l}function r(e,t,n){var i=e.$instanceOf(t),r=!1,o=e.eventDefinitions||[]
return a(o,function(e){e.$type===n&&(r=!0)}),i&&r}var o=e('lodash/object/assign'),a=e('lodash/collection/forEach'),s=e('lodash/lang/isArray'),l=e('../../util/ModelUtil').is,c=e('../../util/DiUtil').isExpanded,u=e('../modeling/util/ModelingUtil').isAny,p=e('../modeling/util/LaneUtil').getChildLanes,d=e('../../util/DiUtil').isEventSubProcess
i.$inject=['contextPad','modeling','elementFactory','connect','create','popupMenu','canvas','rules','translate'],t.exports=i,i.prototype.getContextPadEntries=function(e){function t(e,t,n){g.start(e,t,n)}function n(t){m.removeElements([e])}function i(e){var t=x.getContainer(),n=h.getPad(e).html,i=t.getBoundingClientRect(),r=n.getBoundingClientRect(),o=r.top-i.top
return{x:r.left-i.left,y:o+r.height+5}}function a(e,t,n,i){function r(t,n){var r=v.createShape(o({type:e},i))
y.start(t,r,n)}return'string'!=typeof n&&(i=n,n=w('Append {type}',{type:e.replace(/^bpmn\:/,'')})),{group:'model',className:t,title:n,action:{dragstart:r,click:r}}}function f(e){return function(t,n){m.splitLane(n,e),h.open(n,!0)}}var h=this._contextPad,m=this._modeling,v=this._elementFactory,g=this._connect,y=this._create,b=this._popupMenu,x=this._canvas,E=this._rules,w=this._translate,_={}
if('label'===e.type){return _}
var C=e.businessObject
if(u(C,['bpmn:Lane','bpmn:Participant'])&&c(C)){var T=p(e)
o(_,{'lane-insert-above':{group:'lane-insert-above',className:'bpmn-icon-lane-insert-above',title:w('Add Lane above'),action:{click:function(e,t){m.addLane(t,'top')}}}}),T.length<2&&(e.height>=120&&o(_,{'lane-divide-two':{group:'lane-divide',className:'bpmn-icon-lane-divide-two',title:w('Divide into two Lanes'),action:{click:f(2)}}}),e.height>=180&&o(_,{'lane-divide-three':{group:'lane-divide',className:'bpmn-icon-lane-divide-three',title:w('Divide into three Lanes'),action:{click:f(3)}}})),o(_,{'lane-insert-below':{group:'lane-insert-below',className:'bpmn-icon-lane-insert-below',title:w('Add Lane below'),action:{click:function(e,t){m.addLane(t,'bottom')}}}})}l(C,'bpmn:FlowNode')&&(l(C,'bpmn:EventBasedGateway')?o(_,{'append.receive-task':a('bpmn:ReceiveTask','bpmn-icon-receive-task'),'append.message-intermediate-event':a('bpmn:IntermediateCatchEvent','bpmn-icon-intermediate-event-catch-message',{eventDefinitionType:'bpmn:MessageEventDefinition'}),'append.timer-intermediate-event':a('bpmn:IntermediateCatchEvent','bpmn-icon-intermediate-event-catch-timer',{eventDefinitionType:'bpmn:TimerEventDefinition'}),'append.condtion-intermediate-event':a('bpmn:IntermediateCatchEvent','bpmn-icon-intermediate-event-catch-condition',{eventDefinitionType:'bpmn:ConditionalEventDefinition'}),'append.signal-intermediate-event':a('bpmn:IntermediateCatchEvent','bpmn-icon-intermediate-event-catch-signal',{eventDefinitionType:'bpmn:SignalEventDefinition'})}):r(C,'bpmn:BoundaryEvent','bpmn:CompensateEventDefinition')?o(_,{'append.compensation-activity':a('bpmn:Task','bpmn-icon-task',w('Append compensation activity'),{isForCompensation:!0})}):l(C,'bpmn:EndEvent')||C.isForCompensation||r(C,'bpmn:IntermediateThrowEvent','bpmn:LinkEventDefinition')||d(C)||o(_,{'append.end-event':a('bpmn:EndEvent','bpmn-icon-end-event-none'),'append.gateway':a('bpmn:ExclusiveGateway','bpmn-icon-gateway-xor'),'append.append-task':a('bpmn:Task','bpmn-icon-task'),'append.intermediate-event':a('bpmn:IntermediateThrowEvent','bpmn-icon-intermediate-event-none')}))
var S
b._providers['bpmn-replace']&&(S=b.create('bpmn-replace',e)),S&&!S.isEmpty()&&o(_,{replace:{group:'edit',className:'bpmn-icon-screw-wrench',title:w('Change type'),action:{click:function(e,t){S.open(o(i(t),{cursor:{x:e.x,y:e.y}}),t)}}}}),u(C,['bpmn:FlowNode','bpmn:InteractionNode'])&&o(_,{'append.text-annotation':a('bpmn:TextAnnotation','bpmn-icon-text-annotation'),connect:{group:'connect',className:'bpmn-icon-connection-multi',title:w('Connect using '+(C.isForCompensation?'':'Sequence/MessageFlow or ')+'Association'),action:{click:t,dragstart:t}}}),u(C,['bpmn:DataObjectReference','bpmn:DataStoreReference'])&&o(_,{connect:{group:'connect',className:'bpmn-icon-connection-multi',title:w('Connect using DataInputAssociation'),action:{click:t,dragstart:t}}})
var A=E.allowed('elements.delete',{elements:[e]})
return s(A)&&(A=A[0]===e),A&&o(_,{delete:{group:'edit',className:'bpmn-icon-trash',title:w('Remove'),action:{click:n,dragstart:n}}}),_}},{'../../util/DiUtil':176,'../../util/ModelUtil':178,'../modeling/util/LaneUtil':150,'../modeling/util/ModelingUtil':151,'lodash/collection/forEach':382,'lodash/lang/isArray':502,'lodash/object/assign':512}],107:[function(e,t,n){t.exports={__depends__:[e('diagram-js-direct-editing'),e('diagram-js/lib/features/context-pad'),e('diagram-js/lib/features/selection'),e('diagram-js/lib/features/connect'),e('diagram-js/lib/features/create'),e('../popup-menu')],__init__:['contextPadProvider'],contextPadProvider:['type',e('./ContextPadProvider')]}},{'../popup-menu':157,'./ContextPadProvider':106,'diagram-js-direct-editing':198,'diagram-js/lib/features/connect':231,'diagram-js/lib/features/context-pad':233,'diagram-js/lib/features/create':237,'diagram-js/lib/features/selection':306}],108:[function(e,t,n){'use strict'
function i(e,t,n){u(n,function(n){t[n]&&(e[n]=t[n])})}function r(e,t){u(t,function(t){e[t]&&delete e[t]})}function o(e,t,n,o,a,u,p){n.registerDescriptor(function(e,t){var n,r,o=s(e)
return t.type=e.type,'label'===e.type?t:(i(t,o,['name','text','processRef','isInterrupting','isForCompensation','associationDirection']),o.default&&(t.default=o.default.id),o.loopCharacteristics&&(t.loopCharacteristics={type:o.loopCharacteristics.$type,isSequential:o.loopCharacteristics.isSequential}),i(t,o.di,['isExpanded']),l(o,'bpmn:SequenceFlow')&&(n=o.get('conditionExpression'))&&(t.conditionExpression={type:n.$type,body:n.body}),r=o.get('eventDefinitions')||[],r.length&&(t.eventDefinitions=c(r,function(e){return e.$type})),t)}),t.on('element.paste',function(t){var n,o,s,d,f,h,m,v=t.descriptor,g=t.createdElements,y=v.parent,b=u.getRootElement()
'label'!==v.type&&(l(y,'bpmn:Process')&&(v.parent=l(b,'bpmn:Collaboration')?b:y),'bpmn:DataOutputAssociation'!==v.type&&'bpmn:DataInputAssociation'!==v.type&&'bpmn:MessageFlow'!==v.type||(v.parent=b),l(y,'bpmn:Lane')&&(v.parent=y.parent),v.waypoints&&(f=g[v.source],h=g[v.target],f&&h&&(f=f.element,h=h.element),(m=p.canConnect(f,h))&&(v.type=m.type)),v.businessObject=n=e.create(v.type),'bpmn:Participant'===v.type&&v.processRef&&(v.processRef=n.processRef=e.create('bpmn:Process')),i(n,v,['name','text']),v.loopCharacteristics&&(d=v.loopCharacteristics,n.loopCharacteristics=a.create(d.type),d.isSequential&&(n.loopCharacteristics.isSequential=!0),n.loopCharacteristics.$parent=n),v.conditionExpression&&(s=v.conditionExpression,n.conditionExpression=a.create(s.type,{body:s.body}),n.conditionExpression.$parent=n),v.eventDefinitions&&(n.eventDefinitions,n.eventDefinitions=c(v.eventDefinitions,function(e){return o=a.create(e),o.$parent=n,o})),r(v,['name','text','eventDefinitions','conditionExpression','loopCharacteristics']))})}var a=e('../../util/ModelUtil'),s=a.getBusinessObject,l=a.is,c=e('lodash/collection/map'),u=e('lodash/collection/forEach')
o.$inject=['bpmnFactory','eventBus','copyPaste','clipboard','moddle','canvas','bpmnRules'],t.exports=o},{'../../util/ModelUtil':178,'lodash/collection/forEach':382,'lodash/collection/map':386}],109:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/copy-paste')],__init__:['bpmnCopyPaste'],bpmnCopyPaste:['type',e('./BpmnCopyPaste')]}},{'./BpmnCopyPaste':108,'diagram-js/lib/features/copy-paste':235}],110:[function(e,t,n){'use strict'
function i(e){e.registerProvider(this)}function r(e){return!e||o(e)}function o(e){return e.labelTarget}var a=e('../modeling/util/ModelingUtil').isAny
i.$inject=['globalConnect'],t.exports=i,i.prototype.canStartConnect=function(e){if(r(e)){return null}
var t=e.businessObject
return a(t,['bpmn:FlowNode','bpmn:InteractionNode','bpmn:DataObjectReference','bpmn:DataStoreReference'])}},{'../modeling/util/ModelingUtil':151}],111:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/global-connect')],__init__:['bpmnGlobalConnect'],bpmnGlobalConnect:['type',e('./BpmnGlobalConnect')]}},{'./BpmnGlobalConnect':110,'diagram-js/lib/features/global-connect':244}],112:[function(e,t,n){'use strict'
function i(e,t,n,i,r,o,a,s,l,c,u){var p={selectElements:function(){var e=l.getRootElement(),t=c.filter(function(t){return t!=e})
s.select(t)},spaceTool:function(){t.toggle()},lassoTool:function(){n.toggle()},handTool:function(){i.toggle()},globalConnectTool:function(){r.toggle()},directEditing:function(){var e=s.get()
e.length&&o.activate(e[0])},find:function(){a.toggle()}}
u.register(p),e.addListener(function(t,n){if(65===t&&e.isCmd(n)){return u.trigger('selectElements'),!0}
if(70===t&&e.isCmd(n)){return u.trigger('find'),!0}
if(!e.hasModifier(n)){return 83===t?(u.trigger('spaceTool'),!0):76===t?(u.trigger('lassoTool'),!0):72===t?(u.trigger('handTool'),!0):67===t?(u.trigger('globalConnectTool'),!0):69===t?(u.trigger('directEditing'),!0):void 0}})}i.$inject=['keyboard','spaceTool','lassoTool','handTool','globalConnect','directEditing','searchPad','selection','canvas','elementRegistry','editorActions'],t.exports=i},{}],113:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/keyboard'),e('../global-connect')],__init__:['bpmnKeyBindings'],bpmnKeyBindings:['type',e('./BpmnKeyBindings')]}},{'../global-connect':111,'./BpmnKeyBindings':112,'diagram-js/lib/features/keyboard':250}],114:[function(e,t,n){'use strict'
function i(e,t,n,i){n.registerProvider(this),i.registerHandler('element.updateLabel',r),e.on('element.dblclick',function(e){n.activate(e.element)}),e.on(['element.mousedown','drag.init','canvas.viewbox.changed'],function(e){n.complete()}),e.on(['commandStack.changed'],function(){n.cancel()}),'ontouchstart'in document.documentElement||e.on('create.end',500,function(e){var t=e.shape
e.context.canExecute&&(a(t,'bpmn:Task')||a(t,'bpmn:TextAnnotation')||a(t,'bpmn:SubProcess')&&!s(t))&&n.activate(t)}),this._canvas=t,this._commandStack=i}var r=e('./cmd/UpdateLabelHandler'),o=e('./LabelUtil'),a=e('../../util/ModelUtil').is,s=e('../../util/DiUtil').isExpanded,l={width:150,height:50}
i.$inject=['eventBus','canvas','directEditing','commandStack'],t.exports=i,i.prototype.activate=function(e){var t=o.getLabel(e)
if(void 0!==t){var n=this.getEditingBBox(e)
return(a(e,'bpmn:Participant')&&s(e)||a(e,'bpmn:Lane'))&&(n.width=l.width,n.height=l.height,n.x=n.x+10-n.width/2,n.y=n.mid.y-n.height/2),(a(e,'bpmn:Task')||a(e,'bpmn:Activity'))&&(n.width<100&&(n.width=100,n.x=n.mid.x-n.width/2),n.height<80&&(n.height=80,n.y=n.mid.y-n.height/2)),(a(e,'bpmn:SubProcess')&&s(e)||a(e,'bpmn:Participant')&&!s(e))&&(n.width=e.width,n.height=l.height,n.x=n.mid.x-e.width/2),{bounds:n,text:t}}},i.prototype.getEditingBBox=function(e,t){var n=e.label||e,i=this._canvas.getAbsoluteBBox(n),r={x:i.x+i.width/2,y:i.y+i.height/2}
return n.labelTarget&&(i.width=Math.max(i.width,l.width),i.height=Math.max(i.height,l.height),i.x=r.x-i.width/2),i.mid=r,i},i.prototype.update=function(e,t){this._commandStack.execute('element.updateLabel',{element:e,newLabel:t})}},{'../../util/DiUtil':176,'../../util/ModelUtil':178,'./LabelUtil':115,'./cmd/UpdateLabelHandler':116}],115:[function(e,t,n){'use strict'
function i(e){return r(e,'bpmn:FlowElement')||r(e,'bpmn:Participant')||r(e,'bpmn:Lane')||r(e,'bpmn:SequenceFlow')||r(e,'bpmn:MessageFlow')?'name':r(e,'bpmn:TextAnnotation')?'text':void 0}var r=e('../../util/ModelUtil').is
t.exports.getLabel=function(e){var t=e.businessObject,n=i(t)
if(n){return t[n]||''}},t.exports.setLabel=function(e,t,n){var r=e.businessObject,o=i(r)
return o&&(r[o]=t),n&&(e.hidden=!t),e}},{'../../util/ModelUtil':178}],116:[function(e,t,n){'use strict'
function i(){function e(e,t){var n=e.label||e,i=e.labelTarget||e
return r.setLabel(n,t,i!==n),[n,i]}function t(t){return t.oldLabel=r.getLabel(t.element),e(t.element,t.newLabel)}function n(t){return e(t.element,t.oldLabel)}this.execute=t,this.revert=n}var r=e('../LabelUtil')
t.exports=i},{'../LabelUtil':115}],117:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/command'),e('diagram-js/lib/features/change-support'),e('diagram-js-direct-editing')],__init__:['labelEditingProvider'],labelEditingProvider:['type',e('./LabelEditingProvider')]}},{'./LabelEditingProvider':114,'diagram-js-direct-editing':198,'diagram-js/lib/command':205,'diagram-js/lib/features/change-support':227}],118:[function(e,t,n){'use strict'
function i(e){this._model=e}var r=e('lodash/collection/map'),o=e('lodash/object/assign'),a=e('lodash/object/pick')
i.$inject=['moddle'],i.prototype._needsId=function(e){return e.$instanceOf('bpmn:RootElement')||e.$instanceOf('bpmn:FlowElement')||e.$instanceOf('bpmn:MessageFlow')||e.$instanceOf('bpmn:DataAssociation')||e.$instanceOf('bpmn:Artifact')||e.$instanceOf('bpmn:Participant')||e.$instanceOf('bpmn:Lane')||e.$instanceOf('bpmn:Process')||e.$instanceOf('bpmn:Collaboration')||e.$instanceOf('bpmndi:BPMNShape')||e.$instanceOf('bpmndi:BPMNEdge')||e.$instanceOf('bpmndi:BPMNDiagram')||e.$instanceOf('bpmndi:BPMNPlane')||e.$instanceOf('bpmn:Property')},i.prototype._ensureId=function(e){var t=(e.$type||'').replace(/^[^:]*:/g,'')+'_'
!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},i.prototype.create=function(e,t){var n=this._model.create(e,t||{})
return this._ensureId(n),n},i.prototype.createDiLabel=function(){return this.create('bpmndi:BPMNLabel',{bounds:this.createDiBounds()})},i.prototype.createDiShape=function(e,t,n){return this.create('bpmndi:BPMNShape',o({bpmnElement:e,bounds:this.createDiBounds(t)},n))},i.prototype.createDiBounds=function(e){return this.create('dc:Bounds',e)},i.prototype.createDiWaypoints=function(e){return r(e,function(e){return this.createDiWaypoint(e)},this)},i.prototype.createDiWaypoint=function(e){return this.create('dc:Point',a(e,['x','y']))},i.prototype.createDiEdge=function(e,t,n){return this.create('bpmndi:BPMNEdge',o({bpmnElement:e},n))},i.prototype.createDiPlane=function(e){return this.create('bpmndi:BPMNPlane',{bpmnElement:e})},t.exports=i},{'lodash/collection/map':386,'lodash/object/assign':512,'lodash/object/pick':519}],119:[function(e,t,n){'use strict'
function i(){}function r(e){var t=e.host
return f(d(e),t,-10)}function o(e,t,n){var i=e&&e[t]
return i?i.original||i:d(n)}function a(e){var t=e.source,n=e.target
return h(n,'bpmn:Activity')&&h(t,'bpmn:BoundaryEvent')&&n.businessObject.isForCompensation}var s=e('inherits'),l=e('lodash/object/assign'),c=e('diagram-js/lib/layout/BaseLayouter'),u=e('diagram-js/lib/layout/ManhattanLayout'),p=e('diagram-js/lib/layout/LayoutUtil'),d=p.getMid,f=p.getOrientation,h=e('../../util/ModelUtil').is
s(i,c),t.exports=i,i.prototype.layoutConnection=function(e,t){var n,i,s,c,p=e.source,d=e.target,f=e.waypoints
if(n=o(f,0,p),i=o(f,f&&f.length-1,d),(h(e,'bpmn:Association')||h(e,'bpmn:DataAssociation'))&&f&&!a(e)){return f}
if(h(e,'bpmn:MessageFlow')){s={preferredLayouts:['straight','v:v']},h(d,'bpmn:Event')&&(s={preferredLayouts:['v:v']})}
else if(h(e,'bpmn:SequenceFlow')||a(e)){if(h(p,'bpmn:BoundaryEvent')){var m=r(p);/left|right/.test(m)?s={preferredLayouts:['h:v']}:/top|bottom/.test(m)&&(s={preferredLayouts:['v:h']})}else {s=h(p,'bpmn:Gateway')?{preferredLayouts:['v:h']}:h(d,'bpmn:Gateway')?{preferredLayouts:['h:v']}:{preferredLayouts:['h:h']}}}
return s&&(s=l(s,t),c=u.repairConnection(p,d,n,i,f,s)),c||[n,i]}},{'../../util/ModelUtil':178,'diagram-js/lib/layout/BaseLayouter':323,'diagram-js/lib/layout/LayoutUtil':325,'diagram-js/lib/layout/ManhattanLayout':326,inherits:364,'lodash/object/assign':512}],120:[function(e,t,n){'use strict'
function i(e,t,n,i){function r(e){var t,i=e.context
i.cropped||(t=i.connection,t.waypoints=n.getCroppedWaypoints(t),i.cropped=!0)}function a(e){var t=e.context
g.updateParent(t.shape||t.connection,t.oldParent)}function l(e){var t=e.context,n=t.shape||t.connection,i=t.parent||t.newParent
g.updateParent(n,i)}function c(e){var t=e.context,n=t.oldRoot,i=n.children
s(i,function(e){g.updateParent(e)})}function u(e){var t=e.context.shape
d(t,'bpmn:BaseElement')&&g.updateBounds(t)}function h(e){g.updateConnection(e.context)}function m(e){g.updateConnectionWaypoints(e.context.connection)}function v(e){g.updateAttachment(e.context)}f.call(this,e),this._bpmnFactory=t,this._translate=i
var g=this
this.executed(['connection.layout','connection.create','connection.reconnectEnd','connection.reconnectStart'],r),this.reverted(['connection.layout'],function(e){delete e.context.cropped}),this.executed(['shape.move','shape.create','shape.delete','connection.create','connection.move','connection.delete'],o(a)),this.reverted(['shape.move','shape.create','shape.delete','connection.create','connection.move','connection.delete'],o(l)),this.executed(['canvas.updateRoot'],c),this.reverted(['canvas.updateRoot'],c),this.executed(['shape.move','shape.create','shape.resize'],o(u)),this.reverted(['shape.move','shape.create','shape.resize'],o(u)),this.executed(['connection.create','connection.move','connection.delete','connection.reconnectEnd','connection.reconnectStart'],o(h)),this.reverted(['connection.create','connection.move','connection.delete','connection.reconnectEnd','connection.reconnectStart'],o(h)),this.executed(['connection.layout','connection.move','connection.updateWaypoints','connection.reconnectEnd','connection.reconnectStart'],o(m)),this.reverted(['connection.layout','connection.move','connection.updateWaypoints','connection.reconnectEnd','connection.reconnectStart'],o(m)),this.executed(['connection.reconnectEnd','connection.reconnectStart'],o(function(e){var t=e.context,n=t.connection,i=p(n),r=p(t.oldSource),o=p(t.oldTarget),a=p(n.source),s=p(n.target)
r!==a&&o!==s&&(r&&r.default&&(t.default=r.default,r.default=void 0),i.sourceRef&&i.sourceRef.default&&!(d(s,'bpmn:Activity')||d(s,'bpmn:EndEvent')||d(s,'bpmn:IntermediateThrowEvent'))&&(t.default=i.sourceRef.default,i.sourceRef.default=void 0),i.conditionExpression&&!d(a,'bpmn:Activity')&&(t.conditionExpression=i.conditionExpression,i.conditionExpression=void 0),i.conditionExpression&&!(d(s,'bpmn:Activity')||d(s,'bpmn:EndEvent')||d(s,'bpmn:IntermediateThrowEvent'))&&(t.conditionExpression=i.conditionExpression,i.conditionExpression=void 0))})),this.reverted(['connection.reconnectEnd','connection.reconnectStart'],o(function(e){var t=e.context,n=t.connection,i=p(n),r=p(n.source)
t.default&&(d(r,'bpmn:ExclusiveGateway')||d(r,'bpmn:InclusiveGateway')||d(r,'bpmn:Activity'))&&(r.default=t.default),t.conditionExpression&&d(r,'bpmn:Activity')&&(i.conditionExpression=t.conditionExpression)})),this.executed(['element.updateAttachment'],o(v)),this.reverted(['element.updateAttachment'],o(v))}function r(e){for(;e&&!d(e,'bpmn:Definitions');){e=e.$parent}
return e}function o(e){return function(t){var n=t.context,i=n.shape||n.connection
d(i,'bpmn:BaseElement')&&e(t)}}var a=e('lodash/object/assign'),s=e('lodash/collection/forEach'),l=e('inherits'),c=e('diagram-js/lib/util/Collections'),u=e('diagram-js/lib/model'),p=e('../../util/ModelUtil').getBusinessObject,d=e('../../util/ModelUtil').is,f=e('diagram-js/lib/command/CommandInterceptor')
l(i,f),t.exports=i,i.$inject=['eventBus','bpmnFactory','connectionDocking','translate'],i.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,i=t.host
n.attachedToRef=i&&i.businessObject},i.prototype.updateParent=function(e,t){if(!(e instanceof u.Label)){var n=e.parent,i=e.businessObject,r=n&&n.businessObject,o=r&&r.di
d(e,'bpmn:FlowNode')&&this.updateFlowNodeRefs(i,r,t&&t.businessObject),d(e,'bpmn:DataOutputAssociation')&&(r=e.source?e.source.businessObject:null),d(e,'bpmn:DataInputAssociation')&&(r=e.target?e.target.businessObject:null),this.updateSemanticParent(i,r),d(e,'bpmn:DataObjectReference')&&i.dataObjectRef&&this.updateSemanticParent(i.dataObjectRef,r),this.updateDiParent(i.di,o)}},i.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof u.Label?this._getLabel(t).bounds:t.bounds
a(n,{x:e.x,y:e.y,width:e.width,height:e.height})},i.prototype.updateFlowNodeRefs=function(e,t,n){if(n!==t){var i,r
d(n,'bpmn:Lane')&&(i=n.get('flowNodeRef'),c.remove(i,e)),d(t,'bpmn:Lane')&&(r=t.get('flowNodeRef'),c.add(r,e))}},i.prototype.updateDiParent=function(e,t){if(t&&!d(t,'bpmndi:BPMNPlane')&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get('planeElement')
t?(n.push(e),e.$parent=t):(c.remove(n,e),e.$parent=null)}},i.prototype.getLaneSet=function(e){var t,n
return d(e,'bpmn:Lane')?(t=e.childLaneSet,t||(t=this._bpmnFactory.create('bpmn:LaneSet'),e.childLaneSet=t,t.$parent=e),t):(d(e,'bpmn:Participant')&&(e=e.processRef),n=e.get('laneSets'),t=n[0],t||(t=this._bpmnFactory.create('bpmn:LaneSet'),t.$parent=e,n.push(t)),t)},i.prototype.updateSemanticParent=function(e,t,n){var i,o=this._translate
if(e.$parent!==t){if(d(e,'bpmn:Lane')){t&&(t=this.getLaneSet(t)),i='lanes'}
else if(d(e,'bpmn:FlowElement')){if(t){if(d(t,'bpmn:Participant')){t=t.processRef}
else if(d(t,'bpmn:Lane')){do{t=t.$parent.$parent}while(d(t,'bpmn:Lane'))}}
i='flowElements'}else if(d(e,'bpmn:Artifact')){for(;t&&!d(t,'bpmn:Process')&&!d(t,'bpmn:SubProcess')&&!d(t,'bpmn:Collaboration');){if(d(t,'bpmn:Participant')){t=t.processRef
break}t=t.$parent}i='artifacts'}else if(d(e,'bpmn:MessageFlow')){i='messageFlows'}
else if(d(e,'bpmn:Participant')){i='participants'
var a,s=e.processRef
s&&(a=r(e.$parent||t),e.$parent&&(c.remove(a.get('rootElements'),s),s.$parent=null),t&&(c.add(a.get('rootElements'),s),s.$parent=a))}else {d(e,'bpmn:DataOutputAssociation')?i='dataOutputAssociations':d(e,'bpmn:DataInputAssociation')&&(i='dataInputAssociations')}
if(!i){throw new Error(o('no parent for {element} in {parent}',{element:e.id,parent:t.id}))}
var l
if(e.$parent&&(l=e.$parent.get(i),c.remove(l,e)),t?(l=t.get(i),l.push(e),e.$parent=t):e.$parent=null,n){var u=n.get(i)
c.remove(l,e),t&&(u||(u=[],t.set(i,u)),u.push(e))}}},i.prototype.updateConnectionWaypoints=function(e){e.businessObject.di.set('waypoint',this._bpmnFactory.createDiWaypoints(e.waypoints))},i.prototype.updateConnection=function(e){var t,n=e.connection,i=p(n),r=p(n.source),o=p(n.target)
if(d(i,'bpmn:DataAssociation')){d(i,'bpmn:DataInputAssociation')?(i.get('sourceRef')[0]=r,t=e.parent||e.newParent||o,this.updateSemanticParent(i,o,parent.businessObject)):d(i,'bpmn:DataOutputAssociation')&&(t=e.parent||e.newParent||r,this.updateSemanticParent(i,r,t),i.targetRef=o)}
else{var a=d(i,'bpmn:SequenceFlow')
i.sourceRef!==r&&(a&&(c.remove(i.sourceRef&&i.sourceRef.get('outgoing'),i),r&&r.get('outgoing')&&r.get('outgoing').push(i)),i.sourceRef=r),i.targetRef!==o&&(a&&(c.remove(i.targetRef&&i.targetRef.get('incoming'),i),o&&o.get('incoming')&&o.get('incoming').push(i)),i.targetRef=o)}this.updateConnectionWaypoints(n)},i.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label}},{'../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,'diagram-js/lib/model':327,'diagram-js/lib/util/Collections':336,inherits:364,'lodash/collection/forEach':382,'lodash/object/assign':512}],121:[function(e,t,n){'use strict'
function i(e,t,n){l.call(this),this._bpmnFactory=e,this._moddle=t,this._translate=n}var r=e('lodash/object/assign'),o=e('inherits'),a=e('../../util/ModelUtil').is,s=e('../../util/DiUtil').isExpanded,l=e('diagram-js/lib/core/ElementFactory'),c=e('../../util/LabelUtil')
o(i,l),i.$inject=['bpmnFactory','moddle','translate'],t.exports=i,i.prototype.baseCreate=l.prototype.create,i.prototype.create=function(e,t){return'label'===e?this.baseCreate(e,r({type:'label'},c.DEFAULT_LABEL_SIZE,t)):this.createBpmnElement(e,t)},i.prototype.createBpmnElement=function(e,t){var n,i=this._translate
t=t||{}
var o=t.businessObject
if(!o){if(!t.type){throw new Error(i('no shape type specified'))}
o=this._bpmnFactory.create(t.type)}o.di||(o.di='root'===e?this._bpmnFactory.createDiPlane(o,[],{id:o.id+'_di'}):'connection'===e?this._bpmnFactory.createDiEdge(o,[],{id:o.id+'_di'}):this._bpmnFactory.createDiShape(o,{},{id:o.id+'_di'})),t.processRef&&(o.processRef=t.processRef),t.isExpanded&&(o.di.isExpanded=t.isExpanded),a(o,'bpmn:ExclusiveGateway')&&(o.di.isMarkerVisible=!0),!1===t.isInterrupting&&(o.isInterrupting=!1),t.associationDirection&&(o.associationDirection=t.associationDirection)
var s,l
return t.eventDefinitionType&&(s=o.get('eventDefinitions')||[],l=this._moddle.create(t.eventDefinitionType),s.push(l),l.$parent=o,o.eventDefinitions=s),t.isForCompensation&&(o.isForCompensation=!0),n=this._getDefaultSize(o),t=r({businessObject:o,id:o.id},n,t),this.baseCreate(e,t)},i.prototype._getDefaultSize=function(e){return a(e,'bpmn:SubProcess')?s(e)?{width:350,height:200}:{width:100,height:80}:a(e,'bpmn:Task')?{width:100,height:80}:a(e,'bpmn:Gateway')?{width:50,height:50}:a(e,'bpmn:Event')?{width:36,height:36}:a(e,'bpmn:Participant')?s(e)?{width:600,height:250}:{width:400,height:100}:a(e,'bpmn:Lane')?{width:400,height:100}:a(e,'bpmn:DataObjectReference')?{width:36,height:50}:a(e,'bpmn:DataStoreReference')?{width:50,height:50}:a(e,'bpmn:TextAnnotation')?{width:100,height:30}:{width:100,height:80}},i.prototype.createParticipantShape=function(e){var t={type:'bpmn:Participant'}
return e||(t.processRef=this._bpmnFactory.create('bpmn:Process')),this.createShape(t)}},{'../../util/DiUtil':176,'../../util/LabelUtil':177,'../../util/ModelUtil':178,'diagram-js/lib/core/ElementFactory':207,inherits:364,'lodash/object/assign':512}],122:[function(e,t,n){'use strict'
function i(e,t,n,i){o.call(this,e,t,n),this._bpmnRules=i}var r=e('inherits'),o=e('diagram-js/lib/features/modeling/Modeling'),a=e('./cmd/UpdatePropertiesHandler'),s=e('./cmd/UpdateCanvasRootHandler'),l=e('./cmd/AddLaneHandler'),c=e('./cmd/SplitLaneHandler'),u=e('./cmd/ResizeLaneHandler'),p=e('./cmd/UpdateFlowNodeRefsHandler'),d=e('./cmd/IdClaimHandler')
r(i,o),i.$inject=['eventBus','elementFactory','commandStack','bpmnRules'],t.exports=i,i.prototype.getHandlers=function(){var e=o.prototype.getHandlers.call(this)
return e['element.updateProperties']=a,e['canvas.updateRoot']=s,e['lane.add']=l,e['lane.resize']=u,e['lane.split']=c,e['lane.updateRefs']=p,e['id.updateClaim']=d,e},i.prototype.updateLabel=function(e,t){this._commandStack.execute('element.updateLabel',{element:e,newLabel:t})},i.prototype.connect=function(e,t,n){var i=this._bpmnRules
return n||(n=i.canConnect(e,t)||{type:'bpmn:Association'}),this.createConnection(e,t,n,e.parent)},i.prototype.updateProperties=function(e,t){this._commandStack.execute('element.updateProperties',{element:e,properties:t})},i.prototype.resizeLane=function(e,t,n){this._commandStack.execute('lane.resize',{shape:e,newBounds:t,balanced:n})},i.prototype.addLane=function(e,t){var n={shape:e,location:t}
return this._commandStack.execute('lane.add',n),n.newLane},i.prototype.splitLane=function(e,t){this._commandStack.execute('lane.split',{shape:e,count:t})},i.prototype.makeCollaboration=function(){var e=this._create('root',{type:'bpmn:Collaboration'}),t={newRoot:e}
return this._commandStack.execute('canvas.updateRoot',t),e},i.prototype.updateLaneRefs=function(e,t){this._commandStack.execute('lane.updateRefs',{flowNodeShapes:e,laneShapes:t})},i.prototype.makeProcess=function(){var e=this._create('root',{type:'bpmn:Process'}),t={newRoot:e}
this._commandStack.execute('canvas.updateRoot',t)},i.prototype.claimId=function(e,t){this._commandStack.execute('id.updateClaim',{id:e,element:t,claiming:!0})},i.prototype.unclaimId=function(e,t){this._commandStack.execute('id.updateClaim',{id:e,element:t})}},{'./cmd/AddLaneHandler':142,'./cmd/IdClaimHandler':143,'./cmd/ResizeLaneHandler':144,'./cmd/SplitLaneHandler':145,'./cmd/UpdateCanvasRootHandler':146,'./cmd/UpdateFlowNodeRefsHandler':147,'./cmd/UpdatePropertiesHandler':148,'diagram-js/lib/features/modeling/Modeling':255,inherits:364}],123:[function(e,t,n){'use strict'
function i(e,t,n){a.call(this,e),this.preExecute('shape.append',function(e){var t=e.source,n=e.shape
e.position||(o(n,'bpmn:TextAnnotation')?e.position={x:t.x+t.width/2+75,y:t.y-50-n.height/2}:e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})},!0)}var r=e('inherits'),o=e('../../../util/ModelUtil').is,a=e('diagram-js/lib/command/CommandInterceptor')
i.$inject=['eventBus','elementFactory','bpmnRules'],r(i,a),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],124:[function(e,t,n){'use strict'
function i(e,t,n){s.call(this,e),this.preExecute('elements.paste',1500,function(e){var t=e.topParent
if(t.parent||(e.topParent=n.getRootElement()),a(t,'bpmn:Lane')){do{t=e.topParent=t.parent}while(a(t,'bpmn:Lane')||!a(t,'bpmn:Participant'))}},!0),this.postExecute('elements.paste',function(e){var n=e.tree,i=n.createdElements
o(i,function(e){var n,r=e.element,o=r.businessObject,s=e.descriptor;(a(o,'bpmn:ExclusiveGateway')||a(o,'bpmn:InclusiveGateway')||a(o,'bpmn:Activity'))&&s.default&&(n=i[s.default],n=n?n.element:void 0,delete r.default,t.updateProperties(r,{default:n}))})},!0)}var r=e('inherits'),o=e('lodash/collection/forEach'),a=e('../../../util/ModelUtil').is,s=e('diagram-js/lib/command/CommandInterceptor')
i.$inject=['eventBus','modeling','canvas'],r(i,s),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364,'lodash/collection/forEach':382}],125:[function(e,t,n){'use strict'
function i(e,t,n,i){o.call(this,e),this.preExecute('shape.create',function(e){var t,r,o=e.shape,s=e.host,l={cancelActivity:!0}
s&&a(o,'bpmn:IntermediateThrowEvent')&&(l.attachedToRef=s.businessObject,t=i.create('bpmn:BoundaryEvent',l),r={type:'bpmn:BoundaryEvent',businessObject:t},e.shape=n.createShape(r))},!0)}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor'),a=e('../../../util/ModelUtil').is
i.$inject=['eventBus','modeling','elementFactory','bpmnFactory'],r(i,o),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],126:[function(e,t,n){'use strict'
function i(e,t,n){o.call(this,e),this.preExecute('shape.create',function(e){var n=e.context,i=n.shape
if(a(i,'bpmn:DataObjectReference')&&'label'!==i.type){var r=t.create('bpmn:DataObject')
i.businessObject.dataObjectRef=r}})}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor'),a=e('../../../util/ModelUtil').is
i.$inject=['eventBus','bpmnFactory','moddle'],r(i,o),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],127:[function(e,t,n){'use strict'
function i(e){return a({},e)}function r(e,t,n){s.call(this,e),this.preExecute('shape.create',function(e){var n=e.parent,i=e.shape
t.canInsert(i,n)&&(e.targetFlow=n,e.parent=n.parent)},!0),this.postExecute('shape.create',function(e){var r,o,a,s,c,u,p,d,f=e.shape,h=e.targetFlow,m=e.position
h&&(c=h.waypoints,s=l(c,m),s&&(u=c.slice(0,s.index),p=c.slice(s.index+(s.bendpoint?1:0)),d=s.bendpoint?c[s.index]:m,u.push(i(d)),p.unshift(i(d))),r=h.source,o=h.target,t.canConnect(r,f,h)&&(n.reconnectEnd(h,f,u||i(m)),a=!0),t.canConnect(f,o,h)&&(a?n.connect(f,o,{type:h.type,waypoints:p}):n.reconnectStart(h,f,p||i(m))))},!0)}var o=e('inherits'),a=e('lodash/object/assign'),s=e('diagram-js/lib/command/CommandInterceptor'),l=e('diagram-js/lib/util/LineIntersection').getApproxIntersection
o(r,s),r.$inject=['eventBus','bpmnRules','modeling'],t.exports=r},{'diagram-js/lib/command/CommandInterceptor':203,'diagram-js/lib/util/LineIntersection':344,inherits:364,'lodash/object/assign':512}],128:[function(e,t,n){'use strict'
function i(e,t,n,i,r){o.call(this,e),this.preExecute('shape.create',function(e){var n=e.parent,i=e.shape,o=e.position,s=r.getRootElement()
if(a(n,'bpmn:Process')&&a(i,'bpmn:Participant')&&!a(s,'bpmn:Collaboration')){var l=t.makeCollaboration()
e.position=o,e.parent=l,e.processRoot=n}},!0),this.execute('shape.create',function(e){var t=e.processRoot,n=e.shape
t&&(e.oldProcessRef=n.businessObject.processRef,n.businessObject.processRef=t.businessObject)},!0),this.revert('shape.create',function(e){var t=e.processRoot,n=e.shape
t&&(n.businessObject.processRef=e.oldProcessRef)},!0),this.postExecute('shape.create',function(e){var n=e.processRoot,i=e.shape
if(n){var r=n.children.slice()
t.moveElements(r,{x:0,y:0},i)}},!0)}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor'),a=e('../../../util/ModelUtil').is
i.$inject=['eventBus','modeling','elementFactory','bpmnFactory','canvas'],r(i,o),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],129:[function(e,t,n){'use strict'
function i(e,t){function n(e,t,n){var i=e.get('dataInputAssociations')
return l(i,function(e){return e!==n&&e.targetRef===t})}function i(e,n){var i=e.get('properties'),r=l(i,function(e){return e.name===u})
return!r&&n&&(r=t.create('bpmn:Property',{name:u}),s.add(i,r)),r}function o(e,t){var r=i(e)
r&&(n(e,r,t)||s.remove(e.get('properties'),r))}function c(e){var t,n=e.context,r=n.connection,a=r.businessObject,s=r.target,l=s&&s.businessObject,c=n.newTarget,u=c&&c.businessObject,p=n.oldTarget||n.target,d=p&&p.businessObject,f=r.businessObject
d&&d!==l&&o(d,a),u&&u!==l&&o(u,a),l?(t=i(l,!0),f.targetRef=t):f.targetRef=null}a.call(this,e),this.executed(['connection.create','connection.delete','connection.move','connection.reconnectEnd'],r(c)),this.reverted(['connection.create','connection.delete','connection.move','connection.reconnectEnd'],r(c))}function r(e){return function(t){var n=t.context,i=n.connection
if(c(i,'bpmn:DataInputAssociation')){return e(t)}}}var o=e('inherits'),a=e('diagram-js/lib/command/CommandInterceptor'),s=e('diagram-js/lib/util/Collections'),l=e('lodash/collection/find'),c=e('../../../util/ModelUtil').is,u='__targetRef_placeholder'
i.$inject=['eventBus','bpmnFactory'],o(i,a),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,'diagram-js/lib/util/Collections':336,inherits:364,'lodash/collection/find':381}],130:[function(e,t,n){'use strict'
function i(e,t,n){function i(e,t){var i=s(t),r=[],o=[]
if(l(i,function(t){return t.y>e.y?o.push(t):r.push(t),t.children}),i.length){var a
a=o.length&&r.length?e.height/2:e.height
var c,u
r.length&&(c=n.calculateAdjustments(r,'y',a,e.y-10),n.makeSpace(c.movingShapes,c.resizingShapes,{x:0,y:a},'s')),o.length&&(u=n.calculateAdjustments(o,'y',-a,e.y+e.height+10),n.makeSpace(u.movingShapes,u.resizingShapes,{x:0,y:-a},'n'))}}o.call(this,e),this.postExecuted('shape.delete',c,function(e){var t=e.context,n=t.hints,r=t.shape,o=t.oldParent
a(r,'bpmn:Lane')&&(n&&n.nested||i(r,o))})}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor'),a=e('../../../util/ModelUtil').is,s=e('../util/LaneUtil').getChildLanes,l=e('diagram-js/lib/util/Elements').eachElement,c=500
i.$inject=['eventBus','modeling','spaceTool'],r(i,o),t.exports=i},{'../../../util/ModelUtil':178,'../util/LaneUtil':150,'diagram-js/lib/command/CommandInterceptor':203,'diagram-js/lib/util/Elements':339,inherits:364}],131:[function(e,t,n){'use strict'
function i(e,t,n){d.call(this,e),this.postExecute(['shape.create','connection.create'],function(e){var n,i=e.context,r=i.shape||i.connection,o=r.businessObject
u(o)&&(n=p(r),t.createLabel(r,n,{id:o.id+'_label',hidden:!o.name,businessObject:o}))}),this.postExecute(['connection.updateWaypoints'],function(e){var n=e.context,i=n.connection,r=i.label
if(r&&r.hidden){var o=p(i),a={x:o.x-r.x-r.width/2,y:o.y-r.y-r.height/2}
t.moveShape(r,a)}}),this.postExecute(['shape.replace'],function(e){var t=e.context,n=t.newShape,i=t.oldShape,r=c(n)
r&&u(r)&&(n.label.x=i.label.x,n.label.y=i.label.y)}),this.executed(['label.create'],function(e){var t,i,o=e.context.shape
o.labelTarget&&l(o.labelTarget||o,'bpmn:BaseElement')&&(t=o.businessObject,i=t.di,i.label||(i.label=n.create('bpmndi:BPMNLabel',{bounds:n.create('dc:Bounds')})),r(i.label.bounds,{x:o.x,y:o.y,width:o.width,height:o.height}))})}var r=e('lodash/object/assign'),o=e('inherits'),a=e('../../../util/LabelUtil'),s=e('../../../util/ModelUtil'),l=s.is,c=s.getBusinessObject,u=a.hasExternalLabel,p=a.getExternalLabelMid,d=e('diagram-js/lib/command/CommandInterceptor')
o(i,d),i.$inject=['eventBus','modeling','bpmnFactory'],t.exports=i},{'../../../util/LabelUtil':177,'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364,'lodash/object/assign':512}],132:[function(e,t,n){'use strict'
function i(e,t,n){function i(e,n,i){t.add({position:{x:e.x+5,y:e.y+5},type:'error',timeout:i||2e3,html:'<div>'+n+'</div>'})}e.on(['shape.move.rejected','create.rejected'],function(e){var t=e.context,a=t.shape,s=t.target
r(s,'bpmn:Collaboration')&&r(a,'bpmn:FlowNode')&&i(e,n(o))}),e.on(['elements.paste.rejected'],function(e){var t=e.context,s=t.position,l=t.target
r(l,'bpmn:Collaboration')&&i(s,n(o)),r(l,'bpmn:Process')&&i(s,n(a),3e3)})}var r=e('../../../util/ModelUtil').is,o='flow elements must be children of pools/participants',a='participants cannot be pasted onto a non-empty process diagram'
i.$inject=['eventBus','tooltips','translate'],t.exports=i},{'../../../util/ModelUtil':178}],133:[function(e,t,n){'use strict'
function i(e,t,n){o.call(this,e),this.preExecute('shape.delete',function(e){var i=e.context.shape
if(1==i.incoming.length&&1==i.outgoing.length){var r=i.incoming[0],o=i.outgoing[0],a=o.waypoints[o.waypoints.length-1]
t.canConnect(r.source,o.target,r)&&n.reconnectEnd(r,o.target,a)}})}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor')
r(i,o),i.$inject=['eventBus','bpmnRules','modeling'],t.exports=i},{'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],134:[function(e,t,n){'use strict'
function i(e,t){o.call(this,e),this.preExecute('shape.delete',function(e){var t=e.shape,n=t.parent
a(t,'bpmn:Participant')&&(e.collaborationRoot=n)},!0),this.postExecute('shape.delete',function(e){var n=e.collaborationRoot
n&&!n.businessObject.participants.length&&t.makeProcess()},!0)}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor'),a=e('../../../util/ModelUtil').is
i.$inject=['eventBus','modeling'],r(i,o),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],135:[function(e,t,n){'use strict'
function i(e,t,n){function i(e){var i=e.source,r=e.target
if(e.parent){var o,a
l(e,'bpmn:SequenceFlow')&&(n.canConnectSequenceFlow(i,r)||(a=!0),n.canConnectMessageFlow(i,r)&&(o='bpmn:MessageFlow')),l(e,'bpmn:MessageFlow')&&(n.canConnectMessageFlow(i,r)||(a=!0),n.canConnectSequenceFlow(i,r)&&(o='bpmn:SequenceFlow')),l(e,'bpmn:Association')&&!n.canConnectAssociation(i,r)&&(a=!0),a&&t.removeConnection(e),o&&t.connect(i,r,{type:o,waypoints:e.waypoints.slice()})}}s.call(this,e),this.postExecuted('elements.move',function(e){var t=e.closure,n=t.allConnections
r(n,i)},!0),this.postExecuted(['connection.reconnectStart','connection.reconnectEnd'],function(e){i(e.context.connection)}),this.postExecuted('element.updateProperties',function(e){var n,i=e.context,r=i.properties,a=i.element,s=a.businessObject
r.default&&(n=o(a.outgoing,{id:a.businessObject.default.id}))&&t.updateProperties(n,{conditionExpression:void 0}),r.conditionExpression&&s.sourceRef.default===s&&t.updateProperties(a.source,{default:void 0})})}var r=e('lodash/collection/forEach'),o=e('lodash/collection/find'),a=e('inherits'),s=e('diagram-js/lib/command/CommandInterceptor'),l=e('../../../util/ModelUtil').is
a(i,s),i.$inject=['eventBus','modeling','bpmnRules'],t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364,'lodash/collection/find':381,'lodash/collection/forEach':382}],136:[function(e,t,n){'use strict'
function i(e,t,n,i,r,l){o.call(this,e),this._bpmnReplace=t,this._elementRegistry=i,this._selection=r,this._modeling=l,this.postExecuted(['elements.move'],500,function(e){var t=e.context,i=t.newParent,r=t.newHost,o=[]
a(t.closure.topLevel,function(e){o=s(e)?o.concat(e.children):o.concat(e)}),1===o.length&&r&&(i=r)
var l=n.canReplace(o,i)
l&&this.replaceElements(o,l.replacements,r)},this),this.postExecute(['shape.replace'],1500,function(e){var t,i=e.context,r=i.oldShape,o=i.newShape,a=r.attachers
l.unclaimId(r.businessObject.id,r.businessObject),l.claimId(o.businessObject.id,o.businessObject),a&&a.length&&(t=n.canReplace(a,o),this.replaceElements(a,t.replacements))},this)}var r=e('inherits'),o=e('diagram-js/lib/command/CommandInterceptor'),a=e('lodash/collection/forEach'),s=e('../../../util/DiUtil').isEventSubProcess,l=e('../../../util/ModelUtil').is
r(i,o),i.prototype.replaceElements=function(e,t,n){var i=this._elementRegistry,r=this._bpmnReplace,o=this._selection,s=this._modeling
a(t,function(t){var o={type:t.newElementType},a=i.get(t.oldElementId)
n&&l(a,'bpmn:BoundaryEvent')&&s.updateAttachment(a,null)
var c=e.indexOf(a)
e[c]=r.replaceElement(a,o,{select:!1}),n&&l(e[c],'bpmn:BoundaryEvent')&&s.updateAttachment(e[c],n)}),t&&o.select(e)},i.$inject=['eventBus','bpmnReplace','bpmnRules','elementRegistry','selection','modeling'],t.exports=i},{'../../../util/DiUtil':176,'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364,'lodash/collection/forEach':382}],137:[function(e,t,n){'use strict'
function i(e,t){e.on('resize.start',s+500,function(e){var t=e.context,n=t.shape;(r(n,'bpmn:Lane')||r(n,'bpmn:Participant'))&&(t.balanced=!a(e))}),e.on('resize.end',s,function(e){var n=e.context,i=n.shape,a=n.canExecute,s=n.newBounds
if(r(i,'bpmn:Lane')||r(i,'bpmn:Participant')){return a&&(s=o(s),t.resizeLane(i,s,n.balanced)),!1}})}var r=e('../../../util/ModelUtil').is,o=e('diagram-js/lib/layout/LayoutUtil').roundBounds,a=e('diagram-js/lib/util/Mouse').hasPrimaryModifier,s=1001
i.$inject=['eventBus','modeling'],t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/layout/LayoutUtil':325,'diagram-js/lib/util/Mouse':346}],138:[function(e,t,n){'use strict'
function i(e,t){a.call(this,e),this.preExecute('elements.delete',function(e){var n=e.context,i=n.elements
r(i,function(e){t.unclaimId(e.businessObject.id,e.businessObject)})})}var r=e('lodash/collection/forEach'),o=e('inherits'),a=e('diagram-js/lib/command/CommandInterceptor')
o(i,a),i.$inject=['eventBus','modeling'],t.exports=i},{'diagram-js/lib/command/CommandInterceptor':203,inherits:364,'lodash/collection/forEach':382}],139:[function(e,t,n){'use strict'
function i(e,t){a.call(this,e),this.preExecute('connection.delete',function(e){var n=e.context,i=n.connection,o=i.source
r(i,o)&&t.updateProperties(o,{default:null})})}function r(e,t){if(!s(e,'bpmn:SequenceFlow')){return!1}
var n=l(t),i=l(e)
return n.get('default')===i}var o=e('inherits'),a=e('diagram-js/lib/command/CommandInterceptor'),s=e('../../../util/ModelUtil').is,l=e('../../../util/ModelUtil').getBusinessObject
o(i,a),i.$inject=['eventBus','modeling'],t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],140:[function(e,t,n){'use strict'
function i(e,t,n){function i(){return p=p||new r,p.enter(),p}function o(){if(!p){throw new Error(n('out of bounds release'))}
return p}function u(){if(!p){throw new Error(n('out of bounds release'))}
var e=p.leave()
return e&&(t.updateLaneRefs(p.flowNodes,p.lanes),p=null),e}a.call(this,e)
var p,d=['spaceTool','lane.add','lane.resize','lane.split','elements.move','elements.delete','shape.create','shape.delete','shape.move','shape.resize']
this.preExecute(d,c,function(e){i()}),this.postExecuted(d,l,function(e){u()}),this.preExecute(['shape.create','shape.move','shape.delete','shape.resize'],function(e){var t=e.context,n=t.shape,i=o()
n.labelTarget||(s(n,'bpmn:Lane')&&i.addLane(n),s(n,'bpmn:FlowNode')&&i.addFlowNode(n))})}function r(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return!--this.counter}}var o=e('inherits'),a=e('diagram-js/lib/command/CommandInterceptor'),s=e('../../../util/ModelUtil').is,l=500,c=5e3
i.$inject=['eventBus','modeling','translate'],o(i,a),t.exports=i},{'../../../util/ModelUtil':178,'diagram-js/lib/command/CommandInterceptor':203,inherits:364}],141:[function(e,t,n){t.exports={__init__:['appendBehavior','copyPasteBehavior','createBoundaryEventBehavior','createDataObjectBehavior','createOnFlowBehavior','createParticipantBehavior','dataInputAssociationBehavior','deleteLaneBehavior','labelBehavior','modelingFeedback','removeParticipantBehavior','replaceConnectionBehavior','replaceElementBehaviour','resizeLaneBehavior','unsetDefaultFlowBehavior','updateFlowNodeRefsBehavior','removeElementBehavior','unclaimIdBehavior'],appendBehavior:['type',e('./AppendBehavior')],copyPasteBehavior:['type',e('./CopyPasteBehavior')],createBoundaryEventBehavior:['type',e('./CreateBoundaryEventBehavior')],createDataObjectBehavior:['type',e('./CreateDataObjectBehavior')],createOnFlowBehavior:['type',e('./CreateOnFlowBehavior')],createParticipantBehavior:['type',e('./CreateParticipantBehavior')],dataInputAssociationBehavior:['type',e('./DataInputAssociationBehavior')],deleteLaneBehavior:['type',e('./DeleteLaneBehavior')],labelBehavior:['type',e('./LabelBehavior')],modelingFeedback:['type',e('./ModelingFeedback')],removeParticipantBehavior:['type',e('./RemoveParticipantBehavior')],replaceConnectionBehavior:['type',e('./ReplaceConnectionBehavior')],replaceElementBehaviour:['type',e('./ReplaceElementBehaviour')],resizeLaneBehavior:['type',e('./ResizeLaneBehavior')],unsetDefaultFlowBehavior:['type',e('./UnsetDefaultFlowBehavior')],updateFlowNodeRefsBehavior:['type',e('./UpdateFlowNodeRefsBehavior')],removeElementBehavior:['type',e('./RemoveElementBehavior')],unclaimIdBehavior:['type',e('./UnclaimIdBehavior')]}},{'./AppendBehavior':123,'./CopyPasteBehavior':124,'./CreateBoundaryEventBehavior':125,'./CreateDataObjectBehavior':126,'./CreateOnFlowBehavior':127,'./CreateParticipantBehavior':128,'./DataInputAssociationBehavior':129,'./DeleteLaneBehavior':130,'./LabelBehavior':131,'./ModelingFeedback':132,'./RemoveElementBehavior':133,'./RemoveParticipantBehavior':134,'./ReplaceConnectionBehavior':135,'./ReplaceElementBehaviour':136,'./ResizeLaneBehavior':137,'./UnclaimIdBehavior':138,'./UnsetDefaultFlowBehavior':139,'./UpdateFlowNodeRefsBehavior':140}],142:[function(e,t,n){'use strict'
function i(e,t){this._modeling=e,this._spaceTool=t}var r=e('lodash/collection/filter'),o=e('diagram-js/lib/util/Elements'),a=e('../util/LaneUtil').getLanesRoot,s=e('../util/LaneUtil').getChildLanes,l=e('../util/LaneUtil').LANE_INDENTATION
i.$inject=['modeling','spaceTool'],t.exports=i,i.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,i=e.shape,c=e.location,u=a(i),p=u===i,d=p?i:i.parent
s(d).length||n.createShape({type:'bpmn:Lane'},{x:i.x+l,y:i.y,width:i.width-l,height:i.height},d)
var f=[]
o.eachElement(u,function(e){return f.push(e),e===i?[]:r(e.children,function(e){return e!==i})})
var h='top'===c?-120:120,m='top'===c?i.y:i.y+i.height,v=m+('top'===c?10:-10),g='top'===c?'n':'s',y=t.calculateAdjustments(f,'y',h,v)
t.makeSpace(y.movingShapes,y.resizingShapes,{x:0,y:h},g),e.newLane=n.createShape({type:'bpmn:Lane'},{x:i.x+(p?l:0),y:m-('top'===c?120:0),width:i.width-(p?l:0),height:120},d)}},{'../util/LaneUtil':150,'diagram-js/lib/util/Elements':339,'lodash/collection/filter':380}],143:[function(e,t,n){'use strict'
function i(e){this._moddle=e}i.$inject=['moddle'],t.exports=i,i.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element
e.claiming?t.claim(n,i):t.unclaim(n)},i.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element
e.claiming?t.unclaim(n):t.claim(n,i)}},{}],144:[function(e,t,n){'use strict'
function i(e,t){this._modeling=e,this._spaceTool=t}var r=e('../../../util/ModelUtil').is,o=e('../util/LaneUtil').getLanesRoot,a=e('../util/LaneUtil').computeLanesResize,s=e('diagram-js/lib/util/Elements').eachElement,l=e('diagram-js/lib/layout/LayoutUtil').asTRBL,c=e('diagram-js/lib/features/resize/ResizeUtil').substractTRBL
i.$inject=['modeling','spaceTool'],t.exports=i,i.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds
!1!==e.balanced?this.resizeBalanced(t,n):this.resizeSpace(t,n)},i.prototype.resizeBalanced=function(e,t){var n=this._modeling,i=a(e,t)
n.resizeShape(e,t),i.forEach(function(e){n.resizeShape(e.shape,e.newBounds)})},i.prototype.resizeSpace=function(e,t){var n=this._spaceTool,i=l(e),a=l(t),u=c(a,i),p=o(e),d=[],f=[]
s(p,function(e){return d.push(e),(r(e,'bpmn:Lane')||r(e,'bpmn:Participant'))&&f.push(e),e.children})
var h,m,v,g,y;(u.bottom||u.top)&&(h=u.bottom||u.top,m=e.y+(u.bottom?e.height:0)+(u.bottom?-10:10),v=u.bottom?'s':'n',g=u.top>0||u.bottom<0?-h:h,y=n.calculateAdjustments(d,'y',g,m),n.makeSpace(y.movingShapes,y.resizingShapes,{x:0,y:h},v)),(u.left||u.right)&&(h=u.right||u.left,m=e.x+(u.right?e.width:0)+(u.right?-10:100),v=u.right?'e':'w',g=u.left>0||u.right<0?-h:h,y=n.calculateAdjustments(f,'x',g,m),n.makeSpace(y.movingShapes,y.resizingShapes,{x:h,y:0},v))}},{'../../../util/ModelUtil':178,'../util/LaneUtil':150,'diagram-js/lib/features/resize/ResizeUtil':295,'diagram-js/lib/layout/LayoutUtil':325,'diagram-js/lib/util/Elements':339}],145:[function(e,t,n){'use strict'
function i(e,t){this._modeling=e,this._translate=t}var r=e('../util/LaneUtil').getChildLanes,o=e('../util/LaneUtil').LANE_INDENTATION
i.$inject=['modeling','translate'],t.exports=i,i.prototype.preExecute=function(e){var t=this._modeling,n=this._translate,i=e.shape,a=e.count,s=r(i),l=s.length
if(l>a){throw new Error(n('more than {count} child lanes',{count:a}))}
var c,u,p,d,f,h=Math.round(i.height/a)
for(f=0;f<a;f++){c=i.y+f*h,u=f===a-1?i.height-h*f:h,p={x:i.x+o,y:c,width:i.width-o,height:u},f<l?t.resizeShape(s[f],p):(d={type:'bpmn:Lane'},t.createShape(d,p,i))}}},{'../util/LaneUtil':150}],146:[function(e,t,n){'use strict'
function i(e,t){this._canvas=e,this._modeling=t}var r=e('diagram-js/lib/util/Collections')
i.$inject=['canvas','modeling'],t.exports=i,i.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,o=t.getRootElement(),a=o.businessObject,s=a.$parent,l=a.di
t.setRootElement(n,!0),r.add(s.rootElements,i),i.$parent=s,r.remove(s.rootElements,a),a.$parent=null,a.di=null,l.bpmnElement=i,i.di=l,e.oldRoot=o},i.prototype.revert=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,o=e.oldRoot,a=o.businessObject,s=i.$parent,l=i.di
t.setRootElement(o,!0),r.remove(s.rootElements,i),i.$parent=null,r.add(s.rootElements,a),a.$parent=s,i.di=null,l.bpmnElement=a,a.di=l}},{'diagram-js/lib/util/Collections':336}],147:[function(e,t,n){'use strict'
function i(e){this._elementRegistry=e}var r=e('../util/LaneUtil').collectLanes,o=e('../util/LaneUtil').getLanesRoot,a=e('../../../util/ModelUtil').is,s=e('diagram-js/lib/util/Collections'),l=e('diagram-js/lib/layout/LayoutUtil').asTRBL
i.$inject=['elementRegistry'],t.exports=i,i.prototype.computeUpdates=function(e,t){function n(e,t){var n=l(t),i={x:e.x+e.width/2,y:e.y+e.height/2}
return i.x>n.left&&i.x<n.right&&i.y>n.top&&i.y<n.bottom}function i(e){u[e.id]||(f.push(e),u[e.id]=e)}function s(e){var t=o(e)
return d[t.id]||(d[t.id]=r(t)),d[t.id]}function c(e){return e.parent?s(e).filter(function(t){return n(e,t)}).map(function(e){return e.businessObject}):[]}var u={},p=[],d={},f=[]
return t.forEach(function(e){var t=o(e)
if(t&&!u[t.id]){t.children.filter(function(e){return a(e,'bpmn:FlowNode')}).forEach(i),u[t.id]=t}}),e.forEach(i),f.forEach(function(e){var t=e.businessObject,n=t.get('lanes'),i=n.slice(),r=c(e)
p.push({flowNode:t,remove:i,add:r})}),t.forEach(function(e){var t=e.businessObject
e.parent||t.get('flowNodeRef').forEach(function(e){p.push({flowNode:e,remove:[t],add:[]})})}),p},i.prototype.execute=function(e){var t=e.updates
t||(t=e.updates=this.computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach(function(e){var t=e.flowNode,n=t.get('lanes')
e.remove.forEach(function(e){s.remove(n,e),s.remove(e.get('flowNodeRef'),t)}),e.add.forEach(function(e){s.add(n,e),s.add(e.get('flowNodeRef'),t)})})},i.prototype.revert=function(e){e.updates.forEach(function(e){var t=e.flowNode,n=t.get('lanes')
e.add.forEach(function(e){s.remove(n,e),s.remove(e.get('flowNodeRef'),t)}),e.remove.forEach(function(e){s.add(n,e),s.add(e.get('flowNodeRef'),t)})})}},{'../../../util/ModelUtil':178,'../util/LaneUtil':150,'diagram-js/lib/layout/LayoutUtil':325,'diagram-js/lib/util/Collections':336}],148:[function(e,t,n){'use strict'
function i(e,t,n){this._elementRegistry=e,this._moddle=t,this._translate=n}function r(e,t){return f in e&&e[f]!==t[f]}function o(e,t){return l(t,function(t,n){return t[n]=e.get(n),t},{})}function a(e,t){u(t,function(t,n){e.set(n,t)})}function s(e){var t=p({},e)
return h.forEach(function(n){n in e&&(t[n]=d(t[n]))}),t}var l=e('lodash/object/transform'),c=e('lodash/object/keys'),u=e('lodash/collection/forEach'),p=e('lodash/object/assign'),d=e('../../../util/ModelUtil').getBusinessObject,f='id'
i.$inject=['elementRegistry','moddle','translate'],t.exports=i,i.prototype.execute=function(e){var t=e.element,n=[t],i=this._translate
if(!t){throw new Error(i('element required'))}
var l=this._elementRegistry,u=this._moddle.ids,p=t.businessObject,d=s(e.properties),h=e.oldProperties||o(p,c(d))
return r(d,p)&&(u.unclaim(p[f]),l.updateId(t,d[f]),u.claim(d[f],p)),'default'in d&&(d.default&&n.push(l.get(d.default.id)),p.default&&n.push(l.get(p.default.id))),'name'in d&&t.label&&(n.push(t.label),t.label.hidden=!d.name),a(p,d),e.oldProperties=h,e.changed=n,n},i.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,o=t.businessObject,s=this._elementRegistry,l=this._moddle.ids
return a(o,i),r(n,o)&&(l.unclaim(n[f]),s.updateId(t,i[f]),l.claim(i[f],o)),e.changed}
var h=['default']},{'../../../util/ModelUtil':178,'lodash/collection/forEach':382,'lodash/object/assign':512,'lodash/object/keys':514,'lodash/object/transform':520}],149:[function(e,t,n){t.exports={__init__:['modeling','bpmnUpdater'],__depends__:[e('./behavior'),e('../label-editing'),e('../rules'),e('../ordering'),e('../replace'),e('diagram-js/lib/command'),e('diagram-js/lib/features/tooltips'),e('diagram-js/lib/features/label-support'),e('diagram-js/lib/features/attach-support'),e('diagram-js/lib/features/selection'),e('diagram-js/lib/features/change-support'),e('diagram-js/lib/features/space-tool')],bpmnFactory:['type',e('./BpmnFactory')],bpmnUpdater:['type',e('./BpmnUpdater')],elementFactory:['type',e('./ElementFactory')],modeling:['type',e('./Modeling')],layouter:['type',e('./BpmnLayouter')],connectionDocking:['type',e('diagram-js/lib/layout/CroppingConnectionDocking')]}},{'../label-editing':117,'../ordering':153,'../replace':163,'../rules':165,'./BpmnFactory':118,'./BpmnLayouter':119,'./BpmnUpdater':120,'./ElementFactory':121,'./Modeling':122,'./behavior':141,'diagram-js/lib/command':205,'diagram-js/lib/features/attach-support':217,'diagram-js/lib/features/change-support':227,'diagram-js/lib/features/label-support':252,'diagram-js/lib/features/selection':306,'diagram-js/lib/features/space-tool':313,'diagram-js/lib/features/tooltips':317,'diagram-js/lib/layout/CroppingConnectionDocking':324}],150:[function(e,t,n){'use strict'
function i(e,t){return p(u(t),u(e))}function r(e,t){return t=t||[],e.children.filter(function(e){l(e,'bpmn:Lane')&&(r(e,t),t.push(e))}),t}function o(e){return e.children.filter(function(e){return l(e,'bpmn:Lane')})}function a(e){return c(e,h)||e}function s(e,t){var n=a(e),o=l(n,'bpmn:Process')?[]:[n],s=r(n,o),c=u(e),p=u(t),h=i(e,t),m=[]
return s.forEach(function(t){if(t!==e){var n=0,i=h.right,r=0,o=h.left,a=u(t)
h.top&&(f(a.bottom-c.top)<10&&(r=p.top-a.bottom),f(a.top-c.top)<5&&(n=p.top-a.top)),h.bottom&&(f(a.top-c.bottom)<10&&(n=p.bottom-a.top),f(a.bottom-c.bottom)<5&&(r=p.bottom-a.bottom)),(n||i||r||o)&&m.push({shape:t,newBounds:d(t,{top:n,right:i,bottom:r,left:o})})}}),m}var l=e('../../../util/ModelUtil').is,c=e('./ModelingUtil').getParent,u=e('diagram-js/lib/layout/LayoutUtil').asTRBL,p=e('diagram-js/lib/features/resize/ResizeUtil').substractTRBL,d=e('diagram-js/lib/features/resize/ResizeUtil').resizeTRBL,f=Math.abs,h=['bpmn:Participant','bpmn:Process','bpmn:SubProcess']
t.exports.LANE_INDENTATION=30,t.exports.collectLanes=r,t.exports.getChildLanes=o,t.exports.getLanesRoot=a,t.exports.computeLanesResize=s},{'../../../util/ModelUtil':178,'./ModelingUtil':151,'diagram-js/lib/features/resize/ResizeUtil':295,'diagram-js/lib/layout/LayoutUtil':325}],151:[function(e,t,n){'use strict'
function i(e){for(var t=[];e;){(e=e.parent)&&t.push(e)}
return t}function r(e,t){return a(t,function(t){return s(e,t)})}function o(e,t){for('string'==typeof t&&(t=[t]);e=e.parent;){if(r(e,t)){return e}}
return null}var a=e('lodash/collection/any'),s=e('../../../util/ModelUtil').is
t.exports.getParents=i,t.exports.isAny=r,t.exports.getParent=o},{'../../../util/ModelUtil':178,'lodash/collection/any':378}],152:[function(e,t,n){'use strict'
function i(e,t){function n(e){var t=l(c,function(t){return a(e,[t.type])})
return t&&t.order||{level:1}}function i(e){var t=e.order
return t||(e.order=t=n(e)),t}function r(e,n,i){for(var r=n;r&&!a(r,i);){r=r.parent}
if(!r){throw new Error(t('no parent for {element} in {parent}',{element:e.id,parent:n.id}))}
return r}o.call(this,e)
var c=[{type:'label',order:{level:10}},{type:'bpmn:SubProcess',order:{level:6}},{type:'bpmn:SequenceFlow',order:{level:5,containers:['bpmn:Participant','bpmn:FlowElementsContainer']}},{type:'bpmn:DataInputAssociation',order:{level:9,containers:['bpmn:Collaboration','bpmn:Process']}},{type:'bpmn:DataOutputAssociation',order:{level:9,containers:['bpmn:Collaboration','bpmn:Process']}},{type:'bpmn:MessageFlow',order:{level:9,containers:['bpmn:Collaboration']}},{type:'bpmn:Association',order:{level:6,containers:['bpmn:Participant','bpmn:FlowElementsContainer','bpmn:Collaboration']}},{type:'bpmn:BoundaryEvent',order:{level:8}},{type:'bpmn:Participant',order:{level:-2}},{type:'bpmn:Lane',order:{level:-1}}]
this.getOrdering=function(e,t){var n=i(e)
n.containers&&(t=r(e,t,n.containers))
var o=t.children.indexOf(e),a=s(t.children,function(t){return!(!e.labelTarget&&t.labelTarget)&&n.level<i(t).level})
return-1!==a&&-1!==o&&o<a&&(a-=1),{index:a,parent:t}}}var r=e('inherits'),o=e('diagram-js/lib/features/ordering/OrderingProvider'),a=e('../modeling/util/ModelingUtil').isAny,s=e('lodash/array/findIndex'),l=e('lodash/collection/find')
i.$inject=['eventBus','translate'],r(i,o),t.exports=i},{'../modeling/util/ModelingUtil':151,'diagram-js/lib/features/ordering/OrderingProvider':282,inherits:364,'lodash/array/findIndex':368,'lodash/collection/find':381}],153:[function(e,t,n){t.exports={__init__:['bpmnOrderingProvider'],__depends__:[e('diagram-js/lib/i18n/translate')],bpmnOrderingProvider:['type',e('./BpmnOrderingProvider')]}},{'./BpmnOrderingProvider':152,'diagram-js/lib/i18n/translate':321}],154:[function(e,t,n){'use strict'
function i(e,t,n,i,r,o,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=o,this._globalConnect=a,this._translate=s,e.registerProvider(this)}var r=e('lodash/object/assign')
t.exports=i,i.$inject=['palette','create','elementFactory','spaceTool','lassoTool','handTool','globalConnect','translate'],i.prototype.getPaletteEntries=function(e){function t(e,t,n,i,s){function l(t){var n=a.createShape(r({type:e},s))
s&&(n.businessObject.di.isExpanded=s.isExpanded),o.start(t,n)}var c=e.replace(/^bpmn\:/,'')
return{group:t,className:n,title:i||p('Create {type}',{type:c}),action:{dragstart:l,click:l}}}function n(e,t){o.start(e,a.createParticipantShape(t))}var i={},o=this._create,a=this._elementFactory,s=this._spaceTool,l=this._lassoTool,c=this._handTool,u=this._globalConnect,p=this._translate
return r(i,{'hand-tool':{group:'tools',className:'bpmn-icon-hand-tool',title:p('Activate the hand tool'),action:{click:function(e){c.activateHand(e)}}},'lasso-tool':{group:'tools',className:'bpmn-icon-lasso-tool',title:p('Activate the lasso tool'),action:{click:function(e){l.activateSelection(e)}}},'space-tool':{group:'tools',className:'bpmn-icon-space-tool',title:p('Activate the create/remove space tool'),action:{click:function(e){s.activateSelection(e)}}},'global-connect-tool':{group:'tools',className:'bpmn-icon-connection-multi',title:p('Activate the global connect tool'),action:{click:function(e){u.toggle(e)}}},'tool-separator':{group:'tools',separator:!0},'create.start-event':t('bpmn:StartEvent','event','bpmn-icon-start-event-none'),'create.intermediate-event':t('bpmn:IntermediateThrowEvent','event','bpmn-icon-intermediate-event-none',p('Create IntermediateThrowEvent/BoundaryEvent')),'create.end-event':t('bpmn:EndEvent','event','bpmn-icon-end-event-none'),'create.exclusive-gateway':t('bpmn:ExclusiveGateway','gateway','bpmn-icon-gateway-xor'),'create.task':t('bpmn:Task','activity','bpmn-icon-task'),'create.data-object':t('bpmn:DataObjectReference','data-object','bpmn-icon-data-object'),'create.data-store':t('bpmn:DataStoreReference','data-store','bpmn-icon-data-store'),'create.subprocess-expanded':t('bpmn:SubProcess','activity','bpmn-icon-subprocess-expanded',p('Create expanded SubProcess'),{isExpanded:!0}),'create.participant-expanded':{group:'collaboration',className:'bpmn-icon-participant',title:p('Create Pool/Participant'),action:{dragstart:n,click:n}}}),i}},{'lodash/object/assign':512}],155:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/palette'),e('diagram-js/lib/features/create'),e('diagram-js/lib/features/space-tool'),e('diagram-js/lib/features/lasso-tool'),e('diagram-js/lib/features/hand-tool'),e('diagram-js/lib/i18n/translate'),e('../global-connect')],__init__:['paletteProvider'],paletteProvider:['type',e('./PaletteProvider')]}},{'../global-connect':111,'./PaletteProvider':154,'diagram-js/lib/features/create':237,'diagram-js/lib/features/hand-tool':246,'diagram-js/lib/features/lasso-tool':254,'diagram-js/lib/features/palette':288,'diagram-js/lib/features/space-tool':313,'diagram-js/lib/i18n/translate':321}],156:[function(e,t,n){'use strict'
function i(e,t,n,i,r,o){this._popupMenu=e,this._modeling=t,this._moddle=n,this._bpmnReplace=i,this._rules=r,this._translate=o,this.register()}var r=e('../../util/ModelUtil').is,o=e('../../util/DiUtil').isEventSubProcess,a=e('../../util/ModelUtil').getBusinessObject,s=e('../../util/DiUtil').isExpanded,l=e('./util/TypeUtil').isDifferentType,c=e('lodash/collection/forEach'),u=e('lodash/collection/filter'),p=e('../replace/ReplaceOptions')
i.$inject=['popupMenu','modeling','moddle','bpmnReplace','rules','translate'],i.prototype.register=function(){this._popupMenu.registerProvider('bpmn-replace',this)},i.prototype.getEntries=function(e){var t,n=e.businessObject,i=this._rules
if(!i.allowed('shape.replace',{element:e})){return[]}
var c=l(e)
return r(n,'bpmn:StartEvent')&&!o(n.$parent)?(t=u(p.START_EVENT,c),this._createEntries(e,t)):r(n,'bpmn:Participant')?(t=u(p.PARTICIPANT,function(e){return s(n)!==e.target.isExpanded}),this._createEntries(e,t)):r(n,'bpmn:StartEvent')&&o(n.$parent)?(t=u(p.EVENT_SUB_PROCESS_START_EVENT,function(t){var n=t.target,i=!1!==n.isInterrupting,r=a(e).isInterrupting===i
return c(t)||!c(t)&&!r}),this._createEntries(e,t)):r(n,'bpmn:EndEvent')?(t=u(p.END_EVENT,function(e){return!('bpmn:CancelEventDefinition'==e.target.eventDefinition&&!r(n.$parent,'bpmn:Transaction'))&&c(e)}),this._createEntries(e,t)):r(n,'bpmn:BoundaryEvent')?(t=u(p.BOUNDARY_EVENT,function(e){var t=e.target
if('bpmn:CancelEventDefinition'==t.eventDefinition&&!r(n.attachedToRef,'bpmn:Transaction')){return!1}
var i=!1!==t.cancelActivity,o=n.cancelActivity==i
return c(e)||!c(e)&&!o}),this._createEntries(e,t)):r(n,'bpmn:IntermediateCatchEvent')||r(n,'bpmn:IntermediateThrowEvent')?(t=u(p.INTERMEDIATE_EVENT,c),this._createEntries(e,t)):r(n,'bpmn:Gateway')?(t=u(p.GATEWAY,c),this._createEntries(e,t)):r(n,'bpmn:Transaction')?(t=u(p.TRANSACTION,c),this._createEntries(e,t)):o(n)&&s(n)?(t=u(p.EVENT_SUB_PROCESS,c),this._createEntries(e,t)):r(n,'bpmn:SubProcess')&&s(n)?(t=u(p.SUBPROCESS_EXPANDED,c),this._createEntries(e,t)):r(n,'bpmn:AdHocSubProcess')&&!s(n)?(t=u(p.TASK,function(t){var n=t.target,i='bpmn:SubProcess'===n.type,r=!0===n.isExpanded
return l(e,n)&&(!i||r)}),this._createEntries(e,t)):r(n,'bpmn:SequenceFlow')?this._createSequenceFlowEntries(e,p.SEQUENCE_FLOW):r(n,'bpmn:FlowNode')?(t=u(p.TASK,c),n.isForCompensation&&(t=u(t,function(e){return!/CallActivity/.test(e.target.type)})),this._createEntries(e,t)):[]},i.prototype.getHeaderEntries=function(e){var t=[]
return r(e,'bpmn:Activity')&&!o(e)&&(t=t.concat(this._getLoopEntries(e))),!r(e,'bpmn:SubProcess')||r(e,'bpmn:Transaction')||o(e)||t.push(this._getAdHocEntry(e)),t},i.prototype._createEntries=function(e,t){var n=[],i=this
return c(t,function(t){var r=i._createMenuEntry(t,e)
n.push(r)}),n},i.prototype._createSequenceFlowEntries=function(e,t){var n=a(e),i=[],o=this._modeling,s=this._moddle,l=this
return c(t,function(t){switch(t.actionName){case'replace-with-default-flow':n.sourceRef.default!==n&&(r(n.sourceRef,'bpmn:ExclusiveGateway')||r(n.sourceRef,'bpmn:InclusiveGateway')||r(n.sourceRef,'bpmn:Activity'))&&i.push(l._createMenuEntry(t,e,function(){o.updateProperties(e.source,{default:n})}))
break
case'replace-with-conditional-flow':!n.conditionExpression&&r(n.sourceRef,'bpmn:Activity')&&i.push(l._createMenuEntry(t,e,function(){var t=s.create('bpmn:FormalExpression',{body:''})
o.updateProperties(e,{conditionExpression:t})}))
break
default:if(r(n.sourceRef,'bpmn:Activity')&&n.conditionExpression){return i.push(l._createMenuEntry(t,e,function(){o.updateProperties(e,{conditionExpression:void 0})}))}
if((r(n.sourceRef,'bpmn:ExclusiveGateway')||r(n.sourceRef,'bpmn:InclusiveGateway')||r(n.sourceRef,'bpmn:Activity'))&&n.sourceRef.default===n){return i.push(l._createMenuEntry(t,e,function(){o.updateProperties(e.source,{default:void 0})}))}}}),i},i.prototype._createMenuEntry=function(e,t,n){var i=this._translate,r=this._bpmnReplace.replaceElement,o=function(){return r(t,e.target)}
return n=n||o,{label:i(e.label),className:e.className,id:e.actionName,action:n}},i.prototype._getLoopEntries=function(e){function t(t,n){var i
n.active?i=void 0:(i=o._moddle.create(n.options.loopCharacteristics),n.options.isSequential&&(i.isSequential=n.options.isSequential)),o._modeling.updateProperties(e,{loopCharacteristics:i})}var n,i,r,o=this,s=this._translate,l=a(e),c=l.loopCharacteristics
return c&&(n=c.isSequential,i=void 0===c.isSequential,r=void 0!==c.isSequential&&!c.isSequential),[{id:'toggle-parallel-mi',className:'bpmn-icon-parallel-mi-marker',title:s('Parallel Multi Instance'),active:r,action:t,options:{loopCharacteristics:'bpmn:MultiInstanceLoopCharacteristics',isSequential:!1}},{id:'toggle-sequential-mi',className:'bpmn-icon-sequential-mi-marker',title:s('Sequential Multi Instance'),active:n,action:t,options:{loopCharacteristics:'bpmn:MultiInstanceLoopCharacteristics',isSequential:!0}},{id:'toggle-loop',className:'bpmn-icon-loop-marker',title:s('Loop'),active:i,action:t,options:{loopCharacteristics:'bpmn:StandardLoopCharacteristics'}}]},i.prototype._getAdHocEntry=function(e){var t=this._translate,n=a(e),i=r(n,'bpmn:AdHocSubProcess'),o=this._bpmnReplace.replaceElement
return{id:'toggle-adhoc',className:'bpmn-icon-ad-hoc-marker',title:t('Ad-hoc'),active:i,action:function(t,n){return i?o(e,{type:'bpmn:SubProcess'}):o(e,{type:'bpmn:AdHocSubProcess'})}}},t.exports=i},{'../../util/DiUtil':176,'../../util/ModelUtil':178,'../replace/ReplaceOptions':162,'./util/TypeUtil':158,'lodash/collection/filter':380,'lodash/collection/forEach':382}],157:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/popup-menu'),e('../replace')],__init__:['replaceMenuProvider'],replaceMenuProvider:['type',e('./ReplaceMenuProvider')]}},{'../replace':163,'./ReplaceMenuProvider':156,'diagram-js/lib/features/popup-menu':290}],158:[function(e,t,n){'use strict'
function i(e){return function(t){var n=t.target,i=r(e),a=i.eventDefinitions&&i.eventDefinitions[0],s=i.$type===n.type,l=(a&&a.$type)===n.eventDefinitionType,c=void 0===n.triggeredByEvent||i.triggeredByEvent===n.triggeredByEvent,u=void 0===n.isExpanded||n.isExpanded===o(i)
return!(s&&l&&c&&u)}}var r=e('../../../util/ModelUtil').getBusinessObject,o=e('../../../util/DiUtil').isExpanded
t.exports.isDifferentType=i},{'../../../util/DiUtil':176,'../../../util/ModelUtil':178}],159:[function(e,t,n){'use strict'
function i(e,t,n,i,o){function c(e){var r=e.canExecute.replacements
s(r,function(r){var s=r.oldElementId,l={type:r.newElementType}
if(!e.visualReplacements[s]){var c=t.get(s)
a(l,{x:c.x,y:c.y})
var u=n.createShape(l)
i.addShape(u,c.parent)
var p=e.dragGroup.select('[data-element-id='+c.id+']')
p&&p.attr({display:'none'})
var d=o.addDragger(e,u)
e.visualReplacements[s]=d,i.removeShape(u)}})}function u(e){var t=e.visualReplacements
s(t,function(n,i){var r=e.dragGroup.select('[data-element-id='+i+']')
r&&r.attr({display:'inline'}),n.remove(),t[i]&&delete t[i]})}r.call(this,e),e.on('shape.move.move',l,function(e){var t=e.context,n=t.canExecute
t.visualReplacements||(t.visualReplacements={}),n.replacements?c(t):u(t)})}var r=e('diagram-js/lib/command/CommandInterceptor'),o=e('inherits'),a=e('lodash/object/assign'),s=e('lodash/collection/forEach'),l=250
i.$inject=['eventBus','elementRegistry','elementFactory','canvas','moveVisuals'],o(i,r),t.exports=i},{'diagram-js/lib/command/CommandInterceptor':203,inherits:364,'lodash/collection/forEach':382,'lodash/object/assign':512}],160:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/move')],__init__:['bpmnReplacePreview'],bpmnReplacePreview:['type',e('./BpmnReplacePreview')]}},{'./BpmnReplacePreview':159,'diagram-js/lib/features/move':281}],161:[function(e,t,n){'use strict'
function i(e,t,n,i){function u(i,u,p){p=p||{}
var d=u.type,f=i.businessObject,h=e.create(d),m={type:d,businessObject:h}
return u.eventDefinitionType&&(m.eventDefinitionType=u.eventDefinitionType),o(h,r(u,c)),a(f,'bpmn:SubProcess')&&(m.isExpanded=s(f)),a(f,'bpmn:AdHocSubProcess')&&u.isExpanded&&(m.businessObject=e.create('bpmn:AdHocSubProcess')),a(f,'bpmn:Activity')&&(!0===u.isExpanded&&(m.isExpanded=!0),s(f)&&!a(f,'bpmn:Task')&&u.isExpanded&&(m.width=i.width,m.height=i.height)),a(f,'bpmn:Participant')&&(!0===u.isExpanded?h.processRef=e.create('bpmn:Process'):p.moveChildren=!1,m.width=i.width,m.height=i.height),h.name=f.name,l(h)||(h.loopCharacteristics=f.loopCharacteristics),(a(f,'bpmn:ExclusiveGateway')||a(f,'bpmn:InclusiveGateway')||a(f,'bpmn:Activity'))&&(a(h,'bpmn:ExclusiveGateway')||a(h,'bpmn:InclusiveGateway')||a(h,'bpmn:Activity'))&&(h.default=f.default),f.isForCompensation&&(h.isForCompensation=!0),m=t.replaceElement(i,m,p),!1!==p.select&&n.select(m),m}this.replaceElement=u}var r=e('lodash/object/pick'),o=e('lodash/object/assign'),a=e('../../util/ModelUtil').is,s=e('../../util/DiUtil').isExpanded,l=e('../../util/DiUtil').isEventSubProcess,c=['cancelActivity','instantiate','eventGatewayType','triggeredByEvent','isInterrupting']
i.$inject=['bpmnFactory','replace','selection','modeling'],t.exports=i},{'../../util/DiUtil':176,'../../util/ModelUtil':178,'lodash/object/assign':512,'lodash/object/pick':519}],162:[function(e,t,n){'use strict'
t.exports.START_EVENT=[{label:'Start Event',actionName:'replace-with-none-start',className:'bpmn-icon-start-event-none',target:{type:'bpmn:StartEvent'}},{label:'Intermediate Throw Event',actionName:'replace-with-none-intermediate-throwing',className:'bpmn-icon-intermediate-event-none',target:{type:'bpmn:IntermediateThrowEvent'}},{label:'End Event',actionName:'replace-with-none-end',className:'bpmn-icon-end-event-none',target:{type:'bpmn:EndEvent'}},{label:'Message Start Event',actionName:'replace-with-message-start',className:'bpmn-icon-start-event-message',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:MessageEventDefinition'}},{label:'Timer Start Event',actionName:'replace-with-timer-start',className:'bpmn-icon-start-event-timer',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:TimerEventDefinition'}},{label:'Conditional Start Event',actionName:'replace-with-conditional-start',className:'bpmn-icon-start-event-condition',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:ConditionalEventDefinition'}},{label:'Signal Start Event',actionName:'replace-with-signal-start',className:'bpmn-icon-start-event-signal',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:SignalEventDefinition'}}],t.exports.INTERMEDIATE_EVENT=[{label:'Start Event',actionName:'replace-with-none-start',className:'bpmn-icon-start-event-none',target:{type:'bpmn:StartEvent'}},{label:'Intermediate Throw Event',actionName:'replace-with-none-intermediate-throw',className:'bpmn-icon-intermediate-event-none',target:{type:'bpmn:IntermediateThrowEvent'}},{label:'End Event',actionName:'replace-with-none-end',className:'bpmn-icon-end-event-none',target:{type:'bpmn:EndEvent'}},{label:'Message Intermediate Catch Event',actionName:'replace-with-message-intermediate-catch',className:'bpmn-icon-intermediate-event-catch-message',target:{type:'bpmn:IntermediateCatchEvent',eventDefinitionType:'bpmn:MessageEventDefinition'}},{label:'Message Intermediate Throw Event',actionName:'replace-with-message-intermediate-throw',className:'bpmn-icon-intermediate-event-throw-message',target:{type:'bpmn:IntermediateThrowEvent',eventDefinitionType:'bpmn:MessageEventDefinition'}},{label:'Timer Intermediate Catch Event',actionName:'replace-with-timer-intermediate-catch',className:'bpmn-icon-intermediate-event-catch-timer',target:{type:'bpmn:IntermediateCatchEvent',eventDefinitionType:'bpmn:TimerEventDefinition'}},{label:'Escalation Intermediate Throw Event',actionName:'replace-with-escalation-intermediate-throw',className:'bpmn-icon-intermediate-event-throw-escalation',target:{type:'bpmn:IntermediateThrowEvent',eventDefinitionType:'bpmn:EscalationEventDefinition'}},{label:'Conditional Intermediate Catch Event',actionName:'replace-with-conditional-intermediate-catch',className:'bpmn-icon-intermediate-event-catch-condition',target:{type:'bpmn:IntermediateCatchEvent',eventDefinitionType:'bpmn:ConditionalEventDefinition'}},{label:'Link Intermediate Catch Event',actionName:'replace-with-link-intermediate-catch',className:'bpmn-icon-intermediate-event-catch-link',target:{type:'bpmn:IntermediateCatchEvent',eventDefinitionType:'bpmn:LinkEventDefinition'}},{label:'Link Intermediate Throw Event',actionName:'replace-with-link-intermediate-throw',className:'bpmn-icon-intermediate-event-throw-link',target:{type:'bpmn:IntermediateThrowEvent',eventDefinitionType:'bpmn:LinkEventDefinition'}},{label:'Compensation Intermediate Throw Event',actionName:'replace-with-compensation-intermediate-throw',className:'bpmn-icon-intermediate-event-throw-compensation',target:{type:'bpmn:IntermediateThrowEvent',eventDefinitionType:'bpmn:CompensateEventDefinition'}},{label:'Signal Intermediate Catch Event',actionName:'replace-with-signal-intermediate-catch',className:'bpmn-icon-intermediate-event-catch-signal',target:{type:'bpmn:IntermediateCatchEvent',eventDefinitionType:'bpmn:SignalEventDefinition'}},{label:'Signal Intermediate Throw Event',actionName:'replace-with-signal-intermediate-throw',className:'bpmn-icon-intermediate-event-throw-signal',target:{type:'bpmn:IntermediateThrowEvent',eventDefinitionType:'bpmn:SignalEventDefinition'}}],t.exports.END_EVENT=[{label:'Start Event',actionName:'replace-with-none-start',className:'bpmn-icon-start-event-none',target:{type:'bpmn:StartEvent'}},{label:'Intermediate Throw Event',actionName:'replace-with-none-intermediate-throw',className:'bpmn-icon-intermediate-event-none',target:{type:'bpmn:IntermediateThrowEvent'}},{label:'End Event',actionName:'replace-with-none-end',className:'bpmn-icon-end-event-none',target:{type:'bpmn:EndEvent'}},{label:'Message End Event',actionName:'replace-with-message-end',className:'bpmn-icon-end-event-message',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:MessageEventDefinition'}},{label:'Escalation End Event',actionName:'replace-with-escalation-end',className:'bpmn-icon-end-event-escalation',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:EscalationEventDefinition'}},{label:'Error End Event',actionName:'replace-with-error-end',className:'bpmn-icon-end-event-error',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:ErrorEventDefinition'}},{label:'Cancel End Event',actionName:'replace-with-cancel-end',className:'bpmn-icon-end-event-cancel',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:CancelEventDefinition'}},{label:'Compensation End Event',actionName:'replace-with-compensation-end',className:'bpmn-icon-end-event-compensation',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:CompensateEventDefinition'}},{label:'Signal End Event',actionName:'replace-with-signal-end',className:'bpmn-icon-end-event-signal',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:SignalEventDefinition'}},{label:'Terminate End Event',actionName:'replace-with-terminate-end',className:'bpmn-icon-end-event-terminate',target:{type:'bpmn:EndEvent',eventDefinitionType:'bpmn:TerminateEventDefinition'}}],t.exports.GATEWAY=[{label:'Exclusive Gateway',actionName:'replace-with-exclusive-gateway',className:'bpmn-icon-gateway-xor',target:{type:'bpmn:ExclusiveGateway'}},{label:'Parallel Gateway',actionName:'replace-with-parallel-gateway',className:'bpmn-icon-gateway-parallel',target:{type:'bpmn:ParallelGateway'}},{label:'Inclusive Gateway',actionName:'replace-with-inclusive-gateway',className:'bpmn-icon-gateway-or',target:{type:'bpmn:InclusiveGateway'}},{label:'Complex Gateway',actionName:'replace-with-complex-gateway',className:'bpmn-icon-gateway-complex',target:{type:'bpmn:ComplexGateway'}},{label:'Event based Gateway',actionName:'replace-with-event-based-gateway',className:'bpmn-icon-gateway-eventbased',target:{type:'bpmn:EventBasedGateway',instantiate:!1,eventGatewayType:'Exclusive'}}],t.exports.SUBPROCESS_EXPANDED=[{label:'Transaction',actionName:'replace-with-transaction',className:'bpmn-icon-transaction',target:{type:'bpmn:Transaction',isExpanded:!0}},{label:'Event Sub Process',actionName:'replace-with-event-subprocess',className:'bpmn-icon-event-subprocess-expanded',target:{type:'bpmn:SubProcess',triggeredByEvent:!0,isExpanded:!0}}],t.exports.TRANSACTION=[{label:'Sub Process',actionName:'replace-with-subprocess',className:'bpmn-icon-subprocess-expanded',target:{type:'bpmn:SubProcess',isExpanded:!0}},{label:'Event Sub Process',actionName:'replace-with-event-subprocess',className:'bpmn-icon-event-subprocess-expanded',target:{type:'bpmn:SubProcess',triggeredByEvent:!0,isExpanded:!0}}],t.exports.EVENT_SUB_PROCESS=[{label:'Sub Process',actionName:'replace-with-subprocess',className:'bpmn-icon-subprocess-expanded',target:{type:'bpmn:SubProcess',isExpanded:!0}},{label:'Transaction',actionName:'replace-with-transaction',className:'bpmn-icon-transaction',target:{type:'bpmn:Transaction',isExpanded:!0}}],t.exports.TASK=[{label:'Task',actionName:'replace-with-task',className:'bpmn-icon-task',target:{type:'bpmn:Task'}},{label:'Send Task',actionName:'replace-with-send-task',className:'bpmn-icon-send',target:{type:'bpmn:SendTask'}},{label:'Receive Task',actionName:'replace-with-receive-task',className:'bpmn-icon-receive',target:{type:'bpmn:ReceiveTask'}},{label:'User Task',actionName:'replace-with-user-task',className:'bpmn-icon-user',target:{type:'bpmn:UserTask'}},{label:'Manual Task',actionName:'replace-with-manual-task',className:'bpmn-icon-manual',target:{type:'bpmn:ManualTask'}},{label:'Business Rule Task',actionName:'replace-with-rule-task',className:'bpmn-icon-business-rule',target:{type:'bpmn:BusinessRuleTask'}},{label:'Service Task',actionName:'replace-with-service-task',className:'bpmn-icon-service',target:{type:'bpmn:ServiceTask'}},{label:'Script Task',actionName:'replace-with-script-task',className:'bpmn-icon-script',target:{type:'bpmn:ScriptTask'}},{label:'Call Activity',actionName:'replace-with-call-activity',className:'bpmn-icon-call-activity',target:{type:'bpmn:CallActivity'}},{label:'Sub Process (collapsed)',actionName:'replace-with-collapsed-subprocess',className:'bpmn-icon-subprocess-collapsed',target:{type:'bpmn:SubProcess',isExpanded:!1}},{label:'Sub Process (expanded)',actionName:'replace-with-expanded-subprocess',className:'bpmn-icon-subprocess-expanded',target:{type:'bpmn:SubProcess',isExpanded:!0}}],t.exports.BOUNDARY_EVENT=[{label:'Message Boundary Event',actionName:'replace-with-message-boundary',className:'bpmn-icon-intermediate-event-catch-message',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:MessageEventDefinition'}},{label:'Timer Boundary Event',actionName:'replace-with-timer-boundary',className:'bpmn-icon-intermediate-event-catch-timer',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:TimerEventDefinition'}},{label:'Escalation Boundary Event',actionName:'replace-with-escalation-boundary',className:'bpmn-icon-intermediate-event-catch-escalation',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:EscalationEventDefinition'}},{label:'Conditional Boundary Event',actionName:'replace-with-conditional-boundary',className:'bpmn-icon-intermediate-event-catch-condition',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:ConditionalEventDefinition'}},{label:'Error Boundary Event',actionName:'replace-with-error-boundary',className:'bpmn-icon-intermediate-event-catch-error',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:ErrorEventDefinition'}},{label:'Cancel Boundary Event',actionName:'replace-with-cancel-boundary',className:'bpmn-icon-intermediate-event-catch-cancel',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:CancelEventDefinition'}},{label:'Signal Boundary Event',actionName:'replace-with-signal-boundary',className:'bpmn-icon-intermediate-event-catch-signal',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:SignalEventDefinition'}},{label:'Compensation Boundary Event',actionName:'replace-with-compensation-boundary',className:'bpmn-icon-intermediate-event-catch-compensation',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:CompensateEventDefinition'}},{label:'Message Boundary Event (non-interrupting)',actionName:'replace-with-non-interrupting-message-boundary',className:'bpmn-icon-intermediate-event-catch-non-interrupting-message',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:MessageEventDefinition',cancelActivity:!1}},{label:'Timer Boundary Event (non-interrupting)',actionName:'replace-with-non-interrupting-timer-boundary',className:'bpmn-icon-intermediate-event-catch-non-interrupting-timer',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:TimerEventDefinition',cancelActivity:!1}},{label:'Escalation Boundary Event (non-interrupting)',actionName:'replace-with-non-interrupting-escalation-boundary',className:'bpmn-icon-intermediate-event-catch-non-interrupting-escalation',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:EscalationEventDefinition',cancelActivity:!1}},{label:'Conditional Boundary Event (non-interrupting)',actionName:'replace-with-non-interrupting-conditional-boundary',className:'bpmn-icon-intermediate-event-catch-non-interrupting-condition',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:ConditionalEventDefinition',cancelActivity:!1}},{label:'Signal Boundary Event (non-interrupting)',actionName:'replace-with-non-interrupting-signal-boundary',className:'bpmn-icon-intermediate-event-catch-non-interrupting-signal',target:{type:'bpmn:BoundaryEvent',eventDefinitionType:'bpmn:SignalEventDefinition',cancelActivity:!1}}],t.exports.EVENT_SUB_PROCESS_START_EVENT=[{label:'Message Start Event',actionName:'replace-with-message-start',className:'bpmn-icon-start-event-message',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:MessageEventDefinition'}},{label:'Timer Start Event',actionName:'replace-with-timer-start',className:'bpmn-icon-start-event-timer',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:TimerEventDefinition'}},{label:'Conditional Start Event',actionName:'replace-with-conditional-start',className:'bpmn-icon-start-event-condition',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:ConditionalEventDefinition'}},{label:'Signal Start Event',actionName:'replace-with-signal-start',className:'bpmn-icon-start-event-signal',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:SignalEventDefinition'}},{label:'Error Start Event',actionName:'replace-with-error-start',className:'bpmn-icon-start-event-error',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:ErrorEventDefinition'}},{label:'Escalation Start Event',actionName:'replace-with-escalation-start',className:'bpmn-icon-start-event-escalation',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:EscalationEventDefinition'}},{label:'Compensation Start Event',actionName:'replace-with-compensation-start',className:'bpmn-icon-start-event-compensation',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:CompensateEventDefinition'}},{label:'Message Start Event (non-interrupting)',actionName:'replace-with-non-interrupting-message-start',className:'bpmn-icon-start-event-non-interrupting-message',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:MessageEventDefinition',isInterrupting:!1}},{label:'Timer Start Event (non-interrupting)',actionName:'replace-with-non-interrupting-timer-start',className:'bpmn-icon-start-event-non-interrupting-timer',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:TimerEventDefinition',isInterrupting:!1}},{label:'Conditional Start Event (non-interrupting)',actionName:'replace-with-non-interrupting-conditional-start',className:'bpmn-icon-start-event-non-interrupting-condition',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:ConditionalEventDefinition',isInterrupting:!1}},{label:'Signal Start Event (non-interrupting)',actionName:'replace-with-non-interrupting-signal-start',className:'bpmn-icon-start-event-non-interrupting-signal',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:SignalEventDefinition',isInterrupting:!1}},{label:'Escalation Start Event (non-interrupting)',actionName:'replace-with-non-interrupting-escalation-start',className:'bpmn-icon-start-event-non-interrupting-escalation',target:{type:'bpmn:StartEvent',eventDefinitionType:'bpmn:EscalationEventDefinition',isInterrupting:!1}}],t.exports.SEQUENCE_FLOW=[{label:'Sequence Flow',actionName:'replace-with-sequence-flow',className:'bpmn-icon-connection'},{label:'Default Flow',actionName:'replace-with-default-flow',className:'bpmn-icon-default-flow'},{label:'Conditional Flow',actionName:'replace-with-conditional-flow',className:'bpmn-icon-conditional-flow'}],t.exports.PARTICIPANT=[{label:'Expanded Pool',actionName:'replace-with-expanded-pool',className:'bpmn-icon-participant',target:{type:'bpmn:Participant',isExpanded:!0}},{label:'Collapsed Pool',actionName:'replace-with-collapsed-pool',className:'bpmn-icon-lane',target:{type:'bpmn:Participant',isExpanded:!1}}]},{}],163:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/replace'),e('diagram-js/lib/features/selection')],bpmnReplace:['type',e('./BpmnReplace')]}},{'./BpmnReplace':161,'diagram-js/lib/features/replace':292,'diagram-js/lib/features/selection':306}],164:[function(e,t,n){'use strict'
function i(e){ee.call(this,e)}function r(e){return!e||x(e)}function o(e,t){return e===t}function a(e){for(var t=K(e);t&&!Y(t,'bpmn:Process');){if(Y(t,'bpmn:Participant')){return t.processRef||t}
t=t.$parent}return t}function s(e){return Y(e,'bpmn:TextAnnotation')}function l(e){return Y(e,'bpmn:BoundaryEvent')&&m(e,'bpmn:CompensateEventDefinition')}function c(e){return K(e).isForCompensation}function u(e,t){return a(e)===a(t)}function p(e){return Y(e,'bpmn:InteractionNode')&&!c(e)&&(!Y(e,'bpmn:Event')||Y(e,'bpmn:ThrowEvent')&&v(e,'bpmn:MessageEventDefinition'))}function d(e){return Y(e,'bpmn:InteractionNode')&&!c(e)&&(!Y(e,'bpmn:Event')||Y(e,'bpmn:CatchEvent')&&v(e,'bpmn:MessageEventDefinition'))}function f(e){var t=K(e)
if(Y(t,'bpmn:Participant')){return null}
for(;t;){if(t=t.$parent,Y(t,'bpmn:FlowElementsContainer')){return t}}
return t}function h(e,t){var n=f(e),i=f(t)
return n&&n===i}function m(e,t){var n=K(e)
return!!H(n.eventDefinitions||[],function(e){return Y(e,t)})}function v(e,t){return(K(e).eventDefinitions||[]).every(function(e){return Y(e,t)})}function g(e){return Y(e,'bpmn:FlowNode')&&!Y(e,'bpmn:EndEvent')&&!Z(e)&&!(Y(e,'bpmn:IntermediateThrowEvent')&&m(e,'bpmn:LinkEventDefinition'))&&!l(e)&&!c(e)}function y(e){return Y(e,'bpmn:FlowNode')&&!Y(e,'bpmn:StartEvent')&&!Y(e,'bpmn:BoundaryEvent')&&!Z(e)&&!(Y(e,'bpmn:IntermediateCatchEvent')&&m(e,'bpmn:LinkEventDefinition'))&&!c(e)}function b(e){return Y(e,'bpmn:ReceiveTask')||Y(e,'bpmn:IntermediateCatchEvent')&&(m(e,'bpmn:MessageEventDefinition')||m(e,'bpmn:TimerEventDefinition')||m(e,'bpmn:ConditionalEventDefinition')||m(e,'bpmn:SignalEventDefinition'))}function x(e){return e.labelTarget}function E(e){return e.waypoints}function w(e,t){return-1!==G(t).indexOf(e)}function _(e,t,n){if(r(e)||r(t)){return null}
if(o(e,t)){return!1}
if(!Y(n,'bpmn:DataAssociation')){if(O(e,t)){return{type:'bpmn:MessageFlow'}}
if(L(e,t)){return{type:'bpmn:SequenceFlow'}}}var i=N(e,t)
return i||(l(e)&&c(t)?{type:'bpmn:Association',associationDirection:'One'}:Y(n,'bpmn:Association')&&D(e,t)?{type:'bpmn:Association'}:!(!s(e)&&!s(t))&&{type:'bpmn:Association'})}function C(e,t,n){return!(!x(e)||E(t))||!(Y(t,'bpmn:Participant')&&!J(t))&&(Y(e,'bpmn:Participant')?Y(t,'bpmn:Process')||Y(t,'bpmn:Collaboration'):Y(e,'bpmn:Lane')?Y(t,'bpmn:Participant')||Y(t,'bpmn:Lane'):!Y(e,'bpmn:BoundaryEvent')&&(Y(e,'bpmn:FlowElement')||Y(e,'bpmn:DataAssociation')?Y(t,'bpmn:FlowElementsContainer')?J(t):X(t,['bpmn:Participant','bpmn:Lane']):Y(e,'bpmn:Artifact')?X(t,['bpmn:Collaboration','bpmn:Lane','bpmn:Participant','bpmn:Process','bpmn:SubProcess']):!!Y(e,'bpmn:MessageFlow')&&Y(t,'bpmn:Collaboration')))}function T(e,t){var n=e[0]
return Y(t,'bpmn:Collaboration')?z(n,function(e){return'bpmn:Participant'===e.type}):Y(t,'bpmn:Process')?!(V(n,function(e){return'bpmn:Participant'===e.type})&&t.children.length>0):!(Y(t,'bpmn:Participant')&&!J(t))&&(Y(t,'bpmn:FlowElementsContainer')?J(t):X(t,['bpmn:Collaboration','bpmn:Lane','bpmn:Participant','bpmn:Process','bpmn:SubProcess']))}function S(e){return!x(e)&&Y(e,'bpmn:BoundaryEvent')}function A(e){return Y(e,'bpmn:Lane')}function j(e){return S(e)||Y(e,'bpmn:IntermediateThrowEvent')&&!e.parent}function P(e,t,n,i){if(Array.isArray(e)||(e=[e]),n){return!1}
if(1!==e.length){return!1}
var r=e[0]
return!x(r)&&(!!j(r)&&(!t||!Z(t)&&(!(!Y(t,'bpmn:Activity')||c(t))&&(!(i&&!te(i,t))&&'attach'))))}function R(e,t,n){if(!t){return!1}
var i={replacements:[]}
return $(e,function(e){Z(t)||Y(e,'bpmn:StartEvent')&&!Q(e)&&'label'!==e.type&&C(e,t)&&i.replacements.push({oldElementId:e.id,newElementType:'bpmn:StartEvent'}),Y(t,'bpmn:Transaction')||m(e,'bpmn:CancelEventDefinition')&&'label'!==e.type&&(Y(e,'bpmn:EndEvent')&&C(e,t)&&i.replacements.push({oldElementId:e.id,newElementType:'bpmn:EndEvent'}),Y(e,'bpmn:BoundaryEvent')&&P(e,t,null,n)&&i.replacements.push({oldElementId:e.id,newElementType:'bpmn:BoundaryEvent'}))}),!!i.replacements.length&&i}function k(e,t){return!V(e,S)&&(!V(e,A)&&(!t||e.every(function(e){return C(e,t)})))}function M(e,t,n,i){return!!t&&(x(t)?null:!o(n,t)&&((!n||!w(n,t))&&(C(e,t,i)||I(e,t,i))))}function B(e,t){return Y(e,'bpmn:SubProcess')?!!J(e)&&(!t||t.width>=100&&t.height>=80):Y(e,'bpmn:Lane')?!t||t.width>=130&&t.height>=60:Y(e,'bpmn:Participant')?!t||t.width>=250&&t.height>=50:!!s(e)}function D(e,t){return!E(e)&&!E(t)&&(!w(t,e)&&!w(e,t))}function O(e,t){return p(e)&&d(t)&&!u(e,t)}function L(e,t){return g(e)&&y(t)&&h(e,t)&&!(Y(e,'bpmn:EventBasedGateway')&&!b(t))}function N(e,t){return X(e,['bpmn:DataObjectReference','bpmn:DataStoreReference'])&&X(t,['bpmn:Activity','bpmn:ThrowEvent'])?{type:'bpmn:DataInputAssociation'}:!(!X(t,['bpmn:DataObjectReference','bpmn:DataStoreReference'])||!X(e,['bpmn:Activity','bpmn:CatchEvent']))&&{type:'bpmn:DataOutputAssociation'}}function I(e,t,n){return X(t,['bpmn:SequenceFlow','bpmn:MessageFlow'])&&Y(e,'bpmn:FlowNode')&&!Y(e,'bpmn:BoundaryEvent')&&C(e,t.parent,n)}function F(e,t){return e&&t&&-1!==e.indexOf(t)}function U(e,t){return!(Y(t,'bpmn:Lane')&&!F(e,t.parent))&&!(Y(t,'bpmn:BoundaryEvent')&&!F(e,t.host))}var H=e('lodash/collection/find'),V=e('lodash/collection/any'),z=e('lodash/collection/every'),q=e('lodash/collection/filter'),$=e('lodash/collection/forEach'),W=e('inherits'),G=e('../modeling/util/ModelingUtil').getParents,Y=e('../../util/ModelUtil').is,X=e('../modeling/util/ModelingUtil').isAny,K=e('../../util/ModelUtil').getBusinessObject,J=e('../../util/DiUtil').isExpanded,Z=e('../../util/DiUtil').isEventSubProcess,Q=e('../../util/DiUtil').isInterrupting,ee=e('diagram-js/lib/features/rules/RuleProvider'),te=e('../snapping/BpmnSnappingUtil').getBoundaryAttachment
W(i,ee),i.$inject=['eventBus'],t.exports=i,i.prototype.init=function(){this.addRule('connection.create',function(e){return _(e.source,e.target)}),this.addRule('connection.reconnectStart',function(e){var t=e.connection
return _(e.hover||e.source,t.target,t)}),this.addRule('connection.reconnectEnd',function(e){var t=e.connection
return _(t.source,e.hover||e.target,t)}),this.addRule('connection.updateWaypoints',function(e){return null}),this.addRule('shape.resize',function(e){return B(e.shape,e.newBounds)}),this.addRule('elements.move',function(e){var t=e.target,n=e.shapes,i=e.position
return P(n,t,null,i)||R(n,t,i)||k(n,t)}),this.addRule(['shape.create','shape.append'],function(e){var t=e.target,n=e.shape,i=e.source,r=e.position
return P([n],t,i,r)||M(n,t,i,r)}),this.addRule('element.copy',function(e){return U(e.collection,e.element)}),this.addRule('element.paste',function(e){var t=e.parent,n=e.element,i=e.position,r=e.source,o=e.target
return r||o?_(r,o):P([n],t,null,i)||M(n,t,null,i)}),this.addRule('elements.paste',function(e){return T(e.tree,e.target)}),this.addRule(['elements.delete'],function(e){return q(e.elements,function(e){return!x(e)})})},i.prototype.canConnectMessageFlow=O,i.prototype.canConnectSequenceFlow=L,i.prototype.canConnectDataAssociation=N,i.prototype.canConnectAssociation=D,i.prototype.canMove=k,i.prototype.canAttach=P,i.prototype.canReplace=R,i.prototype.canDrop=C,i.prototype.canInsert=I,i.prototype.canCreate=M,i.prototype.canConnect=_,i.prototype.canResize=B,i.prototype.canCopy=U},{'../../util/DiUtil':176,'../../util/ModelUtil':178,'../modeling/util/ModelingUtil':151,'../snapping/BpmnSnappingUtil':169,'diagram-js/lib/features/rules/RuleProvider':298,inherits:364,'lodash/collection/any':378,'lodash/collection/every':379,'lodash/collection/filter':380,'lodash/collection/find':381,'lodash/collection/forEach':382}],165:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/rules')],__init__:['bpmnRules'],bpmnRules:['type',e('./BpmnRules')]}},{'./BpmnRules':164,'diagram-js/lib/features/rules':300}],166:[function(e,t,n){'use strict'
function i(e,t,n){this._elementRegistry=e,this._canvas=n,t.registerProvider(this)}function r(e){return s(e,function(e){return!!e.matched}).length>0}function o(e,t){var n=[],i=e
if(!e){return n}
e=e.toLowerCase(),t=t.toLowerCase()
var r=e.indexOf(t)
return r>-1?(0!==r&&n.push({normal:i.substr(0,r)}),n.push({matched:i.substr(r,t.length)}),t.length+r<e.length&&n.push({normal:i.substr(t.length+r,e.length)})):n.push({normal:i}),n}var a=e('lodash/collection/map'),s=e('lodash/collection/filter'),l=e('lodash/collection/sortBy'),c=e('../label-editing/LabelUtil')
t.exports=i,i.$inject=['elementRegistry','searchPad','canvas'],i.prototype.find=function(e){var t=this._canvas.getRootElement(),n=this._elementRegistry.filter(function(e){return!e.labelTarget})
return n=s(n,function(e){return e!==t}),n=a(n,function(t){return{primaryTokens:o(c.getLabel(t),e),secondaryTokens:o(t.id,e),element:t}}),n=s(n,function(e){return r(e.primaryTokens)||r(e.secondaryTokens)}),n=l(n,function(e){return c.getLabel(e.element)+e.element.id})}},{'../label-editing/LabelUtil':115,'lodash/collection/filter':380,'lodash/collection/map':386,'lodash/collection/sortBy':390}],167:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/search-pad')],__init__:['bpmnSearch'],bpmnSearch:['type',e('./BpmnSearchProvider')]}},{'./BpmnSearchProvider':166,'diagram-js/lib/features/search-pad':302}],168:[function(e,t,n){'use strict'
function i(t,n,i,s){function l(e,t,n){return'attach'===i.canAttach([e],t,null,n)}f.call(this,t,n),t.on('create.start',function(e){var t=e.context,i=t.shape,o=n.getRootElement()
u(i,'bpmn:Participant')&&u(o,'bpmn:Process')&&r(t,i,o.children)}),t.on(['create.move','create.end'],1500,function(e){var t=e.context,n=t.shape,i=t.participantSnapBox
!x(e)&&i&&o(i,n,e)}),t.on('shape.move.start',function(e){var t=e.context,i=t.shape,o=n.getRootElement()
u(i,'bpmn:Participant')&&u(o,'bpmn:Process')&&r(t,i,o.children)}),t.on(['create.move','create.end','shape.move.move','shape.move.end'],1500,function(e){var t=e.context,n=t.target,i=t.shape
n&&!x(e)&&l(i,n,e)&&a(e,i,n)}),t.on(['shape.move.hover','shape.move.move','shape.move.end','create.hover','create.move','create.end'],1500,function(e){var t=e.context,n=t.shape,i=e.hover
u(i,'bpmn:Lane')&&!p(n,['bpmn:Lane','bpmn:Participant'])&&(e.hover=C(i),e.hoverGfx=s.getGraphics(e.hover))})
var c=Math.abs,h=e('lodash/collection/filter'),v=e('lodash/object/assign')
t.on(['create.move','shape.move.move'],function(e){var t=e.context,n=t.shape,i=t.target
if(u(n,'bpmn:Lane')&&p(i,['bpmn:Lane','bpmn:Participant'])){var r,o=h(i.children,function(e){return u(e,'bpmn:Lane')}),a=e.y,s=o.reduce(function(e,t){var n=m(t)
return c(n.top-a)<30?e=v(e||{},{before:{element:t,y:n.top}}):c(n.bottom-a)<30?e=v(e||{},{after:{element:t,y:n.bottom}}):n.top<a&&n.bottom>a&&(e=c(n.top-a)>c(n.bottom-a)?v(e||{},{after:{element:t,y:n.bottom}}):v(e||{},{before:{element:t,y:n.top}})),e},!1)
s||(r=m(i),s=c(r.top-a)<30?{before:{element:i,y:r.top}}:c(r.bottom-a)<30?{after:{element:i,y:r.bottom}}:{into:{element:i,y:(r.top+r.bottom)/2}}),s.before&&s.after?(console.log('insert between',s.before.element.id,'and',s.after.element.id),E(e,'x',s.before.element.x+s.before.element.width/2),E(e,'y',s.before.y)):s.after?(console.log('insert after',s.after.element.id),E(e,'x',s.after.element.x+s.after.element.width/2),E(e,'y',s.after.y)):s.before?(console.log('insert before',s.before.element.id),E(e,'x',s.before.element.x+s.before.element.width/2),E(e,'y',s.before.y)):s.into&&(console.log('insert into',s.into.element.id),E(e,'x',s.into.element.x+s.into.element.width/2),E(e,'y',s.into.y))}}),t.on('resize.start',1500,function(e){var t=e.context,n=t.shape
u(n,'bpmn:SubProcess')&&d(n)&&(t.minDimensions={width:140,height:120}),u(n,'bpmn:Participant')&&(t.minDimensions={width:300,height:150}),(u(n,'bpmn:Lane')||u(n,'bpmn:Participant'))&&(t.resizeConstraints=_(n,t.direction,t.balanced)),u(n,'bpmn:TextAnnotation')&&(t.minDimensions={width:50,height:30})})}function r(e,t,n){if(n.length){var i=c(n.filter(function(e){return!e.labelTarget&&!e.waypoints}))
i.x-=50,i.y-=20,i.width+=70,i.height+=40,t.width=Math.max(t.width,i.width),t.height=Math.max(t.height,i.height),e.participantSnapBox=i}}function o(e,t,n,i){i=i||0
var r=t.width/2-i,o=t.height/2,a={x:n.x-r-i,y:n.y-o},s={x:n.x+r+i,y:n.y+o},l=e,c=b(e)
a.x>=l.x?E(n,'x',l.x+i+r):s.x<=c.x&&E(n,'x',c.x-i-r),a.y>=l.y?E(n,'y',l.y+o):s.y<=c.y&&E(n,'y',c.y-o)}function a(e,t,n){var i=m(n),r=w(e,n);/top/.test(r)?E(e,'y',i.top):/bottom/.test(r)&&E(e,'y',i.bottom),/left/.test(r)?E(e,'x',i.left):/right/.test(r)&&E(e,'x',i.right)}var s=e('inherits'),l=e('lodash/collection/forEach'),c=e('diagram-js/lib/util/Elements').getBBox,u=e('../../util/ModelUtil').is,p=e('../modeling/util/ModelingUtil').isAny,d=e('../../util/DiUtil').isExpanded,f=e('diagram-js/lib/features/snapping/Snapping'),h=e('diagram-js/lib/features/snapping/SnapUtil'),m=e('diagram-js/lib/layout/LayoutUtil').asTRBL,v=Math.round,g=h.mid,y=h.topLeft,b=h.bottomRight,x=h.isSnapped,E=h.setSnapped,w=e('./BpmnSnappingUtil').getBoundaryAttachment,_=e('./BpmnSnappingUtil').getParticipantSizeConstraints,C=e('../modeling/util/LaneUtil').getLanesRoot
s(i,f),i.$inject=['eventBus','canvas','bpmnRules','elementRegistry'],t.exports=i,i.prototype.initSnap=function(e){var t,n,i,r,o,a=e.context,s=e.shape
o=f.prototype.initSnap.call(this,e),u(s,'bpmn:Participant')&&o.setSnapLocations(['top-left','bottom-right','mid']),s&&(t=g(s,e),n={width:s.width,height:s.height,x:isNaN(s.x)?v(t.x-s.width/2):s.x,y:isNaN(s.y)?v(t.y-s.height/2):s.y},i=y(n),r=b(n),o.setSnapOrigin('top-left',{x:i.x-e.x,y:i.y-e.y}),o.setSnapOrigin('bottom-right',{x:r.x-e.x,y:r.y-e.y}),l(s.outgoing,function(t){var n=t.waypoints[0]
n=n.original||n,o.setSnapOrigin(t.id+'-docking',{x:n.x-e.x,y:n.y-e.y})}),l(s.incoming,function(t){var n=t.waypoints[t.waypoints.length-1]
n=n.original||n,o.setSnapOrigin(t.id+'-docking',{x:n.x-e.x,y:n.y-e.y})}))
var c=a.source
c&&o.addDefaultSnap('mid',g(c))},i.prototype.addTargetSnaps=function(e,t,n){u(t,'bpmn:BoundaryEvent')&&'label'!==t.type&&(n=n.parent),u(n,'bpmn:SequenceFlow')&&this.addTargetSnaps(e,t,n.parent)
var i=this.getSiblings(t,n)||[]
l(i,function(t){u(t,'bpmn:Lane')||(e.add('mid',g(t)),u(t,'bpmn:Participant')&&(e.add('top-left',y(t)),e.add('bottom-right',b(t))))}),l(t.incoming,function(t){-1===i.indexOf(t.source)&&e.add('mid',g(t.source))
var n=t.waypoints[0]
e.add(t.id+'-docking',n.original||n)}),l(t.outgoing,function(t){-1===i.indexOf(t.target)&&e.add('mid',g(t.target))
var n=t.waypoints[t.waypoints.length-1]
e.add(t.id+'-docking',n.original||n)})}},{'../../util/DiUtil':176,'../../util/ModelUtil':178,'../modeling/util/LaneUtil':150,'../modeling/util/ModelingUtil':151,'./BpmnSnappingUtil':169,'diagram-js/lib/features/snapping/SnapUtil':308,'diagram-js/lib/features/snapping/Snapping':309,'diagram-js/lib/layout/LayoutUtil':325,'diagram-js/lib/util/Elements':339,inherits:364,'lodash/collection/filter':380,'lodash/collection/forEach':382,'lodash/object/assign':512}],169:[function(e,t,n){'use strict'
function i(e,t){var n=l(e,t,-15)
return'intersect'!==n?n:null}function r(e,t,n,i){var r=e[t]
e[t]=void 0===r?n:i(n,r)}function o(e,t,n){return r(e,t,n,h)}function a(e,t,n){return r(e,t,n,m)}function s(e,t,n){var i=d(e),r=!0,s=!0,l=p(i,[i]),h=u(e),m={},w={}
return/e/.test(t)?w.right=h.left+g:/w/.test(t)&&(w.left=h.right-g),l.forEach(function(e){var i=u(e);/n/.test(t)&&(i.top<h.top-10&&(r=!1),n&&f(h.top-i.bottom)<10&&a(m,'top',i.top+v),f(h.top-i.top)<5&&o(w,'top',i.bottom-v)),/s/.test(t)&&(i.bottom>h.bottom+10&&(s=!1),n&&f(h.bottom-i.top)<10&&o(m,'bottom',i.bottom-v),f(h.bottom-i.bottom)<5&&a(w,'bottom',i.top+v))}),i.children.filter(function(e){return!e.hidden&&!e.waypoints&&(c(e,'bpmn:FlowElement')||c(e,'bpmn:Artifact'))}).forEach(function(e){var n=u(e)
r&&/n/.test(t)&&o(w,'top',n.top-x),/e/.test(t)&&a(w,'right',n.right+y),s&&/s/.test(t)&&a(w,'bottom',n.bottom+E),/w/.test(t)&&o(w,'left',n.left-b)}),{min:w,max:m}}var l=e('diagram-js/lib/layout/LayoutUtil').getOrientation
t.exports.getBoundaryAttachment=i
var c=e('../../util/ModelUtil').is,u=e('diagram-js/lib/layout/LayoutUtil').asTRBL,p=e('../modeling/util/LaneUtil').collectLanes,d=e('../modeling/util/LaneUtil').getLanesRoot,f=Math.abs,h=Math.min,m=Math.max,v=60,g=300,y=20,b=50,x=20,E=20
t.exports.getParticipantSizeConstraints=s},{'../../util/ModelUtil':178,'../modeling/util/LaneUtil':150,'diagram-js/lib/layout/LayoutUtil':325}],170:[function(e,t,n){t.exports={__init__:['snapping'],snapping:['type',e('./BpmnSnapping')]}},{'./BpmnSnapping':168}],171:[function(e,t,n){'use strict'
function i(e,t){return s({id:e.id,type:e.$type,businessObject:e},t)}function r(e){return l(e,function(e){return{x:e.x,y:e.y}})}function o(e,t,n,i){return new Error(e('element {element} referenced by {referenced}#{property} not yet drawn',{element:h(n),referenced:h(t),property:i}))}function a(e,t,n,i,r){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=r}var s=e('lodash/object/assign'),l=e('lodash/collection/map'),c=e('../util/LabelUtil'),u=e('../util/ModelUtil').is,p=c.hasExternalLabel,d=c.getExternalLabelBounds,f=e('../util/DiUtil').isExpanded,h=e('./Util').elementToString
a.$inject=['eventBus','canvas','elementFactory','elementRegistry','translate'],t.exports=a,a.prototype.add=function(e,t){var n,o=e.di,a=this._translate
if(u(o,'bpmndi:BPMNPlane')){n=this._elementFactory.createRoot(i(e)),this._canvas.setRootElement(n)}
else if(u(o,'bpmndi:BPMNShape')){var s=!f(e),l=t&&(t.hidden||t.collapsed),c=e.di.bounds
n=this._elementFactory.createShape(i(e,{collapsed:s,hidden:l,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)})),u(e,'bpmn:BoundaryEvent')&&this._attachBoundary(e,n),this._canvas.addShape(n,t)}else{if(!u(o,'bpmndi:BPMNEdge')){throw new Error(a('unknown di {di} for element {semantic}',{di:h(o),semantic:h(e)}))}
var d=this._getSource(e),m=this._getTarget(e)
n=this._elementFactory.createConnection(i(e,{source:d,target:m,waypoints:r(e.di.waypoint)})),(u(e,'bpmn:DataInputAssociation')||u(e,'bpmn:DataOutputAssociation'))&&(t=null),this._canvas.addConnection(n,t)}return p(e)&&this.addLabel(e,n),this._eventBus.fire('bpmnElement.added',{element:n}),n},a.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef
if(!i){throw new Error(n('missing {semantic}#attachedToRef',{semantic:h(e)}))}
var r=this._elementRegistry.get(i.id),a=r&&r.attachers
if(!r){throw o(n,e,i,'attachedToRef')}
t.host=r,a||(r.attachers=a=[]),-1===a.indexOf(t)&&a.push(t)},a.prototype.addLabel=function(e,t){var n=d(e,t),r=this._elementFactory.createLabel(i(e,{id:e.id+'_label',labelTarget:t,type:'label',hidden:t.hidden||!e.name,x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)}))
return this._canvas.addShape(r,t.parent)},a.prototype._getEnd=function(e,t){var n,i,r=e.$type,a=this._translate
if(i=e[t+'Ref'],'source'===t&&'bpmn:DataInputAssociation'===r&&(i=i&&i[0]),('source'===t&&'bpmn:DataOutputAssociation'===r||'target'===t&&'bpmn:DataInputAssociation'===r)&&(i=e.$parent),n=i&&this._getElement(i)){return n}
throw i?o(a,e,i,t+'Ref'):new Error(a('{semantic}#{side} Ref not specified',{semantic:h(e),side:t}))},a.prototype._getSource=function(e){return this._getEnd(e,'source')},a.prototype._getTarget=function(e){return this._getEnd(e,'target')},a.prototype._getElement=function(e){return this._elementRegistry.get(e.id)}},{'../util/DiUtil':176,'../util/LabelUtil':177,'../util/ModelUtil':178,'./Util':174,'lodash/collection/map':386,'lodash/object/assign':512}],172:[function(e,t,n){'use strict'
function i(e,t){return e.$instanceOf(t)}function r(e){return s(e.rootElements,function(e){return i(e,'bpmn:Process')||i(e,'bpmn:Collaboration')})}function o(e,t){function n(e,t){return function(n){e(n,t)}}function o(e){q[e.id]=e}function s(e){return q[e.id]}function c(n,i){if(n.gfx){throw new Error(t('already rendered {element}',{element:u(n)}))}
return e.element(n,i)}function d(t,n){return e.root(t,n)}function f(e,n){try{var i=e.di&&c(e,n)
return o(e),i}catch(n){h(n.message,{element:e,error:n}),console.error(t('failed to import {element}',{element:u(e)})),console.error(n)}}function h(t,n){e.error(t,n)}function m(e){var n=e.bpmnElement
n?n.di?h(t('multiple DI elements defined for {element}',{element:u(n)}),{element:n}):(p.bind(n,'di'),n.di=e):h(t('no bpmnElement referenced in {element}',{element:u(e)}),{element:e})}function v(e){g(e.plane)}function g(e){m(e),l(e.planeElement,y)}function y(e){m(e)}function b(e,n){var o=e.diagrams
if(n&&-1===o.indexOf(n)){throw new Error(t('diagram not part of bpmn:Definitions'))}
if(!n&&o&&o.length&&(n=o[0]),!n){throw new Error(t('no diagram to display'))}
v(n)
var a=n.plane
if(!a){throw new Error(t('no plane for {element}',{element:u(n)}))}
var s=a.bpmnElement
if(!s){if(!(s=r(e))){throw new Error(t('no process or collaboration to display'))}
h(t('correcting missing bpmnElement on {plane} to {rootElement}',{plane:u(a),rootElement:u(s)})),a.bpmnElement=s,m(a)}var l=d(s,a)
if(i(s,'bpmn:Process')){E(s,l)}
else{if(!i(s,'bpmn:Collaboration')){throw new Error(t('unsupported bpmnElement for {plane}: {rootElement}',{plane:u(a),rootElement:u(s)}))}
V(s),w(e.rootElements)}x($)}function x(e){l(e,function(e){e()})}function E(e,t){F(e,t),R(e.ioSpecification,t),P(e.artifacts,t),o(e)}function w(e){a(e,function(e){return!s(e)&&i(e,'bpmn:Process')&&e.laneSets}).forEach(n(E))}function _(e,t){f(e,t)}function C(e,t){l(e,n(_,t))}function T(e,t){f(e,t)}function S(e,t){f(e,t)}function A(e,t){f(e,t)}function j(e,t){f(e,t)}function P(e,t){l(e,function(e){i(e,'bpmn:Association')?$.push(function(){j(e,t)}):j(e,t)})}function R(e,t){e&&(l(e.dataInputs,n(S,t)),l(e.dataOutputs,n(A,t)))}function k(e,t){F(e,t),P(e.artifacts,t)}function M(e,t){var r=f(e,t)
i(e,'bpmn:SubProcess')&&k(e,r||t),i(e,'bpmn:Activity')&&R(e.ioSpecification,t),$.push(function(){l(e.dataInputAssociations,n(T,t)),l(e.dataOutputAssociations,n(T,t))})}function B(e,t){f(e,t)}function D(e,t){f(e,t)}function O(e,t){f(e,t)}function L(e,t){var n=f(e,t)
e.childLaneSet&&N(e.childLaneSet,n||t),z(e)}function N(e,t){l(e.lanes,n(L,t))}function I(e,t){l(e,n(N,t))}function F(e,t){e.laneSets&&I(e.laneSets,t),U(e.flowElements,t)}function U(e,n){l(e,function(e){i(e,'bpmn:SequenceFlow')?$.push(function(){B(e,n)}):i(e,'bpmn:BoundaryEvent')?$.unshift(function(){O(e,n)}):i(e,'bpmn:FlowNode')?M(e,n):i(e,'bpmn:DataObject')||(i(e,'bpmn:DataStoreReference')?D(e,n):i(e,'bpmn:DataObjectReference')?D(e,n):h(t('unrecognized flowElement {element} in context {context}',{element:u(e),context:n?u(n.businessObject):'null'}),{element:e,context:n}))})}function H(e,t){var n=f(e,t),i=e.processRef
i&&E(i,n||t)}function V(e){l(e.participants,n(H)),P(e.artifacts),$.push(function(){C(e.messageFlows)})}function z(e){l(e.flowNodeRef,function(t){var n=t.get('lanes')
n&&n.push(e)})}var q={},$=[]
return{handleDefinitions:b}}var a=e('lodash/collection/filter'),s=e('lodash/collection/find'),l=e('lodash/collection/forEach'),c=e('object-refs'),u=e('./Util').elementToString,p=new c({name:'bpmnElement',enumerable:!0},{name:'di'})
t.exports=o},{'./Util':174,'lodash/collection/filter':380,'lodash/collection/find':381,'lodash/collection/forEach':382,'object-refs':547}],173:[function(e,t,n){'use strict'
function i(e,t,n){var i,o=e.get('bpmnImporter'),a=e.get('eventBus'),s=e.get('translate'),l=[]
a.fire('import.render.start',{definitions:t})
try{!function(e){new r({root:function(e){return o.add(e)},element:function(e,t){return o.add(e,t)},error:function(e,t){l.push({message:e,context:t})}},s).handleDefinitions(e)}(t)}catch(e){i=e}a.fire('import.render.complete',{error:i,warnings:l}),n(i,l)}var r=e('./BpmnTreeWalker')
t.exports.importBpmnDiagram=i},{'./BpmnTreeWalker':172}],174:[function(e,t,n){'use strict'
t.exports.elementToString=function(e){return e?'<'+e.$type+(e.id?' id="'+e.id:'')+'" />':'<null>'}},{}],175:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/i18n/translate')],bpmnImporter:['type',e('./BpmnImporter')]}},{'./BpmnImporter':171,'diagram-js/lib/i18n/translate':321}],176:[function(e,t,n){'use strict'
var i=e('./ModelUtil').is,r=e('./ModelUtil').getBusinessObject
t.exports.isExpanded=function(e){return!i(e,'bpmn:CallActivity')&&(i(e,'bpmn:SubProcess')?!!r(e).di.isExpanded:!i(e,'bpmn:Participant')||!!r(e).processRef)},t.exports.isInterrupting=function(e){return e&&!1!==r(e).isInterrupting},t.exports.isEventSubProcess=function(e){return e&&!!r(e).triggeredByEvent}},{'./ModelUtil':178}],177:[function(e,t,n){'use strict'
function i(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)],o=r(e),a=Math.atan((i.y-n.y)/(i.x-n.x)),s=o.x,l=o.y
return Math.abs(a)<Math.PI/2?l-=c:s+=c,{x:s,y:l}}function r(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)]
return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}function o(e){return e.waypoints?i(e.waypoints):{x:e.x+e.width/2,y:e.y+e.height+l.height/2}}var a=e('lodash/object/assign'),s=e('./ModelUtil').is,l=t.exports.DEFAULT_LABEL_SIZE={width:90,height:20},c=t.exports.FLOW_LABEL_INDENT=15
t.exports.hasExternalLabel=function(e){return s(e,'bpmn:Event')||s(e,'bpmn:Gateway')||s(e,'bpmn:DataStoreReference')||s(e,'bpmn:DataObjectReference')||s(e,'bpmn:SequenceFlow')||s(e,'bpmn:MessageFlow')},t.exports.getFlowLabelPosition=i,t.exports.getWaypointsMid=r,t.exports.getExternalLabelMid=o,t.exports.getExternalLabelBounds=function(e,t){var n,i,r,s=e.di,c=s.label
return c&&c.bounds?(r=c.bounds,i={width:Math.max(l.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=o(t),i=l),a({x:n.x-i.width/2,y:n.y-i.height/2},i)}},{'./ModelUtil':178,'lodash/object/assign':512}],178:[function(e,t,n){'use strict'
function i(e,t){var n=r(e)
return n&&'function'==typeof n.$instanceOf&&n.$instanceOf(t)}function r(e){return e&&e.businessObject||e}t.exports.is=i,t.exports.getBusinessObject=r},{}],179:[function(e,t,n){'use strict'
function i(e){return e.join(';')}function r(){o||(o=a(d),s.bind(o,'.backdrop','click',function(e){document.body.removeChild(o)})),document.body.appendChild(o)}var o,a=e('min-dom/lib/domify'),s=e('min-dom/lib/delegate'),l=t.exports.BPMNIO_LOGO='iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC',c=i(['z-index: 1001','position: fixed','top: 0','left: 0','right: 0','bottom: 0']),u=i(['width: 100%','height: 100%','background: rgba(0,0,0,0.2)']),p=i(['position: absolute','left: 50%','top: 40%','margin: 0 -130px','width: 260px','padding: 10px','background: white','border: solid 1px #AAA','border-radius: 3px','font-family: Helvetica, Arial, sans-serif','font-size: 14px','line-height: 1.2em']),d='<div class="bjs-powered-by-lightbox" style="'+c+'"><div class="backdrop" style="'+u+'"></div><div class="notice" style="'+p+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px"><img src="data:image/png;base64,'+l+'"></a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>'
t.exports.open=r},{'min-dom/lib/delegate':529,'min-dom/lib/domify':530}],180:[function(e,t,n){t.exports=e('./lib/simple')},{'./lib/simple':182}],181:[function(e,t,n){'use strict'
function i(e,t){s.call(this,e,t)}var r=e('lodash/lang/isString'),o=e('lodash/lang/isFunction'),a=e('lodash/object/assign'),s=e('moddle'),l=e('moddle-xml/lib/reader'),c=e('moddle-xml/lib/writer')
i.prototype=Object.create(s.prototype),t.exports=i,i.prototype.fromXML=function(e,t,n,i){r(t)||(i=n,n=t,t='bpmn:Definitions'),o(n)&&(i=n,n={})
var s=new l(a({model:this,lax:!0},n)),c=s.handler(t)
s.fromXML(e,c,i)},i.prototype.toXML=function(e,t,n){o(t)&&(n=t,t={})
var i=new c(t)
try{var r=i.toXML(e)
n(null,r)}catch(e){n(e)}}},{'lodash/lang/isFunction':504,'lodash/lang/isString':509,'lodash/object/assign':512,moddle:538,'moddle-xml/lib/reader':536,'moddle-xml/lib/writer':537}],182:[function(e,t,n){'use strict'
var i=e('lodash/object/assign'),r=e('./bpmn-moddle'),o={bpmn:e('../resources/bpmn/json/bpmn.json'),bpmndi:e('../resources/bpmn/json/bpmndi.json'),dc:e('../resources/bpmn/json/dc.json'),di:e('../resources/bpmn/json/di.json')}
t.exports=function(e,t){return new r(i({},o,e),t)}},{'../resources/bpmn/json/bpmn.json':183,'../resources/bpmn/json/bpmndi.json':184,'../resources/bpmn/json/dc.json':185,'../resources/bpmn/json/di.json':186,'./bpmn-moddle':181,'lodash/object/assign':512}],183:[function(e,t,n){t.exports={name:'BPMN20',uri:'http://www.omg.org/spec/BPMN/20100524/MODEL',associations:[],types:[{name:'Interface',superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'operations',type:'Operation',isMany:!0},{name:'implementationRef',type:'String',isAttr:!0}]},{name:'Operation',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'inMessageRef',type:'Message',isReference:!0},{name:'outMessageRef',type:'Message',isReference:!0},{name:'errorRef',type:'Error',isMany:!0,isReference:!0},{name:'implementationRef',type:'String',isAttr:!0}]},{name:'EndPoint',superClass:['RootElement']},{name:'Auditing',superClass:['BaseElement']},{name:'GlobalTask',superClass:['CallableElement'],properties:[{name:'resources',type:'ResourceRole',isMany:!0}]},{name:'Monitoring',superClass:['BaseElement']},{name:'Performer',superClass:['ResourceRole']},{name:'Process',superClass:['FlowElementsContainer','CallableElement'],properties:[{name:'processType',type:'ProcessType',isAttr:!0},{name:'isClosed',isAttr:!0,type:'Boolean'},{name:'auditing',type:'Auditing'},{name:'monitoring',type:'Monitoring'},{name:'properties',type:'Property',isMany:!0},{name:'laneSets',type:'LaneSet',isMany:!0,replaces:'FlowElementsContainer#laneSets'},{name:'flowElements',type:'FlowElement',isMany:!0,replaces:'FlowElementsContainer#flowElements'},{name:'artifacts',type:'Artifact',isMany:!0},{name:'resources',type:'ResourceRole',isMany:!0},{name:'correlationSubscriptions',type:'CorrelationSubscription',isMany:!0},{name:'supports',type:'Process',isMany:!0,isReference:!0},{name:'definitionalCollaborationRef',type:'Collaboration',isAttr:!0,isReference:!0},{name:'isExecutable',isAttr:!0,type:'Boolean'}]},{name:'LaneSet',superClass:['BaseElement'],properties:[{name:'lanes',type:'Lane',isMany:!0},{name:'name',isAttr:!0,type:'String'}]},{name:'Lane',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'partitionElementRef',type:'BaseElement',isAttr:!0,isReference:!0},{name:'partitionElement',type:'BaseElement'},{name:'flowNodeRef',type:'FlowNode',isMany:!0,isReference:!0},{name:'childLaneSet',type:'LaneSet',xml:{serialize:'xsi:type'}}]},{name:'GlobalManualTask',superClass:['GlobalTask']},{name:'ManualTask',superClass:['Task']},{name:'UserTask',superClass:['Task'],properties:[{name:'renderings',type:'Rendering',isMany:!0},{name:'implementation',isAttr:!0,type:'String'}]},{name:'Rendering',superClass:['BaseElement']},{name:'HumanPerformer',superClass:['Performer']},{name:'PotentialOwner',superClass:['HumanPerformer']},{name:'GlobalUserTask',superClass:['GlobalTask'],properties:[{name:'implementation',isAttr:!0,type:'String'},{name:'renderings',type:'Rendering',isMany:!0}]},{name:'Gateway',isAbstract:!0,superClass:['FlowNode'],properties:[{name:'gatewayDirection',type:'GatewayDirection',default:'Unspecified',isAttr:!0}]},{name:'EventBasedGateway',superClass:['Gateway'],properties:[{name:'instantiate',default:!1,isAttr:!0,type:'Boolean'},{name:'eventGatewayType',type:'EventBasedGatewayType',isAttr:!0,default:'Exclusive'}]},{name:'ComplexGateway',superClass:['Gateway'],properties:[{name:'activationCondition',type:'Expression',xml:{serialize:'xsi:type'}},{name:'default',type:'SequenceFlow',isAttr:!0,isReference:!0}]},{name:'ExclusiveGateway',superClass:['Gateway'],properties:[{name:'default',type:'SequenceFlow',isAttr:!0,isReference:!0}]},{name:'InclusiveGateway',superClass:['Gateway'],properties:[{name:'default',type:'SequenceFlow',isAttr:!0,isReference:!0}]},{name:'ParallelGateway',superClass:['Gateway']},{name:'RootElement',isAbstract:!0,superClass:['BaseElement']},{name:'Relationship',superClass:['BaseElement'],properties:[{name:'type',isAttr:!0,type:'String'},{name:'direction',type:'RelationshipDirection',isAttr:!0},{name:'source',isMany:!0,isReference:!0,type:'Element'},{name:'target',isMany:!0,isReference:!0,type:'Element'}]},{name:'BaseElement',isAbstract:!0,properties:[{name:'id',isAttr:!0,type:'String',isId:!0},{name:'documentation',type:'Documentation',isMany:!0},{name:'extensionDefinitions',type:'ExtensionDefinition',isMany:!0,isReference:!0},{name:'extensionElements',type:'ExtensionElements'}]},{name:'Extension',properties:[{name:'mustUnderstand',default:!1,isAttr:!0,type:'Boolean'},{name:'definition',type:'ExtensionDefinition'}]},{name:'ExtensionDefinition',properties:[{name:'name',isAttr:!0,type:'String'},{name:'extensionAttributeDefinitions',type:'ExtensionAttributeDefinition',isMany:!0}]},{name:'ExtensionAttributeDefinition',properties:[{name:'name',isAttr:!0,type:'String'},{name:'type',isAttr:!0,type:'String'},{name:'isReference',default:!1,isAttr:!0,type:'Boolean'},{name:'extensionDefinition',type:'ExtensionDefinition',isAttr:!0,isReference:!0}]},{name:'ExtensionElements',properties:[{name:'valueRef',isAttr:!0,isReference:!0,type:'Element'},{name:'values',type:'Element',isMany:!0},{name:'extensionAttributeDefinition',type:'ExtensionAttributeDefinition',isAttr:!0,isReference:!0}]},{name:'Documentation',superClass:['BaseElement'],properties:[{name:'text',type:'String',isBody:!0},{name:'textFormat',default:'text/plain',isAttr:!0,type:'String'}]},{name:'Event',isAbstract:!0,superClass:['FlowNode','InteractionNode'],properties:[{name:'properties',type:'Property',isMany:!0}]},{name:'IntermediateCatchEvent',superClass:['CatchEvent']},{name:'IntermediateThrowEvent',superClass:['ThrowEvent']},{name:'EndEvent',superClass:['ThrowEvent']},{name:'StartEvent',superClass:['CatchEvent'],properties:[{name:'isInterrupting',default:!0,isAttr:!0,type:'Boolean'}]},{name:'ThrowEvent',isAbstract:!0,superClass:['Event'],properties:[{name:'dataInputs',type:'DataInput',isMany:!0},{name:'dataInputAssociations',type:'DataInputAssociation',isMany:!0},{name:'inputSet',type:'InputSet'},{name:'eventDefinitions',type:'EventDefinition',isMany:!0},{name:'eventDefinitionRef',type:'EventDefinition',isMany:!0,isReference:!0}]},{name:'CatchEvent',isAbstract:!0,superClass:['Event'],properties:[{name:'parallelMultiple',isAttr:!0,type:'Boolean',default:!1},{name:'dataOutputs',type:'DataOutput',isMany:!0},{name:'dataOutputAssociations',type:'DataOutputAssociation',isMany:!0},{name:'outputSet',type:'OutputSet'},{name:'eventDefinitions',type:'EventDefinition',isMany:!0},{name:'eventDefinitionRef',type:'EventDefinition',isMany:!0,isReference:!0}]},{name:'BoundaryEvent',superClass:['CatchEvent'],properties:[{name:'cancelActivity',default:!0,isAttr:!0,type:'Boolean'},{name:'attachedToRef',type:'Activity',isAttr:!0,isReference:!0}]},{name:'EventDefinition',isAbstract:!0,superClass:['RootElement']},{name:'CancelEventDefinition',superClass:['EventDefinition']},{name:'ErrorEventDefinition',superClass:['EventDefinition'],properties:[{name:'errorRef',type:'Error',isAttr:!0,isReference:!0}]},{name:'TerminateEventDefinition',superClass:['EventDefinition']},{name:'EscalationEventDefinition',superClass:['EventDefinition'],properties:[{name:'escalationRef',type:'Escalation',isAttr:!0,isReference:!0}]},{name:'Escalation',properties:[{name:'structureRef',type:'ItemDefinition',isAttr:!0,isReference:!0},{name:'name',isAttr:!0,type:'String'},{name:'escalationCode',isAttr:!0,type:'String'}],superClass:['RootElement']},{name:'CompensateEventDefinition',superClass:['EventDefinition'],properties:[{name:'waitForCompletion',isAttr:!0,type:'Boolean'},{name:'activityRef',type:'Activity',isAttr:!0,isReference:!0}]},{name:'TimerEventDefinition',superClass:['EventDefinition'],properties:[{name:'timeDate',type:'Expression',xml:{serialize:'xsi:type'}},{name:'timeCycle',type:'Expression',xml:{serialize:'xsi:type'}},{name:'timeDuration',type:'Expression',xml:{serialize:'xsi:type'}}]},{name:'LinkEventDefinition',superClass:['EventDefinition'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'target',type:'LinkEventDefinition',isAttr:!0,isReference:!0},{name:'source',type:'LinkEventDefinition',isMany:!0,isReference:!0}]},{name:'MessageEventDefinition',superClass:['EventDefinition'],properties:[{name:'messageRef',type:'Message',isAttr:!0,isReference:!0},{name:'operationRef',type:'Operation',isAttr:!0,isReference:!0}]},{name:'ConditionalEventDefinition',superClass:['EventDefinition'],properties:[{name:'condition',type:'Expression',xml:{serialize:'xsi:type'}}]},{name:'SignalEventDefinition',superClass:['EventDefinition'],properties:[{name:'signalRef',type:'Signal',isAttr:!0,isReference:!0}]},{name:'Signal',superClass:['RootElement'],properties:[{name:'structureRef',type:'ItemDefinition',isAttr:!0,isReference:!0},{name:'name',isAttr:!0,type:'String'}]},{name:'ImplicitThrowEvent',superClass:['ThrowEvent']},{name:'DataState',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'}]},{name:'ItemAwareElement',superClass:['BaseElement'],properties:[{name:'itemSubjectRef',type:'ItemDefinition',isAttr:!0,isReference:!0},{name:'dataState',type:'DataState'}]},{name:'DataAssociation',superClass:['BaseElement'],properties:[{name:'assignment',type:'Assignment',isMany:!0},{name:'sourceRef',type:'ItemAwareElement',isMany:!0,isReference:!0},{name:'targetRef',type:'ItemAwareElement',isReference:!0},{name:'transformation',type:'FormalExpression',xml:{serialize:'property'}}]},{name:'DataInput',superClass:['ItemAwareElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'isCollection',default:!1,isAttr:!0,type:'Boolean'},{name:'inputSetRef',type:'InputSet',isVirtual:!0,isMany:!0,isReference:!0},{name:'inputSetWithOptional',type:'InputSet',isVirtual:!0,isMany:!0,isReference:!0},{name:'inputSetWithWhileExecuting',type:'InputSet',isVirtual:!0,isMany:!0,isReference:!0}]},{name:'DataOutput',superClass:['ItemAwareElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'isCollection',default:!1,isAttr:!0,type:'Boolean'},{name:'outputSetRef',type:'OutputSet',isVirtual:!0,isMany:!0,isReference:!0},{name:'outputSetWithOptional',type:'OutputSet',isVirtual:!0,isMany:!0,isReference:!0},{name:'outputSetWithWhileExecuting',type:'OutputSet',isVirtual:!0,isMany:!0,isReference:!0}]},{name:'InputSet',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'dataInputRefs',type:'DataInput',isMany:!0,isReference:!0},{name:'optionalInputRefs',type:'DataInput',isMany:!0,isReference:!0},{name:'whileExecutingInputRefs',type:'DataInput',isMany:!0,isReference:!0},{name:'outputSetRefs',type:'OutputSet',isMany:!0,isReference:!0}]},{name:'OutputSet',superClass:['BaseElement'],properties:[{name:'dataOutputRefs',type:'DataOutput',isMany:!0,isReference:!0},{name:'name',isAttr:!0,type:'String'},{name:'inputSetRefs',type:'InputSet',isMany:!0,isReference:!0},{name:'optionalOutputRefs',type:'DataOutput',isMany:!0,isReference:!0},{name:'whileExecutingOutputRefs',type:'DataOutput',isMany:!0,isReference:!0}]},{name:'Property',superClass:['ItemAwareElement'],properties:[{name:'name',isAttr:!0,type:'String'}]},{name:'DataInputAssociation',superClass:['DataAssociation']},{name:'DataOutputAssociation',superClass:['DataAssociation']},{name:'InputOutputSpecification',superClass:['BaseElement'],properties:[{name:'dataInputs',type:'DataInput',isMany:!0},{name:'dataOutputs',type:'DataOutput',isMany:!0},{name:'inputSets',type:'InputSet',isMany:!0},{name:'outputSets',type:'OutputSet',isMany:!0}]},{name:'DataObject',superClass:['FlowElement','ItemAwareElement'],properties:[{name:'isCollection',default:!1,isAttr:!0,type:'Boolean'}]},{name:'InputOutputBinding',properties:[{name:'inputDataRef',type:'InputSet',isAttr:!0,isReference:!0},{name:'outputDataRef',type:'OutputSet',isAttr:!0,isReference:!0},{name:'operationRef',type:'Operation',isAttr:!0,isReference:!0}]},{name:'Assignment',superClass:['BaseElement'],properties:[{name:'from',type:'Expression',xml:{serialize:'xsi:type'}},{name:'to',type:'Expression',xml:{serialize:'xsi:type'}}]},{name:'DataStore',superClass:['RootElement','ItemAwareElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'capacity',isAttr:!0,type:'Integer'},{name:'isUnlimited',default:!0,isAttr:!0,type:'Boolean'}]},{name:'DataStoreReference',superClass:['ItemAwareElement','FlowElement'],properties:[{name:'dataStoreRef',type:'DataStore',isAttr:!0,isReference:!0}]},{name:'DataObjectReference',superClass:['ItemAwareElement','FlowElement'],properties:[{name:'dataObjectRef',type:'DataObject',isAttr:!0,isReference:!0}]},{name:'ConversationLink',superClass:['BaseElement'],properties:[{name:'sourceRef',type:'InteractionNode',isAttr:!0,isReference:!0},{name:'targetRef',type:'InteractionNode',isAttr:!0,isReference:!0},{name:'name',isAttr:!0,type:'String'}]},{name:'ConversationAssociation',superClass:['BaseElement'],properties:[{name:'innerConversationNodeRef',type:'ConversationNode',isAttr:!0,isReference:!0},{name:'outerConversationNodeRef',type:'ConversationNode',isAttr:!0,isReference:!0}]},{name:'CallConversation',superClass:['ConversationNode'],properties:[{name:'calledCollaborationRef',type:'Collaboration',isAttr:!0,isReference:!0},{name:'participantAssociations',type:'ParticipantAssociation',isMany:!0}]},{name:'Conversation',superClass:['ConversationNode']},{name:'SubConversation',superClass:['ConversationNode'],properties:[{name:'conversationNodes',type:'ConversationNode',isMany:!0}]},{name:'ConversationNode',isAbstract:!0,superClass:['InteractionNode','BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'participantRefs',type:'Participant',isMany:!0,isReference:!0},{name:'messageFlowRefs',type:'MessageFlow',isMany:!0,isReference:!0},{name:'correlationKeys',type:'CorrelationKey',isMany:!0}]},{name:'GlobalConversation',superClass:['Collaboration']},{name:'PartnerEntity',superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'participantRef',type:'Participant',isMany:!0,isReference:!0}]},{name:'PartnerRole',superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'participantRef',type:'Participant',isMany:!0,isReference:!0}]},{name:'CorrelationProperty',superClass:['RootElement'],properties:[{name:'correlationPropertyRetrievalExpression',type:'CorrelationPropertyRetrievalExpression',isMany:!0},{name:'name',isAttr:!0,type:'String'},{name:'type',type:'ItemDefinition',isAttr:!0,isReference:!0}]},{name:'Error',superClass:['RootElement'],properties:[{name:'structureRef',type:'ItemDefinition',isAttr:!0,isReference:!0},{name:'name',isAttr:!0,type:'String'},{name:'errorCode',isAttr:!0,type:'String'}]},{name:'CorrelationKey',superClass:['BaseElement'],properties:[{name:'correlationPropertyRef',type:'CorrelationProperty',isMany:!0,isReference:!0},{name:'name',isAttr:!0,type:'String'}]},{name:'Expression',superClass:['BaseElement'],isAbstract:!0},{name:'FormalExpression',superClass:['Expression'],properties:[{name:'language',isAttr:!0,type:'String'},{name:'body',type:'String',isBody:!0},{name:'evaluatesToTypeRef',type:'ItemDefinition',isAttr:!0,isReference:!0}]},{name:'Message',superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'itemRef',type:'ItemDefinition',isAttr:!0,isReference:!0}]},{name:'ItemDefinition',superClass:['RootElement'],properties:[{name:'itemKind',type:'ItemKind',isAttr:!0},{name:'structureRef',type:'String',isAttr:!0},{name:'isCollection',default:!1,isAttr:!0,type:'Boolean'},{name:'import',type:'Import',isAttr:!0,isReference:!0}]},{name:'FlowElement',isAbstract:!0,superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'auditing',type:'Auditing'},{name:'monitoring',type:'Monitoring'},{name:'categoryValueRef',type:'CategoryValue',isMany:!0,isReference:!0}]},{name:'SequenceFlow',superClass:['FlowElement'],properties:[{name:'isImmediate',isAttr:!0,type:'Boolean'},{name:'conditionExpression',type:'Expression',xml:{serialize:'xsi:type'}},{name:'sourceRef',type:'FlowNode',isAttr:!0,isReference:!0},{name:'targetRef',type:'FlowNode',isAttr:!0,isReference:!0}]},{name:'FlowElementsContainer',isAbstract:!0,superClass:['BaseElement'],properties:[{name:'laneSets',type:'LaneSet',isMany:!0},{name:'flowElements',type:'FlowElement',isMany:!0}]},{name:'CallableElement',isAbstract:!0,superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'ioSpecification',type:'InputOutputSpecification',xml:{serialize:'property'}},{name:'supportedInterfaceRef',type:'Interface',isMany:!0,isReference:!0},{name:'ioBinding',type:'InputOutputBinding',isMany:!0,xml:{serialize:'property'}}]},{name:'FlowNode',isAbstract:!0,superClass:['FlowElement'],properties:[{name:'incoming',type:'SequenceFlow',isMany:!0,isReference:!0},{name:'outgoing',type:'SequenceFlow',isMany:!0,isReference:!0},{name:'lanes',type:'Lane',isVirtual:!0,isMany:!0,isReference:!0}]},{name:'CorrelationPropertyRetrievalExpression',superClass:['BaseElement'],properties:[{name:'messagePath',type:'FormalExpression'},{name:'messageRef',type:'Message',isAttr:!0,isReference:!0}]},{name:'CorrelationPropertyBinding',superClass:['BaseElement'],properties:[{name:'dataPath',type:'FormalExpression'},{name:'correlationPropertyRef',type:'CorrelationProperty',isAttr:!0,isReference:!0}]},{name:'Resource',superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'resourceParameters',type:'ResourceParameter',isMany:!0}]},{name:'ResourceParameter',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'isRequired',isAttr:!0,type:'Boolean'},{name:'type',type:'ItemDefinition',isAttr:!0,isReference:!0}]},{name:'CorrelationSubscription',superClass:['BaseElement'],properties:[{name:'correlationKeyRef',type:'CorrelationKey',isAttr:!0,isReference:!0},{name:'correlationPropertyBinding',type:'CorrelationPropertyBinding',isMany:!0}]},{name:'MessageFlow',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'sourceRef',type:'InteractionNode',isAttr:!0,isReference:!0},{name:'targetRef',type:'InteractionNode',isAttr:!0,isReference:!0},{name:'messageRef',type:'Message',isAttr:!0,isReference:!0}]},{name:'MessageFlowAssociation',superClass:['BaseElement'],properties:[{name:'innerMessageFlowRef',type:'MessageFlow',isAttr:!0,isReference:!0},{name:'outerMessageFlowRef',type:'MessageFlow',isAttr:!0,isReference:!0}]},{name:'InteractionNode',isAbstract:!0,properties:[{name:'incomingConversationLinks',type:'ConversationLink',isVirtual:!0,isMany:!0,isReference:!0},{name:'outgoingConversationLinks',type:'ConversationLink',isVirtual:!0,isMany:!0,isReference:!0}]},{name:'Participant',superClass:['InteractionNode','BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'interfaceRef',type:'Interface',isMany:!0,isReference:!0},{name:'participantMultiplicity',type:'ParticipantMultiplicity'},{name:'endPointRefs',type:'EndPoint',isMany:!0,isReference:!0},{name:'processRef',type:'Process',isAttr:!0,isReference:!0}]},{name:'ParticipantAssociation',superClass:['BaseElement'],properties:[{name:'innerParticipantRef',type:'Participant',isAttr:!0,isReference:!0},{name:'outerParticipantRef',type:'Participant',isAttr:!0,isReference:!0}]},{name:'ParticipantMultiplicity',properties:[{name:'minimum',default:0,isAttr:!0,type:'Integer'},{name:'maximum',default:1,isAttr:!0,type:'Integer'}]},{name:'Collaboration',superClass:['RootElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'isClosed',isAttr:!0,type:'Boolean'},{name:'participants',type:'Participant',isMany:!0},{name:'messageFlows',type:'MessageFlow',isMany:!0},{name:'artifacts',type:'Artifact',isMany:!0},{name:'conversations',type:'ConversationNode',isMany:!0},{name:'conversationAssociations',type:'ConversationAssociation'},{name:'participantAssociations',type:'ParticipantAssociation',isMany:!0},{name:'messageFlowAssociations',type:'MessageFlowAssociation',isMany:!0},{name:'correlationKeys',type:'CorrelationKey',isMany:!0},{name:'choreographyRef',type:'Choreography',isMany:!0,isReference:!0},{name:'conversationLinks',type:'ConversationLink',isMany:!0}]},{name:'ChoreographyActivity',isAbstract:!0,superClass:['FlowNode'],properties:[{name:'participantRefs',type:'Participant',isMany:!0,isReference:!0},{name:'initiatingParticipantRef',type:'Participant',isAttr:!0,isReference:!0},{name:'correlationKeys',type:'CorrelationKey',isMany:!0},{name:'loopType',type:'ChoreographyLoopType',default:'None',isAttr:!0}]},{name:'CallChoreography',superClass:['ChoreographyActivity'],properties:[{name:'calledChoreographyRef',type:'Choreography',isAttr:!0,isReference:!0},{name:'participantAssociations',type:'ParticipantAssociation',isMany:!0}]},{name:'SubChoreography',superClass:['ChoreographyActivity','FlowElementsContainer'],properties:[{name:'artifacts',type:'Artifact',isMany:!0}]},{name:'ChoreographyTask',superClass:['ChoreographyActivity'],properties:[{name:'messageFlowRef',type:'MessageFlow',isMany:!0,isReference:!0}]},{name:'Choreography',superClass:['FlowElementsContainer','Collaboration']},{name:'GlobalChoreographyTask',superClass:['Choreography'],properties:[{name:'initiatingParticipantRef',type:'Participant',isAttr:!0,isReference:!0}]},{name:'TextAnnotation',superClass:['Artifact'],properties:[{name:'text',type:'String'},{name:'textFormat',default:'text/plain',isAttr:!0,type:'String'}]},{name:'Group',superClass:['Artifact'],properties:[{name:'categoryValueRef',type:'CategoryValue',isAttr:!0,isReference:!0}]},{name:'Association',superClass:['Artifact'],properties:[{name:'associationDirection',type:'AssociationDirection',isAttr:!0},{name:'sourceRef',type:'BaseElement',isAttr:!0,isReference:!0},{name:'targetRef',type:'BaseElement',isAttr:!0,isReference:!0}]},{name:'Category',superClass:['RootElement'],properties:[{name:'categoryValue',type:'CategoryValue',isMany:!0},{name:'name',isAttr:!0,type:'String'}]},{name:'Artifact',isAbstract:!0,superClass:['BaseElement']},{name:'CategoryValue',superClass:['BaseElement'],properties:[{name:'categorizedFlowElements',type:'FlowElement',isVirtual:!0,isMany:!0,isReference:!0},{name:'value',isAttr:!0,type:'String'}]},{name:'Activity',isAbstract:!0,superClass:['FlowNode'],properties:[{name:'isForCompensation',default:!1,isAttr:!0,type:'Boolean'},{name:'default',type:'SequenceFlow',isAttr:!0,isReference:!0},{name:'ioSpecification',type:'InputOutputSpecification',xml:{serialize:'property'}},{name:'boundaryEventRefs',type:'BoundaryEvent',isMany:!0,isReference:!0},{name:'properties',type:'Property',isMany:!0},{name:'dataInputAssociations',type:'DataInputAssociation',isMany:!0},{name:'dataOutputAssociations',type:'DataOutputAssociation',isMany:!0},{name:'startQuantity',default:1,isAttr:!0,type:'Integer'},{name:'resources',type:'ResourceRole',isMany:!0},{name:'completionQuantity',default:1,isAttr:!0,type:'Integer'},{name:'loopCharacteristics',type:'LoopCharacteristics'}]},{name:'ServiceTask',superClass:['Task'],properties:[{name:'implementation',isAttr:!0,type:'String'},{name:'operationRef',type:'Operation',isAttr:!0,isReference:!0}]},{name:'SubProcess',superClass:['Activity','FlowElementsContainer','InteractionNode'],properties:[{name:'triggeredByEvent',default:!1,isAttr:!0,type:'Boolean'},{name:'artifacts',type:'Artifact',isMany:!0}]},{name:'LoopCharacteristics',isAbstract:!0,superClass:['BaseElement']},{name:'MultiInstanceLoopCharacteristics',superClass:['LoopCharacteristics'],properties:[{name:'isSequential',default:!1,isAttr:!0,type:'Boolean'},{name:'behavior',type:'MultiInstanceBehavior',default:'All',isAttr:!0},{name:'loopCardinality',type:'Expression',xml:{serialize:'xsi:type'}},{name:'loopDataInputRef',type:'ItemAwareElement',isReference:!0},{name:'loopDataOutputRef',type:'ItemAwareElement',isReference:!0},{name:'inputDataItem',type:'DataInput',xml:{serialize:'property'}},{name:'outputDataItem',type:'DataOutput',xml:{serialize:'property'}},{name:'complexBehaviorDefinition',type:'ComplexBehaviorDefinition',isMany:!0},{name:'completionCondition',type:'Expression',xml:{serialize:'xsi:type'}},{name:'oneBehaviorEventRef',type:'EventDefinition',isAttr:!0,isReference:!0},{name:'noneBehaviorEventRef',type:'EventDefinition',isAttr:!0,isReference:!0}]},{name:'StandardLoopCharacteristics',superClass:['LoopCharacteristics'],properties:[{name:'testBefore',default:!1,isAttr:!0,type:'Boolean'},{name:'loopCondition',type:'Expression',xml:{serialize:'xsi:type'}},{name:'loopMaximum',type:'Expression',xml:{serialize:'xsi:type'}}]},{name:'CallActivity',superClass:['Activity'],properties:[{name:'calledElement',type:'String',isAttr:!0}]},{name:'Task',superClass:['Activity','InteractionNode']},{name:'SendTask',superClass:['Task'],properties:[{name:'implementation',isAttr:!0,type:'String'},{name:'operationRef',type:'Operation',isAttr:!0,isReference:!0},{name:'messageRef',type:'Message',isAttr:!0,isReference:!0}]},{name:'ReceiveTask',superClass:['Task'],properties:[{name:'implementation',isAttr:!0,type:'String'},{name:'instantiate',default:!1,isAttr:!0,type:'Boolean'},{name:'operationRef',type:'Operation',isAttr:!0,isReference:!0},{name:'messageRef',type:'Message',isAttr:!0,isReference:!0}]},{name:'ScriptTask',superClass:['Task'],properties:[{name:'scriptFormat',isAttr:!0,type:'String'},{name:'script',type:'String'}]},{name:'BusinessRuleTask',superClass:['Task'],properties:[{name:'implementation',isAttr:!0,type:'String'}]},{name:'AdHocSubProcess',superClass:['SubProcess'],properties:[{name:'completionCondition',type:'Expression',xml:{serialize:'xsi:type'}},{name:'ordering',type:'AdHocOrdering',isAttr:!0},{name:'cancelRemainingInstances',default:!0,isAttr:!0,type:'Boolean'}]},{name:'Transaction',superClass:['SubProcess'],properties:[{name:'protocol',isAttr:!0,type:'String'},{name:'method',isAttr:!0,type:'String'}]},{name:'GlobalScriptTask',superClass:['GlobalTask'],properties:[{name:'scriptLanguage',isAttr:!0,type:'String'},{name:'script',isAttr:!0,type:'String'}]},{name:'GlobalBusinessRuleTask',superClass:['GlobalTask'],properties:[{name:'implementation',isAttr:!0,type:'String'}]},{name:'ComplexBehaviorDefinition',superClass:['BaseElement'],properties:[{name:'condition',type:'FormalExpression'},{name:'event',type:'ImplicitThrowEvent'}]},{name:'ResourceRole',superClass:['BaseElement'],properties:[{name:'resourceRef',type:'Resource',isReference:!0},{name:'resourceParameterBindings',type:'ResourceParameterBinding',isMany:!0},{name:'resourceAssignmentExpression',type:'ResourceAssignmentExpression'},{name:'name',isAttr:!0,type:'String'}]},{name:'ResourceParameterBinding',properties:[{name:'expression',type:'Expression',xml:{serialize:'xsi:type'}},{name:'parameterRef',type:'ResourceParameter',isAttr:!0,isReference:!0}]},{name:'ResourceAssignmentExpression',properties:[{name:'expression',type:'Expression',xml:{serialize:'xsi:type'}}],superClass:['BaseElement']},{name:'Import',properties:[{name:'importType',isAttr:!0,type:'String'},{name:'location',isAttr:!0,type:'String'},{name:'namespace',isAttr:!0,type:'String'}]},{name:'Definitions',superClass:['BaseElement'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'targetNamespace',isAttr:!0,type:'String'},{name:'expressionLanguage',default:'http://www.w3.org/1999/XPath',isAttr:!0,type:'String'},{name:'typeLanguage',default:'http://www.w3.org/2001/XMLSchema',isAttr:!0,type:'String'},{name:'imports',type:'Import',isMany:!0},{name:'extensions',type:'Extension',isMany:!0},{name:'rootElements',type:'RootElement',isMany:!0},{name:'diagrams',isMany:!0,type:'bpmndi:BPMNDiagram'},{name:'exporter',isAttr:!0,type:'String'},{name:'relationships',type:'Relationship',isMany:!0},{name:'exporterVersion',isAttr:!0,type:'String'}]}],emumerations:[{name:'ProcessType',literalValues:[{name:'None'},{name:'Public'},{name:'Private'}]},{name:'GatewayDirection',literalValues:[{name:'Unspecified'},{name:'Converging'},{name:'Diverging'},{name:'Mixed'}]},{name:'EventBasedGatewayType',literalValues:[{name:'Parallel'},{name:'Exclusive'}]},{name:'RelationshipDirection',literalValues:[{name:'None'},{name:'Forward'},{name:'Backward'},{name:'Both'}]},{name:'ItemKind',literalValues:[{name:'Physical'},{name:'Information'}]},{name:'ChoreographyLoopType',literalValues:[{name:'None'},{name:'Standard'},{name:'MultiInstanceSequential'},{name:'MultiInstanceParallel'}]},{name:'AssociationDirection',literalValues:[{name:'None'},{name:'One'},{name:'Both'}]},{name:'MultiInstanceBehavior',literalValues:[{name:'None'},{name:'One'},{name:'All'},{name:'Complex'}]},{name:'AdHocOrdering',literalValues:[{name:'Parallel'},{name:'Sequential'}]}],prefix:'bpmn',xml:{tagAlias:'lowerCase',typePrefix:'t'}}},{}],184:[function(e,t,n){t.exports={name:'BPMNDI',uri:'http://www.omg.org/spec/BPMN/20100524/DI',types:[{name:'BPMNDiagram',properties:[{name:'plane',type:'BPMNPlane',redefines:'di:Diagram#rootElement'},{name:'labelStyle',type:'BPMNLabelStyle',isMany:!0}],superClass:['di:Diagram']},{name:'BPMNPlane',properties:[{name:'bpmnElement',isAttr:!0,isReference:!0,type:'bpmn:BaseElement',redefines:'di:DiagramElement#modelElement'}],superClass:['di:Plane']},{name:'BPMNShape',properties:[{name:'bpmnElement',isAttr:!0,isReference:!0,type:'bpmn:BaseElement',redefines:'di:DiagramElement#modelElement'},{name:'isHorizontal',isAttr:!0,type:'Boolean'},{name:'isExpanded',isAttr:!0,type:'Boolean'},{name:'isMarkerVisible',isAttr:!0,type:'Boolean'},{name:'label',type:'BPMNLabel'},{name:'isMessageVisible',isAttr:!0,type:'Boolean'},{name:'participantBandKind',type:'ParticipantBandKind',isAttr:!0},{name:'choreographyActivityShape',type:'BPMNShape',isAttr:!0,isReference:!0}],superClass:['di:LabeledShape']},{name:'BPMNEdge',properties:[{name:'label',type:'BPMNLabel'},{name:'bpmnElement',isAttr:!0,isReference:!0,type:'bpmn:BaseElement',redefines:'di:DiagramElement#modelElement'},{name:'sourceElement',isAttr:!0,isReference:!0,type:'di:DiagramElement',redefines:'di:Edge#source'},{name:'targetElement',isAttr:!0,isReference:!0,type:'di:DiagramElement',redefines:'di:Edge#target'},{name:'messageVisibleKind',type:'MessageVisibleKind',isAttr:!0,default:'initiating'}],superClass:['di:LabeledEdge']},{name:'BPMNLabel',properties:[{name:'labelStyle',type:'BPMNLabelStyle',isAttr:!0,isReference:!0,redefines:'di:DiagramElement#style'}],superClass:['di:Label']},{name:'BPMNLabelStyle',properties:[{name:'font',type:'dc:Font'}],superClass:['di:Style']}],emumerations:[{name:'ParticipantBandKind',literalValues:[{name:'top_initiating'},{name:'middle_initiating'},{name:'bottom_initiating'},{name:'top_non_initiating'},{name:'middle_non_initiating'},{name:'bottom_non_initiating'}]},{name:'MessageVisibleKind',literalValues:[{name:'initiating'},{name:'non_initiating'}]}],associations:[],prefix:'bpmndi'}},{}],185:[function(e,t,n){t.exports={name:'DC',uri:'http://www.omg.org/spec/DD/20100524/DC',types:[{name:'Boolean'},{name:'Integer'},{name:'Real'},{name:'String'},{name:'Font',properties:[{name:'name',type:'String',isAttr:!0},{name:'size',type:'Real',isAttr:!0},{name:'isBold',type:'Boolean',isAttr:!0},{name:'isItalic',type:'Boolean',isAttr:!0},{name:'isUnderline',type:'Boolean',isAttr:!0},{name:'isStrikeThrough',type:'Boolean',isAttr:!0}]},{name:'Point',properties:[{name:'x',type:'Real',default:'0',isAttr:!0},{name:'y',type:'Real',default:'0',isAttr:!0}]},{name:'Bounds',properties:[{name:'x',type:'Real',default:'0',isAttr:!0},{name:'y',type:'Real',default:'0',isAttr:!0},{name:'width',type:'Real',isAttr:!0},{name:'height',type:'Real',isAttr:!0}]}],prefix:'dc',associations:[]}},{}],186:[function(e,t,n){t.exports={name:'DI',uri:'http://www.omg.org/spec/DD/20100524/DI',types:[{name:'DiagramElement',isAbstract:!0,properties:[{name:'id',type:'String',isAttr:!0,isId:!0},{name:'extension',type:'Extension'},{name:'owningDiagram',type:'Diagram',isReadOnly:!0,isVirtual:!0,isReference:!0},{name:'owningElement',type:'DiagramElement',isReadOnly:!0,isVirtual:!0,isReference:!0},{name:'modelElement',isReadOnly:!0,
isVirtual:!0,isReference:!0,type:'Element'},{name:'style',type:'Style',isReadOnly:!0,isVirtual:!0,isReference:!0},{name:'ownedElement',type:'DiagramElement',isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:'Node',isAbstract:!0,superClass:['DiagramElement']},{name:'Edge',isAbstract:!0,superClass:['DiagramElement'],properties:[{name:'source',type:'DiagramElement',isReadOnly:!0,isVirtual:!0,isReference:!0},{name:'target',type:'DiagramElement',isReadOnly:!0,isVirtual:!0,isReference:!0},{name:'waypoint',isUnique:!1,isMany:!0,type:'dc:Point',xml:{serialize:'xsi:type'}}]},{name:'Diagram',isAbstract:!0,properties:[{name:'id',type:'String',isAttr:!0,isId:!0},{name:'rootElement',type:'DiagramElement',isReadOnly:!0,isVirtual:!0},{name:'name',isAttr:!0,type:'String'},{name:'documentation',isAttr:!0,type:'String'},{name:'resolution',isAttr:!0,type:'Real'},{name:'ownedStyle',type:'Style',isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:'Shape',isAbstract:!0,superClass:['Node'],properties:[{name:'bounds',type:'dc:Bounds'}]},{name:'Plane',isAbstract:!0,superClass:['Node'],properties:[{name:'planeElement',type:'DiagramElement',subsettedProperty:'DiagramElement-ownedElement',isMany:!0}]},{name:'LabeledEdge',isAbstract:!0,superClass:['Edge'],properties:[{name:'ownedLabel',type:'Label',isReadOnly:!0,subsettedProperty:'DiagramElement-ownedElement',isVirtual:!0,isMany:!0}]},{name:'LabeledShape',isAbstract:!0,superClass:['Shape'],properties:[{name:'ownedLabel',type:'Label',isReadOnly:!0,subsettedProperty:'DiagramElement-ownedElement',isVirtual:!0,isMany:!0}]},{name:'Label',isAbstract:!0,superClass:['Node'],properties:[{name:'bounds',type:'dc:Bounds'}]},{name:'Style',isAbstract:!0,properties:[{name:'id',type:'String',isAttr:!0,isId:!0}]},{name:'Extension',properties:[{name:'values',type:'Element',isMany:!0}]}],associations:[],prefix:'di',xml:{tagAlias:'lowerCase'}}},{}],187:[function(e,t,n){},{}],188:[function(e,t,n){(function(t){'use strict'
function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t){throw new RangeError('Invalid typed array length')}
return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o)){return new o(e,t,n)}
if('number'==typeof e){if('string'==typeof t){throw new Error('If encoding is specified then the first argument must be a string')}
return c(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if('number'==typeof t){throw new TypeError('"value" argument must not be a number')}
return'undefined'!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,i):'string'==typeof t?u(e,t,n):f(e,t)}function s(e){if('number'!=typeof e){throw new TypeError('"size" argument must be a number')}}function l(e,t,n,i){return s(t),t<=0?r(e,t):void 0!==n?'string'==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}function c(e,t){if(s(t),e=r(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT){for(var n=0;n<t;n++){e[n]=0}}
return e}function u(e,t,n){if('string'==typeof n&&''!==n||(n='utf8'),!o.isEncoding(n)){throw new TypeError('"encoding" must be a valid string encoding')}
return e=r(e,0|v(t,n)),e.write(t,n),e}function p(e,t){var n=0|h(t.length)
e=r(e,n)
for(var i=0;i<n;i+=1){e[i]=255&t[i]}
return e}function d(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n){throw new RangeError("'offset' is out of bounds")}
if(t.byteLength<n+(i||0)){throw new RangeError("'length' is out of bounds")}
return t=void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=p(e,t),e}function f(e,t){if(o.isBuffer(t)){var n=0|h(t.length)
return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if('undefined'!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||'length'in t){return'number'!=typeof t.length||Y(t.length)?r(e,0):p(e,t)}
if('Buffer'===t.type&&J(t.data)){return p(e,t.data)}}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function h(e){if(e>=i()){throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+i().toString(16)+' bytes')}
return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function v(e,t){if(o.isBuffer(e)){return e.length}
if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}
'string'!=typeof e&&(e=''+e)
var n=e.length
if(0===n){return 0}
for(var i=!1;;){switch(t){case'ascii':case'binary':case'raw':case'raws':return n
case'utf8':case'utf-8':case void 0:return z(e).length
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n
case'hex':return n>>>1
case'base64':return W(e).length
default:if(i){return z(e).length}
t=(''+t).toLowerCase(),i=!0}}}function g(e,t,n){var i=!1
if((void 0===t||t<0)&&(t=0),t>this.length){return''}
if((void 0===n||n>this.length)&&(n=this.length),n<=0){return''}
if(n>>>=0,t>>>=0,n<=t){return''}
for(e||(e='utf8');;){switch(e){case'hex':return k(this,t,n)
case'utf8':case'utf-8':return A(this,t,n)
case'ascii':return P(this,t,n)
case'binary':return R(this,t,n)
case'base64':return S(this,t,n)
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return M(this,t,n)
default:if(i){throw new TypeError('Unknown encoding: '+e)}
e=(e+'').toLowerCase(),i=!0}}}function y(e,t,n){var i=e[t]
e[t]=e[n],e[n]=i}function b(e,t,n,i){function r(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,s=t.length
if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(e.length<2||t.length<2){return-1}
o=2,a/=2,s/=2,n/=2}for(var l=-1,c=0;n+c<a;c++){if(r(e,n+c)===r(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s){return(n+l)*o}}else{-1!==l&&(c-=c-l),l=-1}}
return-1}function x(e,t,n,i){n=Number(n)||0
var r=e.length-n
i?(i=Number(i))>r&&(i=r):i=r
var o=t.length
if(o%2!=0){throw new Error('Invalid hex string')}
i>o/2&&(i=o/2)
for(var a=0;a<i;a++){var s=parseInt(t.substr(2*a,2),16)
if(isNaN(s)){return a}
e[n+a]=s}return a}function E(e,t,n,i){return G(z(t,e.length-n),e,n,i)}function w(e,t,n,i){return G(q(t),e,n,i)}function _(e,t,n,i){return w(e,t,n,i)}function C(e,t,n,i){return G(W(t),e,n,i)}function T(e,t,n,i){return G($(t,e.length-n),e,n,i)}function S(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n)
for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1
if(r+s<=n){var l,c,u,p
switch(s){case 1:o<128&&(a=o)
break
case 2:l=e[r+1],128==(192&l)&&(p=(31&o)<<6|63&l)>127&&(a=p)
break
case 3:l=e[r+1],c=e[r+2],128==(192&l)&&128==(192&c)&&(p=(15&o)<<12|(63&l)<<6|63&c)>2047&&(p<55296||p>57343)&&(a=p)
break
case 4:l=e[r+1],c=e[r+2],u=e[r+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(p=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&p<1114112&&(a=p)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return j(i)}function j(e){var t=e.length
if(t<=Z){return String.fromCharCode.apply(String,e)}
for(var n='',i=0;i<t;){n+=String.fromCharCode.apply(String,e.slice(i,i+=Z))}
return n}function P(e,t,n){var i=''
n=Math.min(e.length,n)
for(var r=t;r<n;r++){i+=String.fromCharCode(127&e[r])}
return i}function R(e,t,n){var i=''
n=Math.min(e.length,n)
for(var r=t;r<n;r++){i+=String.fromCharCode(e[r])}
return i}function k(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i)
for(var r='',o=t;o<n;o++){r+=V(e[o])}
return r}function M(e,t,n){for(var i=e.slice(t,n),r='',o=0;o<i.length;o+=2){r+=String.fromCharCode(i[o]+256*i[o+1])}
return r}function B(e,t,n){if(e%1!=0||e<0){throw new RangeError('offset is not uint')}
if(e+t>n){throw new RangeError('Trying to access beyond buffer length')}}function D(e,t,n,i,r,a){if(!o.isBuffer(e)){throw new TypeError('"buffer" argument must be a Buffer instance')}
if(t>r||t<a){throw new RangeError('"value" argument is out of bounds')}
if(n+i>e.length){throw new RangeError('Index out of range')}}function O(e,t,n,i){t<0&&(t=65535+t+1)
for(var r=0,o=Math.min(e.length-n,2);r<o;r++){e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}}function L(e,t,n,i){t<0&&(t=4294967295+t+1)
for(var r=0,o=Math.min(e.length-n,4);r<o;r++){e[n+r]=t>>>8*(i?r:3-r)&255}}function N(e,t,n,i,r,o){if(n+i>e.length){throw new RangeError('Index out of range')}
if(n<0){throw new RangeError('Index out of range')}}function I(e,t,n,i,r){return r||N(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,r){return r||N(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,i,52,8),n+8}function U(e){if(e=H(e).replace(Q,''),e.length<2){return''}
for(;e.length%4!=0;){e+='='}
return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,'')}function V(e){return e<16?'0'+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0
for(var n,i=e.length,r=null,o=[],a=0;a<i;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189)
continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189)
continue}r=n
continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n
continue}n=65536+(r-55296<<10|n-56320)}else {r&&(t-=3)>-1&&o.push(239,191,189)}
if(r=null,n<128){if((t-=1)<0){break}
o.push(n)}else if(n<2048){if((t-=2)<0){break}
o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0){break}
o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112)){throw new Error('Invalid code point')}
if((t-=4)<0){break}
o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;n++){t.push(255&e.charCodeAt(n))}
return t}function $(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);a++){n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i)}
return o}function W(e){return X.toByteArray(U(e))}function G(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);r++){t[r+n]=e[r]}
return r}function Y(e){return e!==e}var X=e('base64-js'),K=e('ieee754'),J=e('isarray')
n.Buffer=o,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1)
return e.foo=function(){return 42},42===e.foo()&&'function'==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t)){throw new TypeError('Arguments must be Buffers')}
if(e===t){return 0}
for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r){if(e[r]!==t[r]){n=e[r],i=t[r]
break}}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'raw':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0
default:return!1}},o.concat=function(e,t){if(!J(e)){throw new TypeError('"list" argument must be an Array of Buffers')}
if(0===e.length){return o.alloc(0)}
var n
if(void 0===t){for(t=0,n=0;n<e.length;n++){t+=e[n].length}}
var i=o.allocUnsafe(t),r=0
for(n=0;n<e.length;n++){var a=e[n]
if(!o.isBuffer(a)){throw new TypeError('"list" argument must be an Array of Buffers')}
a.copy(i,r),r+=a.length}return i},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length
if(e%2!=0){throw new RangeError('Buffer size must be a multiple of 16-bits')}
for(var t=0;t<e;t+=2){y(this,t,t+1)}
return this},o.prototype.swap32=function(){var e=this.length
if(e%4!=0){throw new RangeError('Buffer size must be a multiple of 32-bits')}
for(var t=0;t<e;t+=4){y(this,t,t+3),y(this,t+1,t+2)}
return this},o.prototype.toString=function(){var e=0|this.length
return 0===e?'':0===arguments.length?A(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e)){throw new TypeError('Argument must be a Buffer')}
return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e='',t=n.INSPECT_MAX_BYTES
return this.length>0&&(e=this.toString('hex',0,t).match(/.{2}/g).join(' '),this.length>t&&(e+=' ... ')),'<Buffer '+e+'>'},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e)){throw new TypeError('Argument must be a Buffer')}
if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length){throw new RangeError('out of range index')}
if(i>=r&&t>=n){return 0}
if(i>=r){return-1}
if(t>=n){return 1}
if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e){return 0}
for(var a=r-i,s=n-t,l=Math.min(a,s),c=this.slice(i,r),u=e.slice(t,n),p=0;p<l;++p){if(c[p]!==u[p]){a=c[p],s=u[p]
break}}return a<s?-1:s<a?1:0},o.prototype.indexOf=function(e,t,n){if('string'==typeof t?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length){return-1}
if(t>=this.length){return-1}
if(t<0&&(t=Math.max(this.length+t,0)),'string'==typeof e&&(e=o.from(e,n)),o.isBuffer(e)){return 0===e.length?-1:b(this,e,t,n)}
if('number'==typeof e){return o.TYPED_ARRAY_SUPPORT&&'function'===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):b(this,[e],t,n)}
throw new TypeError('val must be string, number or Buffer')},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.write=function(e,t,n,i){if(void 0===t){i='utf8',n=this.length,t=0}
else if(void 0===n&&'string'==typeof t){i=t,n=this.length,t=0}
else{if(!isFinite(t)){throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported')}
t|=0,isFinite(n)?(n|=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var r=this.length-t
if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length){throw new RangeError('Attempt to write outside buffer bounds')}
i||(i='utf8')
for(var o=!1;;){switch(i){case'hex':return x(this,e,t,n)
case'utf8':case'utf-8':return E(this,e,t,n)
case'ascii':return w(this,e,t,n)
case'binary':return _(this,e,t,n)
case'base64':return C(this,e,t,n)
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return T(this,e,t,n)
default:if(o){throw new TypeError('Unknown encoding: '+i)}
i=(''+i).toLowerCase(),o=!0}}},o.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}}
var Z=4096
o.prototype.slice=function(e,t){var n=this.length
e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e)
var i
if(o.TYPED_ARRAY_SUPPORT){i=this.subarray(e,t),i.__proto__=o.prototype}
else{var r=t-e
i=new o(r,void 0)
for(var a=0;a<r;a++){i[a]=this[a+e]}}return i},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length)
for(var i=this[e],r=1,o=0;++o<t&&(r*=256);){i+=this[e+o]*r}
return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length)
for(var i=this[e+--t],r=1;t>0&&(r*=256);){i+=this[e+--t]*r}
return i},o.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length)
for(var i=this[e],r=1,o=0;++o<t&&(r*=256);){i+=this[e+o]*r}
return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length)
for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);){o+=this[e+--i]*r}
return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||B(e,2,this.length)
var n=this[e]|this[e+1]<<8
return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||B(e,2,this.length)
var n=this[e+1]|this[e]<<8
return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=1,o=0
for(this[t]=255&e;++o<n&&(r*=256);){this[t+o]=e/r&255}
return t+n},o.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=n-1,o=1
for(this[t+r]=255&e;--r>=0&&(o*=256);){this[t+r]=e/o&255}
return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1)
D(this,e,t,n,r-1,-r)}var o=0,a=1,s=0
for(this[t]=255&e;++o<n&&(a*=256);){e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255}
return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1)
D(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0
for(this[t+o]=255&e;--o>=0&&(a*=256);){e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255}
return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n){return 0}
if(0===e.length||0===this.length){return 0}
if(t<0){throw new RangeError('targetStart out of bounds')}
if(n<0||n>=this.length){throw new RangeError('sourceStart out of bounds')}
if(i<0){throw new RangeError('sourceEnd out of bounds')}
i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n)
var r,a=i-n
if(this===e&&n<t&&t<i){for(r=a-1;r>=0;r--){e[r+t]=this[r+n]}}
else if(a<1e3||!o.TYPED_ARRAY_SUPPORT){for(r=0;r<a;r++){e[r+t]=this[r+n]}}
else {Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t)}
return a},o.prototype.fill=function(e,t,n,i){if('string'==typeof e){if('string'==typeof t?(i=t,t=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0)
r<256&&(e=r)}if(void 0!==i&&'string'!=typeof i){throw new TypeError('encoding must be a string')}
if('string'==typeof i&&!o.isEncoding(i)){throw new TypeError('Unknown encoding: '+i)}}else{'number'==typeof e&&(e&=255)}
if(t<0||this.length<t||this.length<n){throw new RangeError('Out of range index')}
if(n<=t){return this}
t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0)
var a
if('number'==typeof e){for(a=t;a<n;a++){this[a]=e}}
else{var s=o.isBuffer(e)?e:z(new o(e,i).toString()),l=s.length
for(a=0;a<n-t;a++){this[a+t]=s[a%l]}}return this}
var Q=/[^+\/0-9A-Za-z-_]/g}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'base64-js':2,ieee754:363,isarray:366}],189:[function(e,t,n){t.exports={name:'Camunda',uri:'http://camunda.org/schema/1.0/bpmn',prefix:'camunda',xml:{tagAlias:'lowerCase'},associations:[],types:[{name:'InOutBinding',superClass:['Element'],isAbstract:!0,properties:[{name:'source',isAttr:!0,type:'String'},{name:'sourceExpression',isAttr:!0,type:'String'},{name:'target',isAttr:!0,type:'String'},{name:'businessKey',isAttr:!0,type:'String'},{name:'local',isAttr:!0,type:'Boolean',default:!1},{name:'variables',isAttr:!0,type:'String'}]},{name:'In',superClass:['InOutBinding']},{name:'Out',superClass:['InOutBinding']},{name:'AsyncCapable',isAbstract:!0,extends:['bpmn:Activity','bpmn:Gateway','bpmn:Event'],properties:[{name:'async',isAttr:!0,type:'Boolean',default:!1},{name:'asyncBefore',isAttr:!0,type:'Boolean',default:!1},{name:'asyncAfter',isAttr:!0,type:'Boolean',default:!1},{name:'exclusive',isAttr:!0,type:'Boolean',default:!0}]},{name:'JobPriorized',isAbstract:!0,extends:['bpmn:Process','camunda:AsyncCapable'],properties:[{name:'jobPriority',isAttr:!0,type:'String'}]},{name:'SignalEventDefinition',isAbstract:!0,extends:['bpmn:SignalEventDefinition'],properties:[{name:'async',isAttr:!0,type:'Boolean',default:!1}]},{name:'ErrorEventDefinition',isAbstract:!0,extends:['bpmn:ErrorEventDefinition'],properties:[{name:'errorCodeVariable',isAttr:!0,type:'String'}]},{name:'PotentialStarter',superClass:['Element'],properties:[{name:'resourceAssignmentExpression',type:'bpmn:ResourceAssignmentExpression'}]},{name:'FormSupported',isAbstract:!0,extends:['bpmn:StartEvent','bpmn:UserTask'],properties:[{name:'formHandlerClass',isAttr:!0,type:'String'},{name:'formKey',isAttr:!0,type:'String'}]},{name:'Initiator',isAbstract:!0,extends:['bpmn:StartEvent'],properties:[{name:'initiator',isAttr:!0,type:'String'}]},{name:'ScriptTask',isAbstract:!0,extends:['bpmn:ScriptTask'],properties:[{name:'resultVariable',isAttr:!0,type:'String'},{name:'resource',isAttr:!0,type:'String'}]},{name:'Process',isAbstract:!0,extends:['bpmn:Process'],properties:[{name:'candidateStarterGroups',isAttr:!0,type:'String'},{name:'candidateStarterUsers',isAttr:!0,type:'String'},{name:'versionTag',isAttr:!0,type:'String'}]},{name:'EscalationEventDefinition',isAbstract:!0,extends:['bpmn:EscalationEventDefinition'],properties:[{name:'escalationCodeVariable',isAttr:!0,type:'String'}]},{name:'FormalExpression',isAbstract:!0,extends:['bpmn:FormalExpression'],properties:[{name:'resource',isAttr:!0,type:'String'}]},{name:'Assignable',extends:['bpmn:UserTask'],properties:[{name:'assignee',isAttr:!0,type:'String'},{name:'candidateUsers',isAttr:!0,type:'String'},{name:'excludedUsers',isAttr:!0,type:'String'},{name:'candidateGroups',isAttr:!0,type:'String'},{name:'excludedGroups',isAttr:!0,type:'String'},{name:'candidateRoles',isAttr:!0,type:'String'},{name:'excludedRoles',isAttr:!0,type:'String'},{name:'dueDate',isAttr:!0,type:'String'},{name:'followUpDate',isAttr:!0,type:'String'},{name:'priority',isAttr:!0,type:'String'}]},{name:'CallActivity',extends:['bpmn:CallActivity'],properties:[{name:'calledElementBinding',isAttr:!0,type:'String',default:'latest'},{name:'calledElementVersion',isAttr:!0,type:'Integer'},{name:'caseRef',isAttr:!0,type:'String'},{name:'caseBinding',isAttr:!0,type:'String',default:'latest'},{name:'caseVersion',isAttr:!0,type:'Integer'}]},{name:'ServiceTaskLike',extends:['bpmn:ServiceTask','bpmn:BusinessRuleTask','bpmn:SendTask','bpmn:MessageEventDefinition'],properties:[{name:'expression',isAttr:!0,type:'String'},{name:'class',isAttr:!0,type:'String'},{name:'delegateExpression',isAttr:!0,type:'String'},{name:'resultVariable',isAttr:!0,type:'String'}]},{name:'DmnCapable',extends:['bpmn:BusinessRuleTask'],properties:[{name:'decisionRef',isAttr:!0,type:'String'},{name:'decisionRefBinding',isAttr:!0,type:'String',default:'latest'},{name:'decisionRefVersion',isAttr:!0,type:'String'},{name:'mapDecisionResult',isAttr:!0,type:'String',default:'resultList'}]},{name:'ExternalCapable',extends:['camunda:ServiceTaskLike'],properties:[{name:'type',isAttr:!0,type:'String'},{name:'topic',isAttr:!0,type:'String'}]},{name:'TaskPriorized',extends:['bpmn:Process','camunda:ExternalCapable'],properties:[{name:'taskPriority',isAttr:!0,type:'String'}]},{name:'Properties',superClass:['Element'],properties:[{name:'values',type:'Property',isMany:!0}]},{name:'Property',superClass:['Element'],properties:[{name:'id',type:'String',isAttr:!0},{name:'name',type:'String',isAttr:!0},{name:'value',type:'String',isAttr:!0}]},{name:'Connector',superClass:['Element'],properties:[{name:'inputOutput',type:'InputOutput'},{name:'connectorId',type:'String'},{name:'ctype',type:'String'},{name:'url',type:'String'},{name:'method',type:'String'},{name:'data',type:'String'},{name:'headers',type:'String'},{name:'message',type:'String'},{name:'retries',type:'String'},{name:'timeout',type:'String'}]},{name:'EVFConnector',superClass:['Element'],properties:[{name:'connectorId',type:'String'},{name:'model',type:'String'},{name:'method',type:'String'},{name:'data',type:'String'},{name:'modelId',type:'String'},{name:'modelData',type:'String'},{name:'modelVersion',type:'String'}]},{name:'FinalizeTransactionConnector',superClass:['Element'],properties:[{name:'connectorId',type:'String'},{name:'FTType',type:'String'},{name:'FTValue',type:'String'}]},{name:'InputOutput',superClass:['Element'],properties:[{name:'inputOutput',type:'InputOutput'},{name:'connectorId',type:'String'},{name:'inputParameters',isMany:!0,type:'InputParameter'},{name:'outputParameters',isMany:!0,type:'OutputParameter'}]},{name:'InputOutputParameter',properties:[{name:'name',isAttr:!0,type:'String'},{name:'temp',isAttr:!0,type:'String'},{name:'value',isBody:!0,type:'String'},{name:'definition',type:'InputOutputParameterDefinition'}]},{name:'InputOutputParameterDefinition',isAbstract:!0},{name:'List',superClass:['InputOutputParameterDefinition'],properties:[{name:'items',isMany:!0,type:'InputOutputParameterDefinition'}]},{name:'Map',superClass:['InputOutputParameterDefinition'],properties:[{name:'entries',isMany:!0,type:'Entry'}]},{name:'Entry',properties:[{name:'key',isAttr:!0,type:'String'},{name:'value',isBody:!0,type:'String'},{name:'definition',type:'InputOutputParameterDefinition'}]},{name:'Value',superClass:['InputOutputParameterDefinition'],properties:[{name:'id',isAttr:!0,type:'String'},{name:'name',isAttr:!0,type:'String'},{name:'value',isBody:!0,type:'String'}]},{name:'Script',superClass:['InputOutputParameterDefinition'],properties:[{name:'scriptFormat',isAttr:!0,type:'String'},{name:'resource',isAttr:!0,type:'String'},{name:'value',isBody:!0,type:'String'}]},{name:'Field',superClass:['Element'],properties:[{name:'name',isAttr:!0,type:'String'},{name:'expression',isAttr:!0,type:'String'},{name:'stringValue',isAttr:!0,type:'String'},{name:'string',type:'String'}]},{name:'InputParameter',superClass:['InputOutputParameter'],properties:[{name:'eventType',isAttr:!0,type:'String'},{name:'assignmentType',isAttr:!0,type:'String'}]},{name:'OutputParameter',superClass:['InputOutputParameter'],properties:[{name:'eventType',isAttr:!0,type:'String'},{name:'assignmentType',isAttr:!0,type:'String'}]},{name:'Collectable',isAbstract:!0,extends:['bpmn:MultiInstanceLoopCharacteristics'],superClass:['camunda:AsyncCapable'],properties:[{name:'collection',isAttr:!0,type:'String'},{name:'elementVariable',isAttr:!0,type:'String'}]},{name:'FailedJobRetryTimeCycle',superClass:['Element'],properties:[{name:'body',isBody:!0,type:'String'}]},{name:'ExecutionListener',superClass:['Element'],properties:[{name:'expression',isAttr:!0,type:'String'},{name:'class',isAttr:!0,type:'String'},{name:'delegateExpression',isAttr:!0,type:'String'},{name:'event',isAttr:!0,type:'String'},{name:'script',type:'Script'},{name:'field',type:'Field'}]},{name:'TaskListener',superClass:['Element'],properties:[{name:'expression',isAttr:!0,type:'String'},{name:'class',isAttr:!0,type:'String'},{name:'delegateExpression',isAttr:!0,type:'String'},{name:'event',isAttr:!0,type:'String'},{name:'script',type:'Script'},{name:'field',type:'Field'}]},{name:'FormProperty',superClass:['Element'],properties:[{name:'id',type:'String',isAttr:!0},{name:'name',type:'String',isAttr:!0},{name:'type',type:'String',isAttr:!0},{name:'required',type:'String',isAttr:!0},{name:'readable',type:'String',isAttr:!0},{name:'writable',type:'String',isAttr:!0},{name:'variable',type:'String',isAttr:!0},{name:'expression',type:'String',isAttr:!0},{name:'datePattern',type:'String',isAttr:!0},{name:'default',type:'String',isAttr:!0},{name:'values',type:'Value',isMany:!0}]},{name:'FormData',superClass:['Element'],properties:[{name:'fields',type:'FormField',isMany:!0}]},{name:'FormField',superClass:['Element'],properties:[{name:'id',type:'String',isAttr:!0},{name:'label',type:'String',isAttr:!0},{name:'type',type:'String',isAttr:!0},{name:'datePattern',type:'String',isAttr:!0},{name:'defaultValue',type:'String',isAttr:!0},{name:'properties',type:'Properties'},{name:'validation',type:'Validation'},{name:'values',type:'Value',isMany:!0}]},{name:'Validation',superClass:['Element'],properties:[{name:'constraints',type:'Constraint',isMany:!0}]},{name:'Constraint',superClass:['Element'],properties:[{name:'name',type:'String',isAttr:!0},{name:'config',type:'String',isAttr:!0}]}],emumerations:[]}},{}],190:[function(e,t,n){function i(e){if(!e||!e.nodeType){throw new Error('A DOM element reference is required')}
this.el=e,this.list=e.classList}try{var r=e('indexof')}catch(t){var r=e('component-indexof')}var o=Object.prototype.toString
t.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list){return this.list.add(e),this}
var t=this.array()
return~r(t,e)||t.push(e),this.el.className=t.join(' '),this},i.prototype.remove=function(e){if('[object RegExp]'==o.call(e)){return this.removeMatching(e)}
if(this.list){return this.list.remove(e),this}
var t=this.array(),n=r(t,e)
return~n&&t.splice(n,1),this.el.className=t.join(' '),this},i.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++){e.test(t[n])&&this.remove(t[n])}
return this},i.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=this.el.getAttribute('class')||'',t=e.replace(/^\s+|\s+$/g,''),n=t.split(/\s+/)
return''===n[0]&&n.shift(),n},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},{'component-indexof':194,indexof:194}],191:[function(e,t,n){var i=e('matches-selector')
t.exports=function(e,t,n,r){for(e=n?{parentNode:e}:e,r=r||document;(e=e.parentNode)&&e!==document;){if(i(e,t)){return e}
if(e===r){return}}}},{'matches-selector':195}],192:[function(e,t,n){try{var i=e('closest')}catch(t){var i=e('component-closest')}try{var r=e('event')}catch(t){var r=e('component-event')}n.bind=function(e,t,n,o,a){return r.bind(e,n,function(n){var r=n.target||n.srcElement
n.delegateTarget=i(r,t,!0,e),n.delegateTarget&&o.call(e,n)},a)},n.unbind=function(e,t,n,i){r.unbind(e,t,n,i)}},{closest:191,'component-closest':191,'component-event':193,event:193}],193:[function(e,t,n){var i=window.addEventListener?'addEventListener':'attachEvent',r=window.removeEventListener?'removeEventListener':'detachEvent',o='addEventListener'!==i?'on':''
n.bind=function(e,t,n,r){return e[i](o+t,n,r||!1),n},n.unbind=function(e,t,n,i){return e[r](o+t,n,i||!1),n}},{}],194:[function(e,t,n){t.exports=function(e,t){if(e.indexOf){return e.indexOf(t)}
for(var n=0;n<e.length;++n){if(e[n]===t){return n}}
return-1}},{}],195:[function(e,t,n){function i(e,t){if(!e||1!==e.nodeType){return!1}
if(a){return a.call(e,t)}
for(var n=r.all(t,e.parentNode),i=0;i<n.length;++i){if(n[i]==e){return!0}}
return!1}try{var r=e('query')}catch(t){var r=e('component-query')}var o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector
t.exports=i},{'component-query':196,query:196}],196:[function(e,t,n){function i(e,t){return t.querySelector(e)}n=t.exports=function(e,t){return t=t||document,i(e,t)},n.all=function(e,t){return t=t||document,t.querySelectorAll(e)},n.engine=function(e){if(!e.one){throw new Error('.one callback required')}
if(!e.all){throw new Error('.all callback required')}
return i=e.one,n.all=e.all,n}},{}],197:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):'[object Array]'===v(e)}function i(e){return'boolean'==typeof e}function r(e){return null===e}function o(e){return null==e}function a(e){return'number'==typeof e}function s(e){return'string'==typeof e}function l(e){return'symbol'==typeof e}function c(e){return void 0===e}function u(e){return'[object RegExp]'===v(e)}function p(e){return'object'==typeof e&&null!==e}function d(e){return'[object Date]'===v(e)}function f(e){return'[object Error]'===v(e)||e instanceof Error}function h(e){return'function'==typeof e}function m(e){return null===e||'boolean'==typeof e||'number'==typeof e||'string'==typeof e||'symbol'==typeof e||void 0===e}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=i,n.isNull=r,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=l,n.isUndefined=c,n.isRegExp=u,n.isObject=p,n.isDate=d,n.isError=f,n.isFunction=h,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e('../../is-buffer/index.js')})},{'../../is-buffer/index.js':365}],198:[function(e,t,n){t.exports={__depends__:[e('diagram-js/lib/features/interaction-events')],__init__:['directEditing'],directEditing:['type',e('./lib/DirectEditing')]}},{'./lib/DirectEditing':199,'diagram-js/lib/features/interaction-events':248}],199:[function(e,t,n){'use strict'
function i(e,t){this._eventBus=e,this._providers=[],this._textbox=new a({container:t.getContainer(),keyHandler:r(this._handleKey,this)})}var r=e('lodash/function/bind'),o=e('lodash/collection/find'),a=e('./TextBox')
i.$inject=['eventBus','canvas'],i.prototype.registerProvider=function(e){this._providers.push(e)},i.prototype.isActive=function(){return!!this._active},i.prototype.cancel=function(){this._active&&(this._fire('cancel'),this.close())},i.prototype._fire=function(e){this._eventBus.fire('directEditing.'+e,{active:this._active})},i.prototype.close=function(){this._textbox.destroy(),this._fire('deactivate'),this._active=null},i.prototype.complete=function(){var e=this._active
if(e){var t=this.getValue()
t!==e.context.text&&e.provider.update(e.element,t,e.context.text),this._fire('complete'),this.close()}},i.prototype.getValue=function(){return this._textbox.getValue()},i.prototype._handleKey=function(e){e.stopPropagation()
var t=e.keyCode||e.charCode
return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},i.prototype.activate=function(e){this.isActive()&&this.cancel()
var t,n=o(this._providers,function(n){return(t=n.activate(e))?n:null})
return t&&(this._textbox.create(t.bounds,t.style,t.text),this._active={element:e,context:t,provider:n},this._fire('activate')),!!t},t.exports=i},{'./TextBox':200,'lodash/collection/find':381,'lodash/function/bind':392}],200:[function(e,t,n){'use strict'
function i(e){e.stopPropagation()}function r(e){this.container=e.container,this.textarea=document.createElement('textarea'),this.keyHandler=e.keyHandler||function(){}}var o=e('lodash/object/assign'),a=e('min-dom/lib/event'),s=e('min-dom/lib/remove')
t.exports=r,r.prototype.create=function(e,t,n){var r=this.textarea,s=this.container
o(r.style,{width:e.width+'px',height:e.height+'px',left:e.x+'px',top:e.y+'px',position:'absolute',textAlign:'center',boxSizing:'border-box'},t||{}),r.value=n,r.title='Press SHIFT+Enter for line feed',a.bind(r,'keydown',this.keyHandler),a.bind(r,'mousedown',i),s.appendChild(r),setTimeout(function(){r.parent&&r.select(),r.focus()},100)},r.prototype.destroy=function(){var e=this.textarea
e.value='',a.unbind(e,'keydown',this.keyHandler),a.unbind(e,'mousedown',i),s(e)},r.prototype.getValue=function(){return this.textarea.value}},{'lodash/object/assign':512,'min-dom/lib/event':531,'min-dom/lib/remove':534}],201:[function(e,t,n){t.exports=e('./lib/Diagram')},{'./lib/Diagram':202}],202:[function(e,t,n){'use strict'
function i(e){function t(e){return r.indexOf(e)>=0}function n(e){r.push(e)}function i(e){t(e)||((e.__depends__||[]).forEach(i),t(e)||(n(e),(e.__init__||[]).forEach(function(e){o.push(e)})))}var r=[],o=[]
e.forEach(i)
var s=new a.Injector(r)
return o.forEach(function(e){try{s['string'==typeof e?'get':'invoke'](e)}catch(e){throw console.error('Failed to instantiate component'),console.error(e.stack),e}}),s}function r(t){return t=t||{},i([{config:['value',t]},e('./core')].concat(t.modules||[]))}function o(e,t){this.injector=t=t||r(e),this.get=t.get,this.invoke=t.invoke,this.get('eventBus').fire('diagram.init')}var a=e('didi')
t.exports=o,o.prototype.destroy=function(){this.get('eventBus').fire('diagram.destroy')},o.prototype.clear=function(){this.get('eventBus').fire('diagram.clear')}},{'./core':211,didi:354}],203:[function(e,t,n){'use strict'
function i(e){return'object'==typeof e}function r(e){this._eventBus=e}function o(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}var a=e('lodash/collection/forEach'),s=e('lodash/lang/isFunction'),l=e('lodash/lang/isArray'),c=e('lodash/lang/isNumber')
r.$inject=['eventBus'],t.exports=r,r.prototype.on=function(e,t,n,r,u,p){if((s(t)||c(t))&&(p=u,u=r,r=n,n=t,t=null),s(n)&&(p=u,u=r,r=n,n=1e3),i(u)&&(p=u,u=!1),!s(r)){throw new Error('handlerFn must be a function')}
l(e)||(e=[e])
var d=this._eventBus
a(e,function(e){var i=['commandStack',e,t].filter(function(e){return e}).join('.')
d.on(i,n,u?o(r,p):r,p)})},a(['canExecute','preExecute','preExecuted','execute','executed','postExecute','postExecuted','revert','reverted'],function(e){r.prototype[e]=function(t,n,i,r,o){(s(t)||c(t))&&(o=r,r=i,i=n,n=t,t=null),this.on(t,e,n,i,r,o)}})},{'lodash/collection/forEach':382,'lodash/lang/isArray':502,'lodash/lang/isFunction':504,'lodash/lang/isNumber':506}],204:[function(e,t,n){'use strict'
function i(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=t,this._eventBus=e,this._uid=1,e.on(['diagram.destroy','diagram.clear'],this.clear,this)}var r=e('lodash/array/unique'),o=e('lodash/lang/isArray'),a=e('lodash/object/assign'),s=e('../core/EventBus').Event
i.$inject=['eventBus','injector'],t.exports=i,i.prototype.execute=function(e,t){if(!e){throw new Error('command required')}
var n={command:e,context:t}
this._pushAction(n),this._internalExecute(n),this._popAction(n)},i.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e),r=this._fire(e,'canExecute',n)
if(void 0===r){if(!i){return!1}
i.canExecute&&(r=i.canExecute(t))}return r},i.prototype.clear=function(){this._stack.length=0,this._stackIdx=-1,this._fire('changed')},i.prototype.undo=function(){var e,t=this._getUndoAction()
if(t){for(this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);){t=e}
this._popAction()}},i.prototype.redo=function(){var e,t=this._getRedoAction()
if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);){t=e}
this._popAction()}},i.prototype.register=function(e,t){this._setHandler(e,t)},i.prototype.registerHandler=function(e,t){if(!e||!t){throw new Error('command and handlerCls must be defined')}
var n=this._injector.instantiate(t)
this.register(e,n)},i.prototype.canUndo=function(){return!!this._getUndoAction()},i.prototype.canRedo=function(){return!!this._getRedoAction()},i.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},i.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},i.prototype._internalUndo=function(e){var t=this,n=e.command,i=e.context,r=this._getHandler(n)
this._atomicDo(function(){t._fire(n,'revert',e),r.revert&&t._markDirty(r.revert(i)),t._revertedAction(e),t._fire(n,'reverted',e)})},i.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null)
var i,r,o,l=t?[e+'.'+t,t]:[e]
for(n=a(new s,n),i=0;(r=l[i])&&(o=this._eventBus.fire('commandStack.'+r,n),!n.cancelBubble);i++){}return o},i.prototype._createId=function(){return this._uid++},i.prototype._atomicDo=function(e){var t=this._currentExecution
t.atomic=!0
try{e()}finally{t.atomic=!1}},i.prototype._internalExecute=function(e,t){var n=this,i=e.command,r=e.context,o=this._getHandler(i)
if(!o){throw new Error('no command handler registered for <'+i+'>')}
this._pushAction(e),t||(this._fire(i,'preExecute',e),o.preExecute&&o.preExecute(r),this._fire(i,'preExecuted',e)),this._atomicDo(function(){n._fire(i,'execute',e),o.execute&&n._markDirty(o.execute(r)),n._executedAction(e,t),n._fire(i,'executed',e)}),t||(this._fire(i,'postExecute',e),o.postExecute&&o.postExecute(r),this._fire(i,'postExecuted',e)),this._popAction(e)},i.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0]
if(t.atomic){throw new Error('illegal invocation in <execute> or <revert> phase (action: '+e.command+')')}
e.id||(e.id=i&&i.id||this._createId()),n.push(e)},i.prototype._popAction=function(){var e=this._currentExecution,t=e.actions,n=e.dirty
t.pop(),t.length||(this._eventBus.fire('elements.changed',{elements:r(n)}),n.length=0,this._fire('changed'))},i.prototype._markDirty=function(e){var t=this._currentExecution
e&&(e=o(e)?e:[e],t.dirty=t.dirty.concat(e))},i.prototype._executedAction=function(e,t){var n=++this._stackIdx
t||this._stack.splice(n,this._stack.length,e)},i.prototype._revertedAction=function(e){this._stackIdx--},i.prototype._getHandler=function(e){return this._handlerMap[e]},i.prototype._setHandler=function(e,t){if(!e||!t){throw new Error('command and handler required')}
if(this._handlerMap[e]){throw new Error('overriding handler for command <'+e+'>')}
this._handlerMap[e]=t}},{'../core/EventBus':209,'lodash/array/unique':374,'lodash/lang/isArray':502,'lodash/object/assign':512}],205:[function(e,t,n){t.exports={commandStack:['type',e('./CommandStack')]}},{'./CommandStack':204}],206:[function(e,t,n){'use strict'
function i(e,t){return Math.round(e*t)/t}function r(e){return c(e)?e+'px':e}function o(e){e=u({},{width:'100%',height:'100%'},e)
var t=e.container||document.body,n=document.createElement('div')
return n.setAttribute('class','djs-container'),u(n.style,{position:'relative',overflow:'hidden',width:r(e.width),height:r(e.height)}),t.appendChild(n),n}function a(e,t){return e.group().attr({class:t})}function s(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function l(e,t){var n='matrix('+t.a+','+t.b+','+t.c+','+t.d+','+t.e+','+t.f+')'
e.setAttribute('transform',n)}var c=e('lodash/lang/isNumber'),u=e('lodash/object/assign'),p=e('lodash/collection/forEach'),d=e('lodash/collection/every'),f=e('lodash/function/debounce'),h=e('../util/Collections'),m=e('../util/Elements'),v=e('../../vendor/snapsvg'),g={shape:['x','y','width','height'],connection:['waypoints']}
s.$inject=['config.canvas','eventBus','graphicsFactory','elementRegistry'],t.exports=s,s.prototype._init=function(e){var t=this._eventBus,n=this._container=o(e),i=this._svg=v.createSnapAt('100%','100%',n),r=this._viewport=a(i,'viewport')
this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=f(this._viewboxChanged,300)),t.on('diagram.init',function(){t.fire('canvas.init',{svg:i,viewport:r}),this.resized()},this),t.on('diagram.destroy',500,this._destroy,this),t.on('diagram.clear',500,this._clear,this)},s.prototype._destroy=function(e){this._eventBus.fire('canvas.destroy',{svg:this._svg,viewport:this._viewport})
var t=this._container.parentNode
t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},s.prototype._clear=function(){var e=this
this._elementRegistry.getAll().forEach(function(t){var n=m.getType(t)
'root'===n?e.setRootElement(null,!0):e._removeElement(t,n)}),delete this._cachedViewbox},s.prototype.getDefaultLayer=function(){return this.getLayer('base')},s.prototype.getLayer=function(e){if(!e){throw new Error('must specify a name')}
var t=this._layers[e]
return t||(t=this._layers[e]=a(this._viewport,'layer-'+e)),t},s.prototype.getContainer=function(){return this._container},s.prototype._updateMarker=function(e,t,n){var i
e.id||(e=this._elementRegistry.get(e)),(i=this._elementRegistry._elements[e.id])&&(p([i.gfx,i.secondaryGfx],function(e){e&&e[n?'addClass':'removeClass'](t)}),this._eventBus.fire('element.marker.update',{element:e,gfx:i.gfx,marker:t,add:!!n}))},s.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},s.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},s.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e))
var n=this.getGraphics(e)
return n&&n.hasClass(t)},s.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},s.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:'__implicitroot',children:[]}),this._rootElement},s.prototype.setRootElement=function(e,t){e&&this._ensureValid('root',e)
var n=this._rootElement,i=this._elementRegistry,r=this._eventBus
if(n){if(!t){throw new Error('rootElement already set, need to specify override')}
r.fire('root.remove',{element:n}),r.fire('root.removed',{element:n}),i.remove(n)}if(e){var o=this.getDefaultLayer()
r.fire('root.add',{element:e}),i.add(e,o,this._svg),r.fire('root.added',{element:e,gfx:o})}return this._rootElement=e,e},s.prototype._ensureValid=function(e,t){if(!t.id){throw new Error('element must have an id')}
if(this._elementRegistry.get(t.id)){throw new Error('element with id '+t.id+' already exists')}
var n=g[e]
if(!d(n,function(e){return void 0!==t[e]})){throw new Error('must supply { '+n.join(', ')+' } with '+e)}},s.prototype._setParent=function(e,t,n){h.add(t.children,e,n),e.parent=t},s.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement()
var r=this._eventBus,o=this._graphicsFactory
this._ensureValid(e,t),r.fire(e+'.add',{element:t,parent:n}),this._setParent(t,n,i)
var a=o.create(e,t)
return this._elementRegistry.add(t,a),o.update(e,t,a),r.fire(e+'.added',{element:t,gfx:a}),t},s.prototype.addShape=function(e,t,n){return this._addElement('shape',e,t,n)},s.prototype.addConnection=function(e,t,n){return this._addElement('connection',e,t,n)},s.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus
if(e=n.get(e.id||e)){return r.fire(t+'.remove',{element:e}),i.remove(e),h.remove(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+'.removed',{element:e}),n.remove(e),e}},s.prototype.removeShape=function(e){return this._removeElement(e,'shape')},s.prototype.removeConnection=function(e){return this._removeElement(e,'connection')},s.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},s.prototype._changeViewbox=function(e){this._eventBus.fire('canvas.viewbox.changing'),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},s.prototype._viewboxChanged=function(){this._eventBus.fire('canvas.viewbox.changed',{viewbox:this.viewbox()})},s.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox){return this._cachedViewbox}
var t,n,r,o,a,s=this._viewport,l=this.getSize()
return e?(this._changeViewbox(function(){r=Math.min(l.width/e.width,l.height/e.height),n=(new v.Matrix).scale(r).translate(-e.x,-e.y),s.transform(n)}),e):(t=this.getDefaultLayer().getBBox(!0),n=s.transform().localMatrix,r=i(n.a,1e3),o=i(-n.e||0,1e3),a=i(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/r:0,y:a?a/r:0,width:l.width/r,height:l.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:l})},s.prototype.scroll=function(e){var t=this._viewport.node,n=t.getCTM()
return e&&this._changeViewbox(function(){e=u({dx:0,dy:0},e||{}),n=this._svg.node.createSVGMatrix().translate(e.dx,e.dy).multiply(n),l(t,n)}),{x:n.e,y:n.f}},s.prototype.zoom=function(e,t){if(!e){return this.viewbox(e).scale}
if('fit-viewport'===e){return this._fitViewport(t)}
var n,r
return this._changeViewbox(function(){'object'!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)}),i(r.a,1e3)},s.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,o=i.inner
return o.x>=0&&o.y>=0&&o.x+o.width<=r.width&&o.y+o.height<=r.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,r.width),height:Math.max(o.height+o.y,r.height)}:(t=Math.min(1,r.width/o.width,r.height/o.height),n={x:o.x+(e?o.width/2-r.width/t/2:0),y:o.y+(e?o.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},s.prototype._setZoom=function(e,t){var n,i,r,o,a,s=this._svg.node,c=this._viewport.node,p=s.createSVGMatrix(),d=s.createSVGPoint()
r=c.getCTM()
var f=r.a
return t?(n=u(d,t),i=n.matrixTransform(r.inverse()),o=p.translate(i.x,i.y).scale(1/f*e).translate(-i.x,-i.y),a=r.multiply(o)):a=p.scale(e),l(this._viewport.node,a),a},s.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},s.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox()
if(e.waypoints){var i=this.getGraphics(e),r=i.getBBox(!0)
t=i.getBBox(),t.x-=r.x,t.y-=r.y,t.width+=2*r.x,t.height+=2*r.y}else {t=e}
return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},s.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire('canvas.resized')}},{'../../vendor/snapsvg':352,'../util/Collections':336,'../util/Elements':339,'lodash/collection/every':379,'lodash/collection/forEach':382,'lodash/function/debounce':393,'lodash/lang/isNumber':506,'lodash/object/assign':512}],207:[function(e,t,n){'use strict'
function i(){this._uid=12}var r=e('../model')
t.exports=i,i.prototype.createRoot=function(e){return this.create('root',e)},i.prototype.createLabel=function(e){return this.create('label',e)},i.prototype.createShape=function(e){return this.create('shape',e)},i.prototype.createConnection=function(e){return this.create('connection',e)},i.prototype.create=function(e,t){return t=t||{},t.id||(t.id=e+'_'+this._uid++),r.create(e,t)}},{'../model':327}],208:[function(e,t,n){'use strict'
function i(){this._elements={}}var r='data-element-id'
t.exports=i,i.prototype.add=function(e,t,n){var i=e.id
this._validateId(i),t.attr(r,i),n&&n.attr(r,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},i.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n]
i&&(i.gfx.attr(r,''),i.secondaryGfx&&i.secondaryGfx.attr(r,''),delete t[n])},i.prototype.updateId=function(e,t){this._validateId(t),'string'==typeof e&&(e=this.get(e))
var n=this.getGraphics(e),i=this.getGraphics(e,!0)
this.remove(e),e.id=t,this.add(e,n,i)},i.prototype.get=function(e){var t
t='string'==typeof e?e:e&&e.attr(r)
var n=this._elements[t]
return n&&n.element},i.prototype.filter=function(e){var t=[]
return this.forEach(function(n,i){e(n,i)&&t.push(n)}),t},i.prototype.getAll=function(){return this.filter(function(e){return e})},i.prototype.forEach=function(e){var t=this._elements
Object.keys(t).forEach(function(n){var i=t[n],r=i.element,o=i.gfx
return e(r,o)})},i.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n]
return i&&(t?i.secondaryGfx:i.gfx)},i.prototype._validateId=function(e){if(!e){throw new Error('element must have an id')}
if(this._elements[e]){throw new Error('element with id '+e+' already added')}}},{}],209:[function(e,t,n){'use strict'
function i(){this._listeners={},this.on('diagram.destroy',1,this._destroy,this)}function r(){}function o(e,t){return e.apply(null,t)}var a=e('lodash/lang/isFunction'),s=e('lodash/lang/isArray'),l=e('lodash/lang/isNumber'),c=e('lodash/function/bind'),u=e('lodash/object/assign'),p=Array.prototype.slice
t.exports=i,i.prototype.on=function(e,t,n,i){if(e=s(e)?e:[e],a(t)&&(i=n,n=t,t=1e3),!l(t)){throw new Error('priority must be a number')}
var r=n
i&&(r=c(n,i),r.__fn=n.__fn||n)
var o=this,u={priority:t,callback:r}
e.forEach(function(e){o._addListener(e,u)})},i.prototype.once=function(e,t,n,i){function r(){return o.off(e,r),n.apply(i,arguments)}var o=this
if(a(t)&&(i=n,n=t,t=1e3),!l(t)){throw new Error('priority must be a number')}
r.__fn=n,this.on(e,t,r)},i.prototype.off=function(e,t){var n,i,r,o=this._getListeners(e)
if(t){for(r=o.length-1;n=o[r];r--){(i=n.callback)!==t&&i.__fn!==t||o.splice(r,1)}}
else {o.length=0}},i.prototype.fire=function(e,t){var n,i,o,a
if(a=p.call(arguments),'object'==typeof e&&(n=e,e=n.type),!e){throw new Error('no event type specified')}
if(i=this._listeners[e]){t instanceof r?n=t:(n=new r,n.init(t)),a[0]=n
var s=n.type
e!==s&&(n.type=e)
try{o=this._invokeListeners(n,a,i)}finally{e!==s&&(n.type=s)}return void 0===o&&n.defaultPrevented&&(o=!1),o}},i.prototype.handleError=function(e){return!1===this.fire('error',{error:e})},i.prototype._destroy=function(){this._listeners={}},i.prototype._invokeListeners=function(e,t,n){var i,r,o
for(i=0;(r=n[i])&&!e.cancelBubble;i++){o=this._invokeListener(e,t,r)}
return o},i.prototype._invokeListener=function(e,t,n){var i
try{i=o(n.callback,t),void 0!==i&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e)){throw console.error('unhandled error in event listener'),console.error(e.stack),e}}return i},i.prototype._addListener=function(e,t){var n,i,r=this._getListeners(e)
for(i=0;n=r[i];i++){if(n.priority<t.priority){return void r.splice(i,0,t)}}
r.push(t)},i.prototype._getListeners=function(e){var t=this._listeners[e]
return t||(this._listeners[e]=t=[]),t},t.exports.Event=r,r.prototype.stopPropagation=function(){this.cancelBubble=!0},r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.init=function(e){u(this,e||{})}},{'lodash/function/bind':392,'lodash/lang/isArray':502,'lodash/lang/isFunction':504,'lodash/lang/isNumber':506,'lodash/object/assign':512}],210:[function(e,t,n){'use strict'
function i(e,t){this._eventBus=e,this._elementRegistry=t}var r=e('lodash/collection/forEach'),o=e('lodash/collection/reduce'),a=e('../util/GraphicsUtil'),s=e('min-dom/lib/clear')
i.$inject=['eventBus','elementRegistry'],t.exports=i,i.prototype._getChildren=function(e){var t,n=this._elementRegistry.getGraphics(e)
return e.parent?(t=a.getChildren(n))||(t=n.parent().group().attr('class','djs-children')):t=n,t},i.prototype._clear=function(e){var t=a.getVisual(e)
return s(t.node),t},i.prototype._createContainer=function(e,t){var n=t.group().attr('class','djs-group'),i=n.group().attr('class','djs-element djs-'+e)
return i.group().attr('class','djs-visual'),i},i.prototype.create=function(e,t){var n=this._getChildren(t.parent)
return this._createContainer(e,n)},i.prototype.updateContainments=function(e){var t,n=this,i=this._elementRegistry
t=o(e,function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e},{}),r(t,function(e){var t=n._getChildren(e),o=e.children
o&&r(o.slice().reverse(),function(e){i.getGraphics(e).parent().prependTo(t)})})},i.prototype.drawShape=function(e,t){return this._eventBus.fire('render.shape',{gfx:e,element:t})},i.prototype.getShapePath=function(e){return this._eventBus.fire('render.getShapePath',e)},i.prototype.drawConnection=function(e,t){return this._eventBus.fire('render.connection',{gfx:e,element:t})},i.prototype.getConnectionPath=function(e){return this._eventBus.fire('render.getConnectionPath',e)},i.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n)
if('shape'===e){this.drawShape(i,t),n.translate(t.x,t.y)}
else{if('connection'!==e){throw new Error('unknown type: '+e)}
this.drawConnection(i,t)}n.attr('display',t.hidden?'none':'block')}},i.prototype.remove=function(e){this._elementRegistry.getGraphics(e).parent().remove()}},{'../util/GraphicsUtil':342,'lodash/collection/forEach':382,'lodash/collection/reduce':387,'min-dom/lib/clear':527}],211:[function(e,t,n){t.exports={__depends__:[e('../draw')],__init__:['canvas'],canvas:['type',e('./Canvas')],elementRegistry:['type',e('./ElementRegistry')],elementFactory:['type',e('./ElementFactory')],eventBus:['type',e('./EventBus')],graphicsFactory:['type',e('./GraphicsFactory')]}},{'../draw':215,'./Canvas':206,'./ElementFactory':207,'./ElementRegistry':208,'./EventBus':209,'./GraphicsFactory':210}],212:[function(e,t,n){'use strict'
function i(e,t){var n=this
t=t||r,e.on(['render.shape','render.connection'],t,function(e,t){var i=e.type,r=t.element,o=t.gfx
if(n.canRender(r)){return'render.shape'===i?n.drawShape(o,r):n.drawConnection(o,r)}}),e.on(['render.getShapePath','render.getConnectionPath'],t,function(e,t){if(n.canRender(t)){return'render.getShapePath'===e.type?n.getShapePath(t):n.getConnectionPath(t)}})}var r=1e3
i.prototype.canRender=function(){},i.prototype.drawShape=function(){},i.prototype.drawConnection=function(){},i.prototype.getShapePath=function(){},i.prototype.getConnectionPath=function(){},t.exports=i},{}],213:[function(e,t,n){'use strict'
function i(e,t){o.call(this,e,c),this.CONNECTION_STYLE=t.style(['no-fill'],{strokeWidth:5,stroke:'fuchsia'}),this.SHAPE_STYLE=t.style({fill:'white',stroke:'fuchsia',strokeWidth:2})}var r=e('inherits'),o=e('./BaseRenderer'),a=e('../util/RenderUtil'),s=a.componentsToPath,l=a.createLine,c=1
r(i,o),i.prototype.canRender=function(){return!0},i.prototype.drawShape=function(e,t){return e.rect(0,0,t.width||0,t.height||0).attr(this.SHAPE_STYLE)},i.prototype.drawConnection=function(e,t){return l(t.waypoints,this.CONNECTION_STYLE).appendTo(e)},i.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width,r=e.height
return s([['M',t,n],['l',i,0],['l',0,r],['l',-i,0],['z']])},i.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[]
for(t=0;n=i[t];t++){n=n.original||n,r.push([0===t?'M':'L',n.x,n.y])}
return s(r)},i.$inject=['eventBus','styles'],t.exports=i},{'../util/RenderUtil':350,'./BaseRenderer':212,inherits:364}],214:[function(e,t,n){'use strict'
function i(){var e={'no-fill':{fill:'none'},'no-border':{strokeOpacity:0},'no-events':{pointerEvents:'none'}},t=this
this.cls=function(e,t,n){var i=this.style(t,n)
return o(i,{class:e})},this.style=function(t,n){r(t)||n||(n=t,t=[])
var i=a(t,function(t,n){return o(t,e[n]||{})},{})
return n?o(i,n):i},this.computeStyle=function(e,n,i){return r(n)||(i=n,n=[]),t.style(n||[],o({},i,e||{}))}}var r=e('lodash/lang/isArray'),o=e('lodash/object/assign'),a=e('lodash/collection/reduce')
t.exports=i},{'lodash/collection/reduce':387,'lodash/lang/isArray':502,'lodash/object/assign':512}],215:[function(e,t,n){t.exports={__init__:['defaultRenderer'],defaultRenderer:['type',e('./DefaultRenderer')],styles:['type',e('./Styles')]}},{'./DefaultRenderer':213,'./Styles':214}],216:[function(e,t,n){'use strict'
function i(e,t,n,i){y.call(this,e),e.on('shape.move.start',g,function(e){var t=e.context,n=t.shapes,i=t.validatedShapes
t.shapes=o(n),t.validatedShapes=a(i)}),this.postExecuted(['elements.move'],function(e){var n=e.context,i=n.delta,o=n.newParent,a=n.closure,l=a.enclosedElements,c=r(l)
s(c,function(e){l[e.id]||t.moveShape(e,i,o)})}),this.postExecuted(['elements.move'],function(e){var n,i=e.context,r=i.shapes,o=i.newHost
r.length>1||(n=o?r:u(r,function(e){return!!e.host}),s(n,function(e){t.updateAttachment(e,o)}))}),this.postExecuted(['elements.move'],function(e){var n=e.context.shapes
s(n,function(e){s(e.attachers,function(e){s(e.outgoing.slice(),function(e){i.allowed('connection.reconnectStart',{connection:e,source:e.source,target:e.target})||t.removeConnection(e)}),s(e.incoming.slice(),function(e){i.allowed('connection.reconnectEnd',{connection:e,source:e.source,target:e.target})||t.removeConnection(e)})})})}),this.postExecute(['shape.create'],function(e){var n=e.context,i=n.shape,r=n.host
r&&t.updateAttachment(i,r)}),this.postExecute(['shape.replace'],function(e){var n=e.context,r=n.oldShape,o=n.newShape
f(r.attachers,function(e){'attach'===i.allowed('elements.move',{target:o,shapes:[e]})?t.updateAttachment(e,o):t.removeShape(e)}),o.attachers.length&&s(o.attachers,function(e){var n=m(e,r,o)
t.moveShape(e,n,e.parent)})}),this.postExecute(['shape.resize'],function(e){var n=e.context,i=n.shape,r=n.oldBounds,o=n.newBounds,a=i.attachers
a.length&&s(a,function(e){var n=m(e,r,o)
t.moveShape(e,n,e.parent),e.label&&t.moveShape(e.label,n,e.label.parent)})}),this.preExecute(['shape.delete'],function(e){var n=e.context.shape
f(n.attachers,function(e){t.removeShape(e)}),n.host&&t.updateAttachment(n,null)}),e.on('spaceTool.move',function(e){var t=e.context.movingShapes,n=u(t,function(e){return e.host&&e.host.id})
s(n,function(e){h.remove(t,e),e.label&&h.remove(t,e.label)})})}function r(e){return l(d(e,function(e){return e.attachers||[]}))}function o(e){var t=r(e)
return c(e,t)}function a(e){var t=p(e,'id')
return u(e,function(e){for(;e;){if(e.host&&t[e.host.id]){return!1}
e=e.parent}return!0})}var s=e('lodash/collection/forEach'),l=e('lodash/array/flatten'),c=e('lodash/array/union'),u=e('lodash/collection/filter'),p=e('lodash/collection/groupBy'),d=e('lodash/collection/map'),f=e('../../util/Removal').saveClear,h=e('../../util/Collections'),m=e('../../util/AttachUtil').getNewAttachShapeDelta,v=e('inherits'),g=1500,y=e('../../command/CommandInterceptor')
v(i,y),i.$inject=['eventBus','modeling','moveVisuals','rules'],t.exports=i},{'../../command/CommandInterceptor':203,'../../util/AttachUtil':334,'../../util/Collections':336,'../../util/Removal':349,inherits:364,'lodash/array/flatten':369,'lodash/array/union':372,'lodash/collection/filter':380,'lodash/collection/forEach':382,'lodash/collection/groupBy':383,'lodash/collection/map':386}],217:[function(e,t,n){t.exports={__depends__:[e('../move'),e('../label-support')],__init__:['attachSupport'],attachSupport:['type',e('./AttachSupport')]}},{'../label-support':252,'../move':281,'./AttachSupport':216}],218:[function(e,t,n){'use strict'
function i(e,t,n,i){this._canvas=n,this._mouseTracking=i,this._opts=o({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e)
var r=this
t.on('drag.move',function(e){var t=r._toBorderPoint(e)
r.startScroll(t)}),t.on(['drag.cleanup'],function(){r.stopScroll()})}function r(e,t,n){return t<e&&e<n}var o=e('lodash/object/assign'),a=e('../../util/Event')
i.$inject=['config.autoScroll','eventBus','canvas','mouseTracking'],t.exports=i,i.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,i=this,o=t.getContainer().getBoundingClientRect(),a=[e.x,e.y,o.width-e.x,o.height-e.y]
this.stopScroll()
for(var s=0,l=0,c=0;c<4;c++){r(a[c],n.scrollThresholdOut[c],n.scrollThresholdIn[c])&&(0===c?s=n.scrollStep:1==c?l=n.scrollStep:2==c?s=-n.scrollStep:3==c&&(l=-n.scrollStep))}
0===s&&0===l||(t.scroll({dx:s,dy:l}),this._scrolling=setTimeout(function(){i.startScroll(e)},n.scrollRepeatTimeout))},i.prototype.stopScroll=function(){clearTimeout(this._scrolling)},i.prototype.setOptions=function(e){this._opts=o({},this._opts,e)},i.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=a.toPoint(e.originalEvent)
return{x:n.x-t.left,y:n.y-t.top}}},{'../../util/Event':340,'lodash/object/assign':512}],219:[function(e,t,n){t.exports={__depends__:[e('../dragging'),e('../mouse-tracking')],__init__:['autoScroll'],autoScroll:['type',e('./AutoScroll')]}},{'../dragging':240,'../mouse-tracking':278,'./AutoScroll':218}],220:[function(e,t,n){'use strict'
function i(e,t,n,i,h,m,v){function g(e){h.update('connection',e.connection,e.connectionGfx)}function y(e){e=e.slice()
for(var t,n,i,o=0;e[o];){t=e[o],n=e[o-1],i=e[o+1],0===r.pointDistance(t,i)||r.pointsOnLine(n,i,t)?e.splice(o,1):o++}
return e}var b=e.get('connectionDocking',!1)
this.start=function(e,t,r,o){var a,s,l=t.waypoints,c=n.getGraphics(t)
a=o||0!==r?o||r!==l.length-1?u:d:p,s={connection:t,bendpointIndex:r,insert:o,type:a},i.init(e,'bendpoint.move',{data:{connection:t,connectionGfx:c,context:s}})},t.on('bendpoint.move.start',function(e){var t=e.context,i=t.connection,r=i.waypoints,a=r.slice(),s=t.insert,l=t.bendpointIndex
t.originalWaypoints=r,s&&a.splice(l,0,null),i.waypoints=a,t.draggerGfx=o.addBendpoint(n.getLayer('overlays')),t.draggerGfx.addClass('djs-dragging'),n.addMarker(i,c)}),t.on('bendpoint.move.hover',function(e){e.context.hover=e.hover,n.addMarker(e.hover,l)}),t.on(['bendpoint.move.out','bendpoint.move.cleanup'],function(e){var t=e.context.hover
t&&(n.removeMarker(t,l),n.removeMarker(t,e.context.target?a:s))}),t.on('bendpoint.move.move',function(e){var t,i,r=e.context,o=r.type,l=e.connection
l.waypoints[r.bendpointIndex]={x:e.x,y:e.y},b&&(r.hover&&(o===p&&(t=r.hover),o===d&&(i=r.hover)),l.waypoints=b.getCroppedWaypoints(l,t,i))
var c=r.allowed=m.allowed(r.type,r)
c?r.hover&&(n.removeMarker(r.hover,s),n.addMarker(r.hover,a),r.target=r.hover):!1===c&&r.hover&&(n.removeMarker(r.hover,a),n.addMarker(r.hover,s),r.target=null),r.draggerGfx.translate(e.x,e.y),g(e)}),t.on(['bendpoint.move.end','bendpoint.move.cancel'],function(e){var t=e.context,i=t.hover,r=t.connection
t.draggerGfx.remove(),t.newWaypoints=r.waypoints.slice(),r.waypoints=t.originalWaypoints,n.removeMarker(r,c),i&&(n.removeMarker(i,a),n.removeMarker(i,s))}),t.on('bendpoint.move.end',function(e){var t=e.context,n=t.newWaypoints,i=t.bendpointIndex,r=n[i],o=t.allowed
if(r.x=f(r.x),r.y=f(r.y),o&&t.type===p){v.reconnectStart(t.connection,t.target,r)}
else if(o&&t.type===d){v.reconnectEnd(t.connection,t.target,r)}
else{if(!1===o||t.type!==u){return g(e),!1}
v.updateWaypoints(t.connection,y(n))}}),t.on('bendpoint.move.cancel',function(e){g(e)})}var r=e('../../util/Geometry'),o=e('./BendpointUtil'),a='connect-ok',s='connect-not-ok',l='connect-hover',c='djs-updating',u='connection.updateWaypoints',p='connection.reconnectStart',d='connection.reconnectEnd',f=Math.round
i.$inject=['injector','eventBus','canvas','dragging','graphicsFactory','rules','modeling'],t.exports=i},{'../../util/Geometry':341,'./BendpointUtil':222}],221:[function(e,t,n){'use strict'
function i(e){function t(e,t){return a.snapTo(e,t)}function n(e){if(e.width){return{x:s(e.width/2+e.x),y:s(e.height/2+e.y)}}}function i(e){var t=e.snapPoints,i=e.connection,r=i.waypoints,a=e.segmentStart,s=e.segmentStartIndex,l=e.segmentEnd,c=e.segmentEndIndex,u=e.axis
if(t){return t}
var p=[r[s-1],a,l,r[c+1]]
return s<2&&p.unshift(n(i.source)),c>r.length-3&&p.unshift(n(i.target)),e.snapPoints=t={horizontal:[],vertical:[]},o(p,function(e){e&&(e=e.original||e,'y'===u&&t.horizontal.push(e.y),'x'===u&&t.vertical.push(e.x))}),t}function l(e){var t=e.snapPoints,n=e.connection.waypoints,i=e.bendpointIndex
if(t){return t}
var r=[n[i-1],n[i+1]]
return e.snapPoints=t={horizontal:[],vertical:[]},o(r,function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))}),t}e.on('connectionSegment.move.move',1500,function(e){var n,o,a=e.context,s=i(a),l=e.x,c=e.y
if(s){n=t(s.vertical,l),o=t(s.horizontal,c)
var u=l-n,p=c-o
r(e,{dx:e.dx-u,dy:e.dy-p,x:n,y:o})}}),e.on('bendpoint.move.move',1500,function(e){var i,o,a=e.context,s=l(a),c=a.target,u=c&&n(c),p=e.x,d=e.y
if(s){i=t(u?s.vertical.concat([u.x]):s.vertical,p),o=t(u?s.horizontal.concat([u.y]):s.horizontal,d)
var f=p-i,h=d-o
r(e,{dx:e.dx-f,dy:e.dy-h,x:e.x-f,y:e.y-h})}})}var r=e('lodash/object/assign'),o=e('lodash/collection/forEach'),a=e('../../../vendor/snapsvg'),s=Math.round
i.$inject=['eventBus'],t.exports=i},{'../../../vendor/snapsvg':352,'lodash/collection/forEach':382,'lodash/object/assign':512}],222:[function(e,t,n){'use strict'
function i(e,t,n){var i=e.group()
i.rect(-7,-1.5,14,3).addClass('djs-visual'),i.rect(-10,-4.5,20,9).addClass('djs-hit')
var r=(new a.Matrix).rotate('h'===n?90:0,0,0)
return i.transform(r),i}var r=e('../../util/Event'),o=e('../../util/Geometry'),a=e('../../../vendor/snapsvg'),s=t.exports.BENDPOINT_CLS='djs-bendpoint',l=t.exports.SEGMENT_DRAGGER_CLS='djs-segment-dragger'
t.exports.toCanvasCoordinates=function(e,t){var n,i=r.toPoint(t),o=e._container.getBoundingClientRect()
n={x:o.left,y:o.top}
var a=e.viewbox()
return{x:a.x+(i.x-n.x)/a.scale,y:a.y+(i.y-n.y)/a.scale}},t.exports.addBendpoint=function(e,t){var n=e.group().addClass(s)
return n.circle(0,0,4).addClass('djs-visual'),n.circle(0,0,10).addClass('djs-hit'),t&&n.addClass(t),n},t.exports.addSegmentDragger=function(e,t,n){var r=e.group(),a=o.getMidPoint(t,n),s=o.pointsAligned(t,n)
return i(r,a,s),r.addClass(l),r.addClass('h'===s?'vertical':'horizontal'),r.translate(a.x,a.y),r}},{'../../../vendor/snapsvg':352,'../../util/Event':340,'../../util/Geometry':341}],223:[function(e,t,n){'use strict'
function i(e,t,n,i,p){function d(e,n){var i=o.toCanvasCoordinates(t,n)
return u(e,i)}function f(e,t,n){var i,r,o,l,c,u,p=e.index,d=e.point
return!(p<=0||e.bendpoint)&&(i=t[p-1],r=t[p],o=s(i,r),l=a(i,r),c=Math.abs(d.x-o.x),u=Math.abs(d.y-o.y),l&&c<=n&&u<=n)}function h(e,t){var n=t.waypoints,r=d(n,e)
r&&(f(r,n,10)?p.start(e,t,r.index):i.start(e,t,r.index,!r.bendpoint))}function m(e,t,i){r.bind(e,t,function(e){n.triggerMouseEvent(t,e,i),e.stopPropagation()})}function v(e,n){var i=t.getLayer('overlays'),r=i.select('.djs-bendpoints[data-element-id='+e.id+']')
return!r&&n&&(r=i.group().addClass('djs-bendpoints').attr('data-element-id',e.id),m(r.node,'mousedown',e),m(r.node,'click',e),m(r.node,'dblclick',e)),r}function g(e,t){t.waypoints.forEach(function(t,n){o.addBendpoint(e).translate(t.x,t.y)}),o.addBendpoint(e,'floating')}function y(e,t){for(var n,i,r=t.waypoints,s=1;s<r.length;s++){n=r[s-1],i=r[s],a(n,i)&&o.addSegmentDragger(e,n,i)}}function b(e){e.selectAll('.'+l).forEach(function(e){e.remove()})}function x(e){e.selectAll('.'+c).forEach(function(e){e.remove()})}function E(e){var t=v(e)
return t||(t=v(e,!0),g(t,e),y(t,e)),t}function w(e){var t=v(e)
t&&(x(t),b(t),y(t,e),g(t,e))}e.on('connection.changed',function(e){w(e.element)}),e.on('connection.remove',function(e){var t=v(e.element)
t&&t.remove()}),e.on('element.marker.update',function(e){var t,n=e.element
n.waypoints&&(t=E(n),t[e.add?'addClass':'removeClass'](e.marker))}),e.on('element.mousemove',function(e){var t,n,i,r=e.element,o=r.waypoints
if(o){if(t=v(r,!0),!(n=t.select('.floating'))){return}
i=d(o,e.originalEvent),i&&n.translate(i.point.x,i.point.y)}}),e.on('element.mousedown',function(e){var t=e.originalEvent,n=e.element,i=n.waypoints
i&&h(t,n)}),e.on('selection.changed',function(e){var t=e.newSelection,n=t[0]
n&&n.waypoints&&E(n)}),e.on('element.hover',function(e){var t=e.element
t.waypoints&&(E(t),n.registerEvent(e.gfx.node,'mousemove','element.mousemove'))}),e.on('element.out',function(e){n.unregisterEvent(e.gfx.node,'mousemove','element.mousemove')}),this.addHandles=E,this.updateHandles=w,this.getBendpointsContainer=v}var r=e('min-dom/lib/event'),o=e('./BendpointUtil'),a=e('../../util/Geometry').pointsAligned,s=e('../../util/Geometry').getMidPoint,l=o.BENDPOINT_CLS,c=o.SEGMENT_DRAGGER_CLS,u=e('../../util/LineIntersection').getApproxIntersection
i.$inject=['eventBus','canvas','interactionEvents','bendpointMove','connectionSegmentMove'],t.exports=i},{'../../util/Geometry':341,'../../util/LineIntersection':344,'./BendpointUtil':222,'min-dom/lib/event':531}],224:[function(e,t,n){'use strict'
function i(e,t,n){return r(e,t,e[t]+n)}function r(e,t,n){return{x:'x'===t?n:e.x,y:'y'===t?n:e.y}}function o(e,t,n,i){var o=Math.max(t[i],n[i]),a=Math.min(t[i],n[i])
return r(t,i,Math.min(Math.max(a+20,e[i]),o-20))}function a(e){return'x'===e?'y':'x'}function s(e,t,n){var i,o
return e.original?e.original:(i=p.getMid(t),o=a(n),r(e,o,i[o]))}function l(e,t,n,r,l,h,m){function v(e){l.update('connection',e.connection,e.connectionGfx)}function g(e,t,n){var i=e.newWaypoints,r=e.segmentStartIndex+t,s=i[r],l=e.segmentEndIndex+t,c=i[l],u=a(e.axis),p=o(n,s,c,u)
e.draggerGfx.translate(p.x,p.y)}function y(e){return e.filter(function(t,n){return!c.pointsOnLine(e[n-1],e[n+1],t)})}var b=e.get('connectionDocking',!1)
this.start=function(e,t,i){var o,a,l,u=n.getGraphics(t),p=i-1,d=i,f=t.waypoints,h=f[p],m=f[d];(a=c.pointsAligned(h,m))&&(l='v'===a?'y':'x',0===p&&(h=s(h,t.source,l)),d===f.length-1&&(m=s(m,t.target,l)),o={connection:t,segmentStartIndex:p,segmentEndIndex:d,segmentStart:h,segmentEnd:m,axis:l},r.init(e,{x:(h.x+m.x)/2,y:(h.y+m.y)/2},'connectionSegment.move',{cursor:'x'===l?'resize-ew':'resize-ns',data:{connection:t,connectionGfx:u,context:o}}))},t.on('connectionSegment.move.start',function(e){var t=e.context,i=e.connection,r=n.getLayer('overlays')
t.originalWaypoints=i.waypoints.slice(),t.draggerGfx=u.addSegmentDragger(r,t.segmentStart,t.segmentEnd),t.draggerGfx.addClass('djs-dragging'),n.addMarker(i,f)}),t.on('connectionSegment.move.move',function(e){var t=e.context,n=t.connection,r=t.segmentStartIndex,o=t.segmentEndIndex,a=t.segmentStart,s=t.segmentEnd,l=t.axis,c=t.originalWaypoints.slice(),u=i(a,l,e['d'+l]),d=i(s,l,e['d'+l]),f=c.length,h=0
c[r]=u,c[o]=d
var m,y
r<2&&(m=p.getOrientation(n.source,u),1===r?'intersect'===m&&(c.shift(),c[0]=u,h--):'intersect'!==m&&(c.unshift(a),h++)),o>f-3&&(y=p.getOrientation(n.target,d),o===f-2?'intersect'===y&&(c.pop(),c[c.length-1]=d):'intersect'!==y&&c.push(s)),n.waypoints=c,b&&(n.waypoints=c=b.getCroppedWaypoints(n)),t.newWaypoints=c,g(t,h,e),v(e)}),t.on('connectionSegment.move.hover',function(e){e.context.hover=e.hover,n.addMarker(e.hover,d)}),t.on(['connectionSegment.move.out','connectionSegment.move.cleanup'],function(e){var t=e.context.hover
t&&n.removeMarker(t,d)}),t.on('connectionSegment.move.cleanup',function(e){var t=e.context,i=t.connection
t.draggerGfx&&t.draggerGfx.remove(),n.removeMarker(i,f)}),t.on(['connectionSegment.move.cancel','connectionSegment.move.end'],function(e){var t=e.context
t.connection.waypoints=t.originalWaypoints,v(e)}),t.on('connectionSegment.move.end',function(e){var t=e.context,n=t.newWaypoints
n.forEach(function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}),m.updateWaypoints(t.connection,y(n))})}var c=e('../../util/Geometry'),u=e('./BendpointUtil'),p=e('../../layout/LayoutUtil'),d='connect-hover',f='djs-updating'
l.$inject=['injector','eventBus','canvas','dragging','graphicsFactory','rules','modeling'],t.exports=l},{'../../layout/LayoutUtil':325,'../../util/Geometry':341,'./BendpointUtil':222}],225:[function(e,t,n){t.exports={__depends__:[e('../dragging'),e('../rules')],__init__:['bendpoints','bendpointSnapping'],bendpoints:['type',e('./Bendpoints')],bendpointMove:['type',e('./BendpointMove')],connectionSegmentMove:['type',e('./ConnectionSegmentMove')],bendpointSnapping:['type',e('./BendpointSnapping')]}},{'../dragging':240,'../rules':300,'./BendpointMove':220,'./BendpointSnapping':221,'./Bendpoints':223,'./ConnectionSegmentMove':224}],226:[function(e,t,n){'use strict'
function i(e,t,n,i){e.on('element.changed',function(t){var i=t.element
t.gfx||(t.gfx=n.getGraphics(i)),t.gfx&&e.fire(r(i)+'.changed',t)}),e.on('elements.changed',function(t){var n=t.elements
n.forEach(function(t){e.fire('element.changed',{element:t})}),i.updateContainments(n)}),e.on('shape.changed',function(e){i.update('shape',e.element,e.gfx)}),e.on('connection.changed',function(e){i.update('connection',e.element,e.gfx)})}var r=e('../../util/Elements').getType
i.$inject=['eventBus','canvas','elementRegistry','graphicsFactory'],t.exports=i},{'../../util/Elements':339}],227:[function(e,t,n){t.exports={__init__:['changeSupport'],changeSupport:['type',e('./ChangeSupport')]}},{'./ChangeSupport':226}],228:[function(e,t,n){'use strict'
function i(){}t.exports=i,i.prototype.get=function(){return this._data},i.prototype.set=function(e){this._data=e},i.prototype.clear=function(){var e=this._data
return delete this._data,e},i.prototype.isEmpty=function(){return!this._data}},{}],229:[function(e,t,n){t.exports={clipboard:['type',e('./Clipboard')]}},{'./Clipboard':228}],230:[function(e,t,n){'use strict'
function i(e,t,n,i,s,l){function c(e,t){return i.allowed('connection.create',{source:e,target:t})}function u(e,t,n,i){var o=l.getShapePath(n),a=i&&l.getShapePath(i),s=l.getConnectionPath({waypoints:[e,t]})
return e=r.getElementLineIntersection(o,s,!0)||e,t=i&&r.getElementLineIntersection(a,s,!1)||t,[e,t]}e.on('connect.move',function(e){var t,n,i,o=e.context,a=o.source,s=o.target,l=o.visual
t=r.getMid(a),n={x:e.x,y:e.y},i=u(t,n,a,s),l.attr('points',[i[0].x,i[0].y,i[1].x,i[1].y])}),e.on('connect.hover',function(e){var t,n=e.context,i=n.source,r=e.hover
null!==(t=n.canExecute=c(i,r))&&(n.target=r,s.addMarker(r,t?o:a))}),e.on(['connect.out','connect.cleanup'],function(e){var t=e.context
t.target&&s.removeMarker(t.target,t.canExecute?o:a),t.target=null}),e.on('connect.cleanup',function(e){var t=e.context
t.visual&&t.visual.remove()}),e.on('connect.start',function(e){var t,n=e.context
t=s.getDefaultLayer().polyline().attr({stroke:'#333',strokeDasharray:[1],strokeWidth:2,'pointer-events':'none'}),n.visual=t}),e.on('connect.end',function(e){var t=e.context,i=t.source,r=t.target,o=t.canExecute||c(i,r)
if(!o){return!1}
n.connect(i,r,'object'==typeof o&&o)}),this.start=function(e,n,i){t.init(e,'connect',{autoActivate:i,data:{shape:n,context:{source:n}}})}}var r=e('../../layout/LayoutUtil'),o='connect-ok',a='connect-not-ok'
i.$inject=['eventBus','dragging','modeling','rules','canvas','graphicsFactory'],t.exports=i},{'../../layout/LayoutUtil':325}],231:[function(e,t,n){t.exports={__depends__:[e('../selection'),e('../rules'),e('../dragging')],connect:['type',e('./Connect')]}},{'../dragging':240,'../rules':300,'../selection':306,'./Connect':230}],232:[function(e,t,n){'use strict'
function i(e,t){this._providers=[],this._eventBus=e,this._overlays=t,this._current=null,this._init()}var r=e('lodash/lang/isFunction'),o=e('lodash/collection/forEach'),a=e('min-dom/lib/delegate'),s=e('min-dom/lib/event'),l=e('min-dom/lib/attr'),c=e('min-dom/lib/query'),u=e('min-dom/lib/classes'),p=e('min-dom/lib/domify')
i.$inject=['eventBus','overlays'],i.prototype._init=function(){var e=this._eventBus,t=this
e.on('selection.changed',function(e){var n=e.newSelection
1===n.length?t.open(n[0]):t.close()}),e.on('elements.delete',function(e){var n=e.elements
o(n,function(e){t.isOpen(e)&&t.close()})}),e.on('element.changed',function(e){var n=e.element,i=t._current
i&&i.element===n&&t.open(n,!0)})},i.prototype.registerProvider=function(e){this._providers.push(e)},i.prototype.getEntries=function(e){var t={}
return o(this._providers,function(n){var i=n.getContextPadEntries(e)
o(i,function(e,n){t[n]=e})}),t},i.prototype.trigger=function(e,t,n){var i,o,a,s=this._current.element,c=this._current.entries,u=t.delegateTarget||t.target
if(!u){return t.preventDefault()}
if(i=c[l(u,'data-action')],o=i.action,a=t.originalEvent||t,r(o)){if('click'===e){return o(a,s,n)}}else if(o[e]){return o[e](a,s,n)}
t.preventDefault()},i.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},i.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),i=n.html
o(t,function(e,t){var n,r=e.group||'default',o=p(e.html||'<div class="entry" draggable="true"></div>')
l(o,'data-action',t),n=c('[data-group='+r+']',i),n||(n=p('<div class="group" data-group="'+r+'"></div>'),i.appendChild(n)),n.appendChild(o),e.className&&u(o).add(e.className),e.title&&l(o,'title',e.title),e.imageUrl&&o.appendChild(p('<img src="'+e.imageUrl+'">'))}),u(i).add('open'),this._current={element:e,pad:n,entries:t},this._eventBus.fire('contextPad.open',{current:this._current})},i.prototype.getPad=function(e){if(this.isOpen()){return this._current.pad}
var t=this,n=this._overlays,i=p('<div class="djs-context-pad"></div>')
a.bind(i,'.entry','click',function(e){t.trigger('click',e)}),a.bind(i,'.entry','dragstart',function(e){t.trigger('dragstart',e)}),s.bind(i,'mousedown',function(e){e.stopPropagation()}),this._overlayId=n.add(e,'context-pad',{position:{right:-9,top:-6},html:i})
var r=n.get(this._overlayId)
return this._eventBus.fire('contextPad.create',{element:e,pad:r}),r},i.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire('contextPad.close',{current:this._current}),this._current=null)},i.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)},t.exports=i},{'lodash/collection/forEach':382,'lodash/lang/isFunction':504,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/event':531,'min-dom/lib/query':533}],233:[function(e,t,n){t.exports={__depends__:[e('../interaction-events'),e('../overlays')],contextPad:['type',e('./ContextPad')]}},{'../interaction-events':248,'../overlays':286,'./ContextPad':232}],234:[function(e,t,n){'use strict'
function i(e,t,n,i,r,a){this._eventBus=e,this._modeling=t,this._elementFactory=n,this._rules=i,this._canvas=a,this._clipboard=r,this._descriptors=[],this.registerDescriptor(function(e,t){return t.priority=1,t.id=e.id,e.parent&&(t.parent=e.parent.id),e.labelTarget&&(t.priority=4,t.labelTarget=e.labelTarget.id),e.host&&(t.priority=2,t.host=e.host.id),e.x&&(t.x=e.x,t.y=e.y),e.width&&(t.width=e.width,t.height=e.height),e.waypoints&&(t.priority=3,t.waypoints=[],o(e.waypoints,function(e){var n={x:e.x,y:e.y}
e.original&&(n.original={x:e.original.x,y:e.original.y}),t.waypoints.push(n)})),e.source&&e.target&&(t.source=e.source.id,t.target=e.target.id),t})}var r=e('lodash/lang/isArray'),o=e('lodash/collection/forEach'),a=e('lodash/collection/map'),s=e('lodash/collection/find'),l=e('lodash/array/findIndex'),c=e('lodash/collection/sortBy'),u=e('lodash/collection/reduce'),p=e('../../util/Elements').getBBox,d=e('../../util/PositionUtil'),f=e('../../util/CopyPasteUtil'),h=e('../../util/Elements')
i.$inject=['eventBus','modeling','elementFactory','rules','clipboard','canvas'],t.exports=i,i.prototype.copy=function(e){var t,n,i=this._clipboard
if(r(e)||(e=e?[e]:[]),e.length){return t=this.createTree(e),n=this._bbox=d.center(p(t.allShapes)),delete t.allShapes,o(t,function(e){o(e,function(t){var i,r
t.labelTarget?(r=s(e,{id:t.labelTarget}),i=r.waypoints?d.delta(t,r.waypoints[0]):d.delta(t,r)):3===t.priority?(i=[],o(t.waypoints,function(e){var t=d.delta(e,n)
i.push(t)},this)):i=d.delta(t,n),t.delta=i})}),this._eventBus.fire('elements.copy',{context:{tree:t}}),0===Object.keys(t).length?i.clear():i.set(t),this._eventBus.fire('elements.copied',{context:{tree:t}}),t}},i.prototype.paste=function(e){var t,n=this._clipboard,i=this._modeling,r=this._eventBus,o=this._rules,a=n.get(),s=e.element,l=e.point
if(!n.isEmpty()){if(t=u(a,function(e,t,n){var i=parseInt(n,10)
return isNaN(i)?e:(e[i]=t,e)},{},this),!o.allowed('elements.paste',{tree:t,target:s})){return void r.fire('elements.paste.rejected',{context:{tree:t,position:l,target:s}})}
i.pasteElements(t,s,l)}},i.prototype._computeDelta=function(e,t){var n=this._bbox,i={}
return t.labelTarget?(console.log(e),d.delta(t,t.labelTarget)):(3===t.priority?(i=[],o(t.waypoints,function(e){var t=d.delta(e,n)
i.push(t)},this)):i=d.delta(t,n),i)},i.prototype.hasRelations=function(e,t){var n,i
return!(t.waypoints&&(n=s(e,{id:t.source.id}),i=s(e,{id:t.target.id}),!n||!i))&&!(t.labelTarget&&!s(e,{id:t.labelTarget.id}))},i.prototype.registerDescriptor=function(e){if('function'!=typeof e){throw new Error('the descriptor must be a function')}
if(-1!==this._descriptors.indexOf(e)){throw new Error('this descriptor is already registered')}
this._descriptors.push(e)},i.prototype._executeDescriptors=function(e){return e.descriptor||(e.descriptor={}),o(this._descriptors,function(t){e.descriptor=t(e.element,e.descriptor)}),e},i.prototype.createTree=function(e){function t(e,t){return r.allowed('element.copy',{collection:e,element:t})}function n(e){var t,n=l(u,{element:e.element})
if(-1===n){return u.push(e)}
t=u[n],t.depth<e.depth&&(u.splice(n,1),u.push(e))}var i,r=this._rules,s={},u=[],p=f.getTopLevel(e)
return s.allShapes=[],h.eachElement(p,function(e,t,i){var r=e.children
if(!e.labelTarget){return e.label&&n({element:e.label,depth:i}),function(e){o(e,function(e){e&&e.length&&o(e,function(e){e.label&&n({element:e.label,depth:i}),n({element:e,depth:i})})})}([e.attachers,e.incoming,e.outgoing]),n({element:e,depth:i}),r||void 0}}),u=a(u,function(e){return this._executeDescriptors(e)},this),u=c(u,function(e){return e.descriptor.priority}),i=a(u,function(e){return e.element}),o(u,function(e){var n=e.depth
this.hasRelations(s.allShapes,e.element)&&t(i,e.element)&&(s.allShapes.push(e.element),s[n]||(s[n]=[]),s[n].push(e.descriptor))},this),s}},{'../../util/CopyPasteUtil':337,'../../util/Elements':339,'../../util/PositionUtil':348,'lodash/array/findIndex':368,'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/collection/map':386,'lodash/collection/reduce':387,'lodash/collection/sortBy':390,'lodash/lang/isArray':502}],235:[function(e,t,n){t.exports={__depends__:[e('../clipboard'),e('../rules'),e('../mouse-tracking')],__init__:['copyPaste'],copyPaste:['type',e('./CopyPaste')]}},{'../clipboard':229,'../mouse-tracking':278,'../rules':300,'./CopyPaste':234}],236:[function(e,t,n){'use strict'
function i(e,t,n,i,l,c,u){function p(e,t,i,r){return i?n.allowed('shape.append',{source:i,shape:e,target:t,position:r}):n.allowed('shape.create',{shape:e,target:t,position:r})}function d(e,t){[a,r,o,s].forEach(function(n){n===t?l.addMarker(e,n):l.removeMarker(e,n)})}function f(e){var t,n,i
return t=l.getDefaultLayer().group().attr(c.cls('djs-drag-group',['no-events'])),n=t.group().addClass('djs-dragger'),n.translate(e.width/-2,e.height/-2),i=n.group().addClass('djs-visual'),u.drawShape(i,e),t}e.on('create.move',function(e){var t=e.context,n=t.shape,i=t.visual
i||(i=t.visual=f(n)),i.translate(e.x,e.y)
var r,l=e.hover,c={x:e.x,y:e.y}
r=t.canExecute=l&&p(t.shape,l,t.source,c),l&&null!==r&&(t.target=l,'attach'===r?d(l,a):d(l,t.canExecute?s:o))}),e.on(['create.end','create.out','create.cleanup'],function(e){var t=e.context,n=t.target
n&&d(n,null)}),e.on('create.end',function(e){var t,n=e.context,r=n.source,o=n.shape,a=n.target,s=n.canExecute,l={x:e.x,y:e.y}
if(!s){return!1}
r?o=i.appendShape(r,o,l,a):(t='attach'===s,o=i.createShape(o,l,a,t)),n.shape=o}),e.on('create.cleanup',function(e){var t=e.context
t.visual&&t.visual.remove()}),this.start=function(e,n,i){t.init(e,'create',{cursor:'grabbing',autoActivate:!0,data:{shape:n,context:{shape:n,source:i}}})}}var r='drop-ok',o='drop-not-ok',a='attach-ok',s='new-parent'
i.$inject=['eventBus','dragging','rules','modeling','canvas','styles','graphicsFactory'],t.exports=i},{}],237:[function(e,t,n){t.exports={__depends__:[e('../dragging'),e('../selection'),e('../rules')],create:['type',e('./Create')]}},{'../dragging':240,'../rules':300,'../selection':306,'./Create':236}],238:[function(e,t,n){'use strict'
function i(e){e instanceof MouseEvent?u.stopEvent(e,!0):u.preventDefault(e)}function r(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function o(e,t){return{x:e.x-t.x,y:e.y-t.y}}function a(e,t,n){function a(e){var n=t.viewbox(),i=t._container.getBoundingClientRect()
return{x:n.x+s((e.x-i.left)/n.scale),y:n.y+s((e.y-i.top)/n.scale)}}function m(t,n){n=n||S
var i=l(new f,n.payload,n.data)
return!1!==e.fire('drag.'+t,i)&&e.fire(n.prefix+'.'+t,i)}function v(e,s){var c=S.payload,p=S.displacement,f=S.globalStart,v=u.toPoint(e),g=o(v,f),y=S.localStart,b=a(v),x=o(b,y)
if(!S.active&&(s||r(g)>S.threshold)){if(l(c,{x:y.x+p.x,y:y.y+p.y,dx:0,dy:0},{originalEvent:e}),!1===m('start')){return _()}
S.active=!0,S.keepSelection||(c.previousSelection=n.get(),n.select(null)),S.cursor&&d.set(S.cursor),t.addMarker(t.getRootElement(),h)}i(e),S.active&&(l(c,{x:b.x+p.x,y:b.y+p.y,dx:x.x,dy:x.y},{originalEvent:e}),m('move'))}function g(e){var t,n=!0
S.active&&(e&&(S.payload.originalEvent=e,i(e)),n=m('end')),!1===n&&m('rejected'),t=C(!0!==n),m('ended',t)}function y(e){27===e.which&&(e.preventDefault(),_())}function b(e){var t
S.active&&(t=p.install(),setTimeout(t,400)),g(e)}function x(e){v(e)}function E(e){var t=S.payload
t.hoverGfx=e.gfx,t.hover=e.element,m('hover')}function w(e){m('out')
var t=S.payload
t.hoverGfx=null,t.hover=null}function _(e){var t
if(S){var n=S.active
n&&m('cancel'),t=C(e),n&&m('canceled',t)}}function C(i){var r,o
m('cleanup'),d.unset(),o=S.trapClick?b:g,c.unbind(document,'mousemove',v),c.unbind(document,'mousedown',o,!0),c.unbind(document,'mouseup',o,!0),c.unbind(document,'keyup',y),c.unbind(document,'touchstart',x,!0),c.unbind(document,'touchcancel',_,!0),c.unbind(document,'touchmove',v,!0),c.unbind(document,'touchend',g,!0),e.off('element.hover',E),e.off('element.out',w),t.removeMarker(t.getRootElement(),h)
var a=S.payload.previousSelection
return!1!==i&&a&&!n.get().length&&n.select(a),r=S,S=null,r}function T(t,n,r,s){S&&_(!1),'string'==typeof n&&(s=r,r=n,n=null),s=l({},A,s||{})
var p,d,f,h=s.data||{}
f=s.trapClick?b:g,t?(p=u.getOriginal(t)||t,d=u.toPoint(t),i(t)):(p=null,d={x:0,y:0})
var C=a(d)
n||(n=C),S=l({prefix:r,data:h,payload:{},globalStart:d,displacement:o(n,C),localStart:C},s),s.manual||('undefined'!=typeof TouchEvent&&p instanceof TouchEvent?(c.bind(document,'touchstart',x,!0),c.bind(document,'touchcancel',_,!0),c.bind(document,'touchmove',v,!0),c.bind(document,'touchend',g,!0)):(c.bind(document,'mousemove',v),c.bind(document,'mousedown',f,!0),c.bind(document,'mouseup',f,!0)),c.bind(document,'keyup',y),e.on('element.hover',E),e.on('element.out',w)),m('init'),s.autoActivate&&v(t,!0)}var S,A={threshold:5,trapClick:!0}
e.on('diagram.destroy',_),this.init=T,this.move=v,this.hover=E,this.out=w,this.end=g,this.cancel=_,this.context=function(){return S},this.setOptions=function(e){l(A,e)}}var s=Math.round,l=e('lodash/object/assign'),c=e('min-dom/lib/event'),u=e('../../util/Event'),p=e('../../util/ClickTrap'),d=e('../../util/Cursor'),f=e('../../core/EventBus').Event,h='djs-drag-active'
a.$inject=['eventBus','canvas','selection'],t.exports=a},{'../../core/EventBus':209,'../../util/ClickTrap':335,'../../util/Cursor':338,'../../util/Event':340,'lodash/object/assign':512,'min-dom/lib/event':531}],239:[function(e,t,n){'use strict'
function i(e){var t=o(e,'svg, .djs-element',!0)
return t&&new a(t)}function r(e,t,n){var r=this
e.on('drag.start',function(t){e.once('drag.move',function(){e.once('drag.move',function(e){r.ensureHover(e)})})}),this.ensureHover=function(e){if(!e.hover){var r,o,a,l,c=e.originalEvent
c instanceof MouseEvent&&(r=s.toPoint(c),o=document.elementFromPoint(r.x,r.y),(l=i(o))&&(a=n.get(l),t.hover({element:a,gfx:l})))}}}var o=e('min-dom/lib/closest'),a=e('../../../vendor/snapsvg'),s=e('../../util/Event')
r.$inject=['eventBus','dragging','elementRegistry'],t.exports=r},{'../../../vendor/snapsvg':352,'../../util/Event':340,'min-dom/lib/closest':528}],240:[function(e,t,n){t.exports={__init__:['hoverFix'],__depends__:[e('../selection')],dragging:['type',e('./Dragging')],hoverFix:['type',e('./HoverFix')]}},{'../selection':306,'./Dragging':238,'./HoverFix':239}],241:[function(e,t,n){'use strict'
function i(e,t,n,i,r,o,s,l,c){this._actions={undo:function(){t.undo()},redo:function(){t.redo()},copy:function(){var e=i.get()
o.copy(e)},paste:function(){var e=c.getHoverContext()
o.paste(e)},stepZoom:function(e){r.stepZoom(e.value)},zoom:function(e){s.zoom(e.value)},removeSelection:function(){var e=i.get()
if(e.length){var t,r=l.allowed('elements.delete',{elements:e})
if(!1===r){return}
t=a(r)?r:e,t.length&&n.removeElements(t.slice())}},moveCanvas:function(e){var t=0,n=0,i=e.invertY,r=e.speed,o=r/Math.min(Math.sqrt(s.viewbox().scale),1)
switch(e.direction){case'left':t=o
break
case'up':n=o
break
case'right':t=-o
break
case'down':n=-o}n&&i&&(n=-n),s.scroll({dx:t,dy:n})}}}function r(e,t){return new Error(e+' '+t)}var o=e('lodash/collection/forEach'),a=e('lodash/lang/isArray')
i.$inject=['eventBus','commandStack','modeling','selection','zoomScroll','copyPaste','canvas','rules','mouseTracking'],t.exports=i,i.prototype.trigger=function(e,t){if(!this._actions[e]){throw r(e,'is not a registered action')}
return this._actions[e](t)},i.prototype.register=function(e,t){if('string'==typeof e){return this._registerAction(e,t)}
o(e,function(e,t){this._registerAction(t,e)},this)},i.prototype._registerAction=function(e,t){if(this.isRegistered(e)){throw r(e,'is already registered')}
this._actions[e]=t},i.prototype.unregister=function(e){if(!this.isRegistered(e)){throw r(e,'is not a registered action')}
this._actions[e]=void 0},i.prototype.length=function(){return Object.keys(this._actions).length},i.prototype.isRegistered=function(e){return!!this._actions[e]}},{'lodash/collection/forEach':382,'lodash/lang/isArray':502}],242:[function(e,t,n){t.exports={__depends__:[e('../selection'),e('../copy-paste'),e('../../navigation/zoomscroll')],__init__:['editorActions'],editorActions:['type',e('./EditorActions')]}},{'../../navigation/zoomscroll':333,'../copy-paste':235,'../selection':306,'./EditorActions':241}],243:[function(e,t,n){'use strict'
function i(e,t,n,i,a){var s=this
this._dragging=t,a.registerTool('global-connect',{tool:'global-connect',dragging:'global-connect.drag'}),e.on('global-connect.hover',function(e){var t=e.context,n=e.hover,a=t.canStartConnect=s.canStartConnect(n)
null!==a&&(t.startTarget=n,i.addMarker(n,a?r:o))}),e.on(['global-connect.out','global-connect.cleanup'],function(e){var t=e.context.startTarget,n=e.context.canStartConnect
t&&i.removeMarker(t,n?r:o)}),e.on(['global-connect.ended'],function(t){var i=t.context,r=i.startTarget
if(s.canStartConnect(r)){return e.once('element.out',function(){e.once(['connect.ended','connect.canceled'],function(){e.fire('global-connect.drag.ended')}),n.start(null,r)}),!1}})}var r='connect-ok',o='connect-not-ok'
i.$inject=['eventBus','dragging','connect','canvas','toolManager'],t.exports=i,i.prototype.start=function(e){this._dragging.init(e,'global-connect',{trapClick:!1,data:{context:{}}})},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.start()},i.prototype.isActive=function(){var e=this._dragging.context()
return e&&/^global-connect/.test(e.prefix)},i.prototype.registerProvider=function(e){this._provider=e},i.prototype.canStartConnect=function(e){return this._provider.canStartConnect(e)}},{}],244:[function(e,t,n){t.exports={__depends__:[e('../connect'),e('../rules'),e('../dragging'),e('../tool-manager')],globalConnect:['type',e('./GlobalConnect')]}},{'../connect':231,'../dragging':240,'../rules':300,'../tool-manager':315,'./GlobalConnect':243}],245:[function(e,t,n){'use strict'
function i(e,t,n,i){this._dragging=n,i.registerTool('hand',{tool:'hand',dragging:'hand.move'}),e.on('element.mousedown',o,function(e){if(r(e)){return this.activateMove(e.originalEvent),!1}},this),e.on('hand.end',function(t){var n=t.originalEvent.target
if(!(t.hover||n instanceof SVGElement)){return!1}
e.once('hand.ended',function(){this.activateMove(t.originalEvent,{reactivate:!0})},this)},this),e.on('hand.move.move',function(e){var n=t.viewbox().scale
t.scroll({dx:e.dx*n,dy:e.dy*n})}),e.on('hand.move.end',function(t){var n=t.context,i=n.reactivate
return!r(t)&&i&&e.once('hand.move.ended',function(e){this.activateHand(e.originalEvent,!0,!0)},this),!1},this)}var r=e('../../util/Mouse').hasPrimaryModifier,o=1500
i.$inject=['eventBus','canvas','dragging','toolManager'],t.exports=i,i.prototype.activateMove=function(e,t,n){'object'==typeof t&&(n=t,t=!1),this._dragging.init(e,'hand.move',{autoActivate:t,cursor:'grab',data:{context:n||{}}})},i.prototype.activateHand=function(e,t,n){this._dragging.init(e,'hand',{trapClick:!1,autoActivate:t,cursor:'grab',data:{context:{reactivate:n}}})},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},i.prototype.isActive=function(){var e=this._dragging.context()
return e&&/^hand/.test(e.prefix)}},{'../../util/Mouse':346}],246:[function(e,t,n){'use strict'
t.exports={__depends__:[e('../tool-manager')],__init__:['handTool'],handTool:['type',e('./HandTool')]}},{'../tool-manager':315,'./HandTool':245}],247:[function(e,t,n){'use strict'
function i(e,t,n){function i(n,i,r){if(a(i)){var o,l
r?l=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(l=new s(o),r=t.get(l)),l&&r&&!1===e.fire(n,{element:r,gfx:l,originalEvent:i})&&(i.stopPropagation(),i.preventDefault())}}function l(e){var t=g[e]
return t||(t=g[e]=function(t){i(e,t)}),t}function p(e,t,n){var r=y[e]
if(!r){throw new Error('unmapped DOM event name <'+e+'>')}
return i(r,t,n)}function d(e,t,n){var i=l(n)
i.$delegate=o.bind(e,b,t,i)}function f(e,t,n){o.unbind(e,t,l(n).$delegate)}function h(e){r(y,function(t,n){d(e.node,n,t)})}function m(e){r(y,function(t,n){f(e.node,n,t)})}var v=n.cls('djs-hit',['no-fill','no-border'],{stroke:'white',strokeWidth:15}),g={},y={mouseover:'element.hover',mouseout:'element.out',click:'element.click',dblclick:'element.dblclick',mousedown:'element.mousedown',mouseup:'element.mouseup'},b='svg, .djs-element'
e.on('canvas.destroy',function(e){m(e.svg)}),e.on('canvas.init',function(e){h(e.svg)}),e.on(['shape.added','connection.added'],function(e){var t,n=e.element,i=e.gfx
t=n.waypoints?c(n.waypoints):s.create('rect',{x:0,y:0,width:n.width,height:n.height}),t.attr(v).appendTo(i.node)}),e.on('shape.changed',function(e){var t=e.element
e.gfx.select('.djs-hit').attr({width:t.width,height:t.height})}),e.on('connection.changed',function(e){var t=e.element,n=e.gfx,i=n.select('.djs-hit')
u(i,t.waypoints)}),this.fire=i,this.triggerMouseEvent=p,this.mouseHandler=l,this.registerEvent=d,this.unregisterEvent=f}var r=e('lodash/collection/forEach'),o=e('min-dom/lib/delegate'),a=e('../../util/Mouse').isPrimaryButton,s=e('../../../vendor/snapsvg'),l=e('../../util/RenderUtil'),c=l.createLine,u=l.updateLine
i.$inject=['eventBus','elementRegistry','styles'],t.exports=i},{'../../../vendor/snapsvg':352,'../../util/Mouse':346,'../../util/RenderUtil':350,'lodash/collection/forEach':382,'min-dom/lib/delegate':529}],248:[function(e,t,n){t.exports={__init__:['interactionEvents'],interactionEvents:['type',e('./InteractionEvents')]}},{'./InteractionEvents':247}],249:[function(e,t,n){'use strict'
function i(e,t,n){var i=this
this._config=e||{},this._eventBus=t,this._editorActions=n,this._listeners=[],this._keyHandler=function(e){var t,n,r=e.target,o=i._listeners,a=e.keyCode||e.charCode||-1
if(!l(r,'input, textarea')){for(t=0;n=o[t];t++){n(a,e)&&(e.preventDefault(),e.stopPropagation())}}},t.on('diagram.destroy',function(){i._fire('destroy'),i.unbind(),i._listeners=null}),t.on('diagram.init',function(){i._fire('init'),e&&e.bindTo&&i.bind(e.bindTo)}),this._init()}function r(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function o(e){return e.ctrlKey||e.metaKey}function a(e){return e.shiftKey}var s=e('min-dom/lib/event'),l=e('min-dom/lib/matches')
i.$inject=['config.keyboard','eventBus','editorActions'],t.exports=i,i.prototype.bind=function(e){this.unbind(),this._node=e,s.bind(e,'keydown',this._keyHandler,!0),this._fire('bind')},i.prototype.getBinding=function(){return this._node},i.prototype.unbind=function(){var e=this._node
e&&(this._fire('unbind'),s.unbind(e,'keydown',this._keyHandler,!0)),this._node=null},i.prototype._fire=function(e){this._eventBus.fire('keyboard.'+e,{node:this._node,listeners:this._listeners})},i.prototype._init=function(){function e(e,t){if(o(t)&&!a(t)&&90===e){return d.trigger('undo'),!0}}function t(e,t){if(o(t)&&(89===e||90===e&&a(t))){return d.trigger('redo'),!0}}function n(e,t){if(o(t)&&67===e){return d.trigger('copy'),!0}}function i(e,t){if(o(t)&&86===e){return d.trigger('paste'),!0}}function r(e,t){if((107===e||187===e||171===e||61===e)&&o(t)){return d.trigger('stepZoom',{value:1}),!0}}function s(e,t){if((109===e||189===e||173===e)&&o(t)){return d.trigger('stepZoom',{value:-1}),!0}}function l(e,t){if((96===e||48===e)&&o(t)){return d.trigger('zoom',{value:1}),!0}}function c(e,t){if(46===e){return d.trigger('removeSelection'),!0}}function u(e,t){if([37,38,39,40].indexOf(e)>=0){var n={invertY:f.invertY,speed:f.speed||50}
switch(e){case 37:n.direction='left'
break
case 38:n.direction='up'
break
case 39:n.direction='right'
break
case 40:n.direction='down'}return d.trigger('moveCanvas',n),!0}}var p=this._listeners,d=this._editorActions,f=this._config
p.push(e),p.push(t),p.push(n),p.push(i),p.push(c),p.push(r),p.push(s),p.push(l),p.push(u)},i.prototype.addListener=function(e){this._listeners.push(e)},i.prototype.hasModifier=r,i.prototype.isCmd=o,i.prototype.isShift=a},{'min-dom/lib/event':531,'min-dom/lib/matches':532}],250:[function(e,t,n){t.exports={__depends__:[e('../editor-actions')],__init__:['keyboard'],keyboard:['type',e('./Keyboard')]}},{'../editor-actions':242,'./Keyboard':249}],251:[function(e,t,n){'use strict'
function i(e,t,n){u.call(this,e),e.on('shape.move.start',c,function(e){var t=e.context,n=t.shapes,i=t.validatedShapes
t.shapes=r(n),t.validatedShapes=r(i)}),e.on('shape.move.start',l,function(e){var t=e.context,i=t.shapes,r=[]
o(i,function(e){var n=e.label
n&&!n.hidden&&-1===t.shapes.indexOf(n)&&r.push(n),e.labelTarget&&r.push(e)}),o(r,function(e){n.makeDraggable(t,e,!0)})}),this.postExecuted(['elements.move'],function(e){var n=e.context,i=n.closure,r=i.enclosedElements
o(r,function(e){e.label&&!r[e.label.id]&&t.moveShape(e.label,n.delta,e.parent)})})}function r(e){return a(e,function(t){return-1===e.indexOf(t.labelTarget)})}var o=e('lodash/collection/forEach'),a=e('lodash/collection/filter'),s=e('inherits'),l=250,c=1400,u=e('../../command/CommandInterceptor')
s(i,u),i.$inject=['eventBus','modeling','moveVisuals'],t.exports=i},{'../../command/CommandInterceptor':203,inherits:364,'lodash/collection/filter':380,'lodash/collection/forEach':382}],252:[function(e,t,n){t.exports={__depends__:[e('../move')],__init__:['labelSupport'],labelSupport:['type',e('./LabelSupport')]}},{'../move':281,'./LabelSupport':251}],253:[function(e,t,n){'use strict'
function i(e,t,n,i,o,a){this._selection=o,this._dragging=n
var c=this,u={create:function(e){var n,i=t.getDefaultLayer()
n=e.frame=l.create('rect',{class:'djs-lasso-overlay',width:1,height:1,x:0,y:0}),n.appendTo(i)},update:function(e){var t=e.frame,n=e.bbox
t.attr({x:n.x,y:n.y,width:n.width,height:n.height})},remove:function(e){e.frame&&e.frame.remove()}}
a.registerTool('lasso',{tool:'lasso.selection',dragging:'lasso'}),e.on('lasso.selection.end',function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once('lasso.selection.ended',function(){c.activateLasso(t.originalEvent,!0)})}),e.on('lasso.end',function(e){var t=r(e),n=i.filter(function(e){return e})
c.select(n,t)}),e.on('lasso.start',function(e){var t=e.context
t.bbox=r(e),u.create(t)}),e.on('lasso.move',function(e){var t=e.context
t.bbox=r(e),u.update(t)}),e.on('lasso.end',function(e){var t=e.context
u.remove(t)}),e.on('lasso.cleanup',function(e){var t=e.context
u.remove(t)}),e.on('element.mousedown',1500,function(e){s(e)&&(c.activateLasso(e.originalEvent),e.stopPropagation())})}function r(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y}
return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}var o=e('lodash/object/values'),a=e('../../util/Elements').getEnclosedElements,s=e('../../util/Mouse').hasSecondaryModifier,l=e('../../../vendor/snapsvg')
i.$inject=['eventBus','canvas','dragging','elementRegistry','selection','toolManager'],t.exports=i,i.prototype.activateLasso=function(e,t){this._dragging.init(e,'lasso',{autoActivate:t,cursor:'crosshair',data:{context:{}}})},i.prototype.activateSelection=function(e){this._dragging.init(e,'lasso.selection',{trapClick:!1,cursor:'crosshair',data:{context:{}}})},i.prototype.select=function(e,t){var n=a(e,t)
this._selection.select(o(n))},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},i.prototype.isActive=function(){var e=this._dragging.context()
return e&&/^lasso/.test(e.prefix)}},{'../../../vendor/snapsvg':352,'../../util/Elements':339,'../../util/Mouse':346,'lodash/object/values':521}],254:[function(e,t,n){'use strict'
t.exports={__depends__:[e('../tool-manager')],__init__:['lassoTool'],lassoTool:['type',e('./LassoTool')]}},{'../tool-manager':315,'./LassoTool':253}],255:[function(e,t,n){'use strict'
function i(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n
var i=this
e.on('diagram.init',function(){i.registerHandlers(n)})}var r=e('lodash/collection/forEach'),o=e('../../model')
i.$inject=['eventBus','elementFactory','commandStack'],t.exports=i,i.prototype.getHandlers=function(){return{'shape.append':e('./cmd/AppendShapeHandler'),'shape.create':e('./cmd/CreateShapeHandler'),'shape.delete':e('./cmd/DeleteShapeHandler'),'shape.move':e('./cmd/MoveShapeHandler'),'shape.resize':e('./cmd/ResizeShapeHandler'),'shape.replace':e('./cmd/ReplaceShapeHandler'),spaceTool:e('./cmd/SpaceToolHandler'),'label.create':e('./cmd/CreateLabelHandler'),'connection.create':e('./cmd/CreateConnectionHandler'),'connection.delete':e('./cmd/DeleteConnectionHandler'),'connection.move':e('./cmd/MoveConnectionHandler'),'connection.layout':e('./cmd/LayoutConnectionHandler'),'connection.updateWaypoints':e('./cmd/UpdateWaypointsHandler'),'connection.reconnectStart':e('./cmd/ReconnectConnectionHandler'),'connection.reconnectEnd':e('./cmd/ReconnectConnectionHandler'),'elements.move':e('./cmd/MoveElementsHandler'),'elements.delete':e('./cmd/DeleteElementsHandler'),'element.updateAttachment':e('./cmd/UpdateAttachmentHandler'),'element.updateAnchors':e('./cmd/UpdateAnchorsHandler'),'elements.paste':e('./cmd/PasteHandler')}},i.prototype.registerHandlers=function(e){r(this.getHandlers(),function(t,n){e.registerHandler(n,t)})},i.prototype.moveShape=function(e,t,n,i,r){'object'==typeof i&&(r=i,i=null)
var o={shape:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}}
this._commandStack.execute('shape.move',o)},i.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t}
this._commandStack.execute('element.updateAttachment',n)},i.prototype.moveElements=function(e,t,n,i,r){'object'==typeof i&&(r=i,i=void 0)
var o,a=n
!0===i&&(o=n,a=n.parent),!1===i&&(o=null)
var s={shapes:e,delta:t,newParent:a,newHost:o,hints:r||{}}
this._commandStack.execute('elements.move',s)},i.prototype.updateAnchors=function(e,t){var n={element:e,oldBounds:t}
this._commandStack.execute('element.updateAnchors',n)},i.prototype.moveConnection=function(e,t,n,i,r){'object'==typeof i&&(r=i,i=void 0)
var o={connection:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}}
this._commandStack.execute('connection.move',o)},i.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}}
this._commandStack.execute('connection.layout',n)},i.prototype.createConnection=function(e,t,n,i,r){'object'==typeof n&&(r=i,i=n,n=void 0),i=this._create('connection',i)
var o={source:e,target:t,parent:r,parentIndex:n,connection:i}
return this._commandStack.execute('connection.create',o),o.connection},i.prototype.createShape=function(e,t,n,i,r,o){'number'!=typeof i&&(o=r,r=i),'boolean'!=typeof r&&(o=r,r=!1),e=this._create('shape',e)
var a={position:t,shape:e,parent:n,parentIndex:i,host:e.host,hints:o||{}}
return r&&(a.parent=n.parent,a.host=n),this._commandStack.execute('shape.create',a),a.shape},i.prototype.createLabel=function(e,t,n,i){n=this._create('label',n)
var r={labelTarget:e,position:t,parent:i||e.parent,shape:n}
return this._commandStack.execute('label.create',r),r.shape},i.prototype.appendShape=function(e,t,n,i,r,o){t=this._create('shape',t)
var a={source:e,position:n,parent:i,shape:t,connection:r,connectionParent:o}
return this._commandStack.execute('shape.append',a),a.shape},i.prototype.removeElements=function(e){var t={elements:e}
this._commandStack.execute('elements.delete',t)},i.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}}
this._commandStack.execute('shape.delete',n)},i.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}}
this._commandStack.execute('connection.delete',n)},i.prototype.replaceShape=function(e,t,n){var i={oldShape:e,newData:t,hints:n||{}}
return this._commandStack.execute('shape.replace',i),i.newShape},i.prototype.pasteElements=function(e,t,n){var i={tree:e,topParent:t,position:n}
this._commandStack.execute('elements.paste',i)},i.prototype.resizeShape=function(e,t){var n={shape:e,newBounds:t}
this._commandStack.execute('shape.resize',n)},i.prototype.createSpace=function(e,t,n,i){var r={movingShapes:e,resizingShapes:t,delta:n,direction:i}
this._commandStack.execute('spaceTool',r)},i.prototype.updateWaypoints=function(e,t){var n={connection:e,newWaypoints:t}
this._commandStack.execute('connection.updateWaypoints',n)},i.prototype.reconnectStart=function(e,t,n){var i={connection:e,newSource:t,dockingOrPoints:n}
this._commandStack.execute('connection.reconnectStart',i)},i.prototype.reconnectEnd=function(e,t,n){var i={connection:e,newTarget:t,dockingOrPoints:n}
this._commandStack.execute('connection.reconnectEnd',i)},i.prototype.connect=function(e,t,n){return this.createConnection(e,t,n||{},e.parent)},i.prototype._create=function(e,t){return t instanceof o.Base?t:this._elementFactory.create(e,t)}},{'../../model':327,'./cmd/AppendShapeHandler':256,'./cmd/CreateConnectionHandler':257,'./cmd/CreateLabelHandler':258,'./cmd/CreateShapeHandler':259,'./cmd/DeleteConnectionHandler':260,'./cmd/DeleteElementsHandler':261,'./cmd/DeleteShapeHandler':262,'./cmd/LayoutConnectionHandler':263,'./cmd/MoveConnectionHandler':264,'./cmd/MoveElementsHandler':265,'./cmd/MoveShapeHandler':266,'./cmd/PasteHandler':268,'./cmd/ReconnectConnectionHandler':269,'./cmd/ReplaceShapeHandler':270,'./cmd/ResizeShapeHandler':271,'./cmd/SpaceToolHandler':272,'./cmd/UpdateAnchorsHandler':273,'./cmd/UpdateAttachmentHandler':274,'./cmd/UpdateWaypointsHandler':275,'lodash/collection/forEach':382}],256:[function(e,t,n){'use strict'
function i(e){this._modeling=e}function r(e,t){return o(e.outgoing,function(e){return e.target===t})}var o=e('lodash/collection/any')
e('inherits')(i,e('./NoopHandler')),i.$inject=['modeling'],t.exports=i,i.prototype.preExecute=function(e){if(!e.source){throw new Error('source required')}
var t=e.parent||e.source.parent,n=this._modeling.createShape(e.shape,e.position,t)
e.shape=n},i.prototype.postExecute=function(e){var t=e.connectionParent||e.shape.parent
r(e.source,e.shape)||this._modeling.connect(e.source,e.shape,e.connection,t)}},{'./NoopHandler':267,inherits:364,'lodash/collection/any':378}],257:[function(e,t,n){'use strict'
function i(e,t){this._canvas=e,this._layouter=t}i.$inject=['canvas','layouter'],t.exports=i,i.prototype.execute=function(e){var t=e.source,n=e.target,i=e.parent
if(!t||!n){throw new Error('source and target required')}
if(!i){throw new Error('parent required')}
var r=e.connection
return r.source=t,r.target=n,r.waypoints||(r.waypoints=this._layouter.layoutConnection(r)),this._canvas.addConnection(r,i),r},i.prototype.revert=function(e){var t=e.connection
this._canvas.removeConnection(t),t.source=null,t.target=null}},{}],258:[function(e,t,n){'use strict'
function i(e){a.call(this,e)}function r(e){['width','height'].forEach(function(t){void 0===e[t]&&(e[t]=0)})}var o=e('inherits'),a=e('./CreateShapeHandler')
o(i,a),i.$inject=['canvas'],t.exports=i
var s=a.prototype.execute
i.prototype.execute=function(e){var t=e.shape
return r(t),t.labelTarget=e.labelTarget,s.call(this,e)}
var l=a.prototype.revert
i.prototype.revert=function(e){return e.shape.labelTarget=null,l.call(this,e)}},{'./CreateShapeHandler':259,inherits:364}],259:[function(e,t,n){'use strict'
function i(e){this._canvas=e}var r=e('lodash/object/assign'),o=Math.round
i.$inject=['canvas'],t.exports=i,i.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,a=e.parentIndex
if(!i){throw new Error('parent required')}
if(!n){throw new Error('position required')}
return void 0!==n.width?r(t,n):r(t,{x:n.x-o(t.width/2),y:n.y-o(t.height/2)}),this._canvas.addShape(t,i,a),t},i.prototype.revert=function(e){this._canvas.removeShape(e.shape)}},{'lodash/object/assign':512}],260:[function(e,t,n){'use strict'
function i(e,t){this._canvas=e,this._modeling=t}var r=e('../../../util/Collections')
i.$inject=['canvas','modeling'],t.exports=i,i.prototype.preExecute=function(e){var t=e.connection
t.label&&this._modeling.removeShape(t.label)},i.prototype.execute=function(e){var t=e.connection,n=t.parent
return e.parent=n,e.parentIndex=r.indexOf(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t.label=null,t},i.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex
return t.source=e.source,t.target=e.target,r.add(n.children,t,i),this._canvas.addConnection(t,n),t}},{'../../../util/Collections':336}],261:[function(e,t,n){'use strict'
function i(e,t){this._modeling=e,this._elementRegistry=t}var r=e('lodash/collection/forEach')
e('inherits')(i,e('./NoopHandler')),i.$inject=['modeling','elementRegistry'],t.exports=i,i.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,i=e.elements
r(i,function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))})}},{'./NoopHandler':267,inherits:364,'lodash/collection/forEach':382}],262:[function(e,t,n){'use strict'
function i(e,t){this._canvas=e,this._modeling=t}var r=e('../../../util/Collections'),o=e('../../../util/Removal').saveClear
i.$inject=['canvas','modeling'],t.exports=i,i.prototype.preExecute=function(e){var t=this._modeling,n=e.shape,i=n.label
n.labelTarget&&(e.labelTarget=n.labelTarget,n.labelTarget=null),i&&this._modeling.removeShape(i,{nested:!0}),o(n.incoming,function(e){t.removeConnection(e,{nested:!0})}),o(n.outgoing,function(e){t.removeConnection(e,{nested:!0})}),o(n.children,function(e){t.removeShape(e,{nested:!0})})},i.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent
return e.oldParent=i,e.oldParentIndex=r.indexOf(i.children,n),n.label=null,t.removeShape(n),n},i.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,o=e.oldParentIndex,a=e.labelTarget
return r.add(i.children,n,o),a&&(a.label=n),t.addShape(n,i),n}},{'../../../util/Collections':336,'../../../util/Removal':349}],263:[function(e,t,n){'use strict'
function i(e,t){this._layouter=e,this._canvas=t}function r(e){return e[e.length-1]}function o(e){function t(e,n){var i=e.indexOf(n)
if(i<0&&n){i=t(e,n.parent)}return i}var n=e.parent.children,i=n.indexOf(e),r=t(n,e.source),o=t(n,e.target),a=Math.max(r+1,o+1,i)
return i<a&&(n.splice(a,0,e),n.splice(i,1)),a}var a=e('lodash/object/assign')
i.$inject=['layouter','canvas'],t.exports=i,i.prototype.execute=function(e){var t=e.connection,n=t.parent,i=n.children,s=i.indexOf(t),l=t.waypoints
return a(e,{oldWaypoints:l,oldIndex:s}),o(t),t.waypoints=this._layouter.layoutConnection(t,e.hints),l.length?(l[0].original&&!t.waypoints[0].original&&(t.waypoints[0].original={x:l[0].original.x,y:l[0].original.y}),r(l).original&&!r(t.waypoints).original&&(r(t.waypoints).original={x:r(l).original.x,y:r(l).original.y}),t):t},i.prototype.revert=function(e){var t=e.connection,n=t.parent,i=n.children,r=i.indexOf(t),o=e.oldIndex
return t.waypoints=e.oldWaypoints,o!==r&&(i.splice(r,1),i.splice(o,0,t)),t}},{'lodash/object/assign':512}],264:[function(e,t,n){'use strict'
function i(){}var r=e('lodash/collection/forEach'),o=e('../../../util/Collections')
t.exports=i,i.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,a=e.newParentIndex,s=t.parent
e.oldParent=s,e.oldParentIndex=o.remove(s.children,t),o.add(i.children,t,a),t.parent=i
var l=!1!==e.hints.updateAnchors
return r(t.waypoints,function(e){e.x+=n.x,e.y+=n.y,l&&e.original&&(e.original.x+=n.x,e.original.y+=n.y)}),t},i.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,a=e.oldParentIndex,s=e.delta
o.remove(n.children,t),o.add(i.children,t,a),t.parent=i
var l=!1!==e.hints.updateAnchors
return r(t.waypoints,function(e){e.x-=s.x,e.y-=s.y,l&&e.original&&(e.original.x-=s.x,e.original.y-=s.y)}),t}},{'../../../util/Collections':336,'lodash/collection/forEach':382}],265:[function(e,t,n){'use strict'
function i(e){this._helper=new r(e)}var r=e('./helper/MoveHelper')
i.$inject=['modeling'],t.exports=i,i.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},i.prototype.postExecute=function(e){var t,n=e.hints
n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},i.prototype.execute=function(e){},i.prototype.revert=function(e){}},{'./helper/MoveHelper':276}],266:[function(e,t,n){'use strict'
function i(e){this._modeling=e,this._helper=new s(e)}var r=e('lodash/object/assign'),o=e('lodash/collection/forEach'),a=e('lodash/object/pick'),s=e('./helper/MoveHelper'),l=e('../../../util/Collections')
i.$inject=['modeling'],t.exports=i,i.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,o=e.newParentIndex,s=t.parent
return e.oldBounds=a(t,['x','y','width','height']),e.oldParent=s,e.oldParentIndex=l.remove(s.children,t),l.add(i.children,t,o),r(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t},i.prototype.postExecute=function(e){var t=e.shape,n=e.oldBounds,i=this._modeling
!1!==e.hints.updateAnchors&&i.updateAnchors(t,n),!1!==e.hints.layout&&(o(t.incoming,function(e){i.layoutConnection(e,{endChanged:!0})}),o(t.outgoing,function(e){i.layoutConnection(e,{startChanged:!0})})),!1!==e.hints.recurse&&this.moveChildren(e)},i.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,o=e.delta
return l.add(n.children,t,i),r(t,{parent:n,x:t.x-o.x,y:t.y-o.y}),t},i.prototype.moveChildren=function(e){var t=e.delta,n=e.shape
this._helper.moveRecursive(n.children,t,null)},i.prototype.getNewParent=function(e){return e.newParent||e.shape.parent}},{'../../../util/Collections':336,'./helper/MoveHelper':276,'lodash/collection/forEach':382,'lodash/object/assign':512,'lodash/object/pick':519}],267:[function(e,t,n){'use strict'
function i(){}t.exports=i,i.prototype.execute=function(){},i.prototype.revert=function(){}},{}],268:[function(e,t,n){'use strict'
function i(e,t){o(t,function(t){e[t]&&delete e[t]})}function r(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._selection=n,this._elementFactory=i,this._modeling=r,this._rules=o}var o=e('lodash/collection/forEach'),a=e('lodash/collection/map'),s=e('lodash/collection/sortBy'),l=e('lodash/lang/clone')
e('inherits')(r,e('./NoopHandler')),r.$inject=['eventBus','canvas','selection','elementFactory','modeling','rules'],t.exports=r,r.prototype.preExecute=function(e){var t=this._eventBus,n=e.tree,r=e.topParent,c=e.position
n.createdElements={},n.labels=[],o(n,function(e,u){var p=parseInt(u,10)
isNaN(p)||(p||(e=a(e,function(e){return e.parent=r,e})),e=s(e,'priority'),o(e,function(e){var o,a,s=e.id,u=e.parent,d=!1,f=l(e)
if(p&&(f.parent=this._getCreatedElement(u,n)),u){if(t.fire('element.paste',{createdElements:n.createdElements,descriptor:f}),u=f.parent,f.waypoints){return void((f=this._createConnection(f,u,c,n))&&(n.createdElements[s]={element:f,descriptor:e}))}
if(f.parent!==r&&(o={root:!1}),f.host&&(d=!0,u=this._getCreatedElement(f.host,n)),f.labelTarget){return n.labels.push(f)}
a={x:Math.round(c.x+f.delta.x+f.width/2),y:Math.round(c.y+f.delta.y+f.height/2)},i(f,['id','parent','delta','host','priority']),(f=this._createShape(f,u,a,d,o))&&(n.createdElements[s]={element:f,descriptor:e})}},this))},this)},r.prototype.postExecute=function(e){var t=this._modeling,n=this._selection,i=e.tree,r=i.labels,a=[]
o(r,function(e){var n,r,o,a=this._getCreatedElement(e.labelTarget,i)
a&&(n=a.label)&&(r={x:a.x,y:a.y},a.waypoints&&(r=a.waypoints[0]),o={x:Math.round(r.x-n.x+e.delta.x),y:Math.round(r.y-n.y+e.delta.y)},t.moveShape(n,o,a.parent))},this),o(i[0],function(e){var t=e.id,n=i.createdElements[t]
n&&a.push(n.element)}),n.select(a)},r.prototype._createConnection=function(e,t,n,r){var o,s,l=this._modeling,c=this._rules
return e.waypoints=a(e.waypoints,function(t,i){return{x:Math.round(n.x+e.delta[i].x),y:Math.round(n.y+e.delta[i].y)}}),o=this._getCreatedElement(e.source,r),s=this._getCreatedElement(e.target,r),o&&s&&c.allowed('element.paste',{source:o,target:s})?(i(e,['id','parent','delta','source','target','width','height','priority']),l.createConnection(o,s,e,t)):null},r.prototype._createShape=function(e,t,n,i,r){var o=this._modeling,a=this._elementFactory
if(!this._rules.allowed('element.paste',{element:e,position:n,parent:t})){return null}
var s=a.createShape(e)
return o.createShape(s,n,t,i,r),s},r.prototype._getCreatedElement=function(e,t){return t.createdElements[e]&&t.createdElements[e].element}},{'./NoopHandler':267,inherits:364,'lodash/collection/forEach':382,'lodash/collection/map':386,'lodash/collection/sortBy':390,'lodash/lang/clone':500}],269:[function(e,t,n){'use strict'
function i(){}var r=e('lodash/lang/isArray')
i.$inject=[],t.exports=i,i.prototype.execute=function(e){var t,n=e.newSource,i=e.newTarget,o=e.connection,a=e.dockingOrPoints,s=o.waypoints
if(!n&&!i){throw new Error('newSource or newTarget are required')}
if(n&&i){throw new Error('must specify either newSource or newTarget')}
return e.oldWaypoints=s,r(a)?t=a:(t=s.slice(),t.splice(n?0:-1,1,a)),n&&(e.oldSource=o.source,o.source=n),i&&(e.oldTarget=o.target,o.target=i),o.waypoints=t,o},i.prototype.revert=function(e){var t=e.newSource,n=e.newTarget,i=e.connection
return t&&(i.source=e.oldSource),n&&(i.target=e.oldTarget),i.waypoints=e.oldWaypoints,i}},{'lodash/lang/isArray':502}],270:[function(e,t,n){'use strict'
function i(e,t){this._modeling=e,this._rules=t}var r=e('lodash/collection/forEach')
i.$inject=['modeling','rules'],t.exports=i,i.prototype.preExecute=function(e){function t(e,t,n,i){return a.allowed(e,{source:t,target:n,connection:i})}var n,i=this,o=this._modeling,a=this._rules,s=e.oldShape,l=e.newData,c=e.hints,u={x:l.x,y:l.y}
n=e.newShape=e.newShape||i.createShape(l,u,s.parent),s.host&&o.updateAttachment(n,s.host)
var p
!1!==c.moveChildren&&(p=s.children.slice(),o.moveElements(p,{x:0,y:0},n))
var d=s.incoming.slice(),f=s.outgoing.slice()
r(d,function(e){var r=e.waypoints,o=r[r.length-1]
t('connection.reconnectEnd',e.source,n,e)&&i.reconnectEnd(e,n,o)}),r(f,function(e){var r=e.waypoints,o=r[0],a=e.target
t('connection.reconnectStart',n,a,e)&&i.reconnectStart(e,n,o)})},i.prototype.postExecute=function(e){var t=this._modeling,n=e.oldShape,i=e.newShape
r(i.incoming,function(e){t.layoutConnection(e,{endChanged:!0})}),r(i.outgoing,function(e){t.layoutConnection(e,{startChanged:!0})}),t.removeShape(n)},i.prototype.execute=function(e){},i.prototype.revert=function(e){},i.prototype.createShape=function(e,t,n){return this._modeling.createShape(e,t,n)},i.prototype.reconnectStart=function(e,t,n){this._modeling.reconnectStart(e,t,n)},i.prototype.reconnectEnd=function(e,t,n){this._modeling.reconnectEnd(e,t,n)}},{'lodash/collection/forEach':382}],271:[function(e,t,n){'use strict'
function i(e){this._modeling=e}var r=e('lodash/object/assign'),o=e('lodash/collection/forEach')
i.$inject=['modeling'],t.exports=i,i.prototype.execute=function(e){var t=e.shape,n=e.newBounds
if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height){throw new Error('newBounds must have {x, y, width, height} properties')}
if(n.width<10||n.height<10){throw new Error('width and height cannot be less than 10px')}
return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},r(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},i.prototype.postExecute=function(e){var t=e.shape,n=e.oldBounds,i=this._modeling
i.updateAnchors(t,n),o(t.incoming,function(e){i.layoutConnection(e,{endChanged:!0})}),o(t.outgoing,function(e){i.layoutConnection(e,{startChanged:!0})})},i.prototype.revert=function(e){var t=e.shape,n=e.oldBounds
return r(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t}},{'lodash/collection/forEach':382,'lodash/object/assign':512}],272:[function(e,t,n){'use strict'
function i(e){this._modeling=e}var r=e('lodash/collection/forEach'),o=e('../../space-tool/SpaceUtil')
i.$inject=['modeling'],t.exports=i,i.prototype.preExecute=function(e){var t=this._modeling,n=e.resizingShapes,i=e.delta,a=e.direction
r(n,function(e){var n=o.resizeBounds(e,a,i)
t.resizeShape(e,n)})},i.prototype.postExecute=function(e){var t=this._modeling,n=e.movingShapes,i=e.delta
t.moveElements(n,i)},i.prototype.execute=function(e){},i.prototype.revert=function(e){}},{'../../space-tool/SpaceUtil':312,'lodash/collection/forEach':382}],273:[function(e,t,n){'use strict'
function i(){}var r=e('lodash/collection/forEach'),o=e('../../../util/AttachUtil').getNewAttachPoint
t.exports=i,i.prototype.execute=function(e){function t(e,t){r(e,function(e){var r=e.waypoints,l='end'===t?r.length-1:0,c=r[l]
s.push({point:c,oldOriginal:c.original}),c.original=o(c.original||c,i,n),a.push(e)})}var n=e.element,i=e.oldBounds,a=e.changedConnections=[],s=e.oldAnchors=[]
return t(n.incoming,'end'),t(n.outgoing,'start'),a},i.prototype.revert=function(e){var t=e.oldAnchors,n=e.changedConnections
return r(t,function(e){e.point.original=e.oldOriginal}),n}},{'../../../util/AttachUtil':334,'lodash/collection/forEach':382}],274:[function(e,t,n){'use strict'
function i(e){this._modeling=e}function r(e,t){return a.remove(e&&e.attachers,t)}function o(e,t,n){if(e){var i=e.attachers
i||(e.attachers=i=[]),a.add(i,t,n)}}var a=e('../../../util/Collections')
t.exports=i,i.$inject=['modeling'],i.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host
return e.oldHost=i,e.attacherIdx=r(i,t),o(n,t),t.host=n,t},i.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,a=e.attacherIdx
return t.host=i,r(n,t),o(i,t,a),t}},{'../../../util/Collections':336}],275:[function(e,t,n){'use strict'
function i(){}t.exports=i,i.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints
return e.oldWaypoints=t.waypoints,t.waypoints=n,t},i.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints
return t.waypoints=n,t}},{}],276:[function(e,t,n){'use strict'
function i(e){this._modeling=e}var r=e('lodash/collection/forEach'),o=e('../../../../util/Elements')
t.exports=i,i.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},i.prototype.moveClosure=function(e,t,n,i,o){var a=this._modeling,s=e.allShapes,l=e.allConnections,c=e.enclosedConnections,u=e.topLevel,p=!1
o&&o.parent===n&&(p=!0),r(s,function(e){a.moveShape(e,t,u[e.id]&&!p&&n,{recurse:!1,layout:!1})}),r(l,function(e){var i=!!s[e.source.id],r=!!s[e.target.id]
c[e.id]&&i&&r?a.moveConnection(e,t,u[e.id]&&n,{updateAnchors:!1}):a.layoutConnection(e,{startChanged:i,endChanged:r})})},i.prototype.getClosure=function(e){return o.getClosure(e)}},{'../../../../util/Elements':339,'lodash/collection/forEach':382}],277:[function(e,t,n){'use strict'
function i(e,t){this._eventBus=e,this._canvas=t,this._init()}var r=e('lodash/function/bind')
i.$inject=['eventBus','canvas'],t.exports=i,i.prototype.getHoverContext=function(){var e=this._canvas.viewbox()
return{element:this._hoverElement,point:{x:e.x+Math.round(this._mouseX/e.scale),y:e.y+Math.round(this._mouseY/e.scale)}}},i.prototype._init=function(){var e=this._eventBus,t=this._canvas,n=t.getContainer()
this._setMousePosition=r(this._setMousePosition,this),n.addEventListener('mousemove',this._setMousePosition),e.on('diagram.destroy',function(){n.removeEventListener('mousemove',this._setMousePosition)},this),e.on('element.hover',this._setHoverElement,this)},i.prototype._setHoverElement=function(e){this._hoverElement=e.element},i.prototype._setMousePosition=function(e){this._mouseX=e.offsetX,this._mouseY=e.offsetY}},{'lodash/function/bind':392}],278:[function(e,t,n){'use strict'
t.exports={__init__:['mouseTracking'],mouseTracking:['type',e('./MouseTracking')]}},{'./MouseTracking':277}],279:[function(e,t,n){'use strict'
function i(e){return{x:e.x+f(e.width/2),y:e.y+f(e.height/2)}}function r(e,t,n,r,s){function l(e,t,n,i){return s.allowed('elements.move',{shapes:e,delta:t,position:n,target:i})}function h(e,n,r){if(!n.waypoints&&n.parent){var o=i(n)
t.init(e,o,'shape.move',{cursor:'grabbing',autoActivate:r,data:{shape:n,context:{}}})}}e.on('shape.move.start',p,function(e){var t=e.context,n=e.shape,i=r.get().slice();-1===i.indexOf(n)&&(i=[n]),i=o(i),a(t,{shapes:i,validatedShapes:i,shape:n})}),e.on('shape.move.start',u,function(e){var t=e.context,n=t.validatedShapes
if(!(t.canExecute=l(n))){return e.stopPropagation(),!1}}),e.on('shape.move.move',c,function(e){var t,n=e.context,i=n.validatedShapes,r=e.hover,o={x:e.dx,y:e.dy},a={x:e.x,y:e.y}
if(t=l(i,o,a,r),n.delta=o,n.canExecute=t,null===t){return void(n.target=null)}
n.target=r}),e.on('shape.move.end',function(e){var t=e.context,i=t.delta,r=t.canExecute,o='attach'===r,a=t.shapes
if(!r){return!1}
i.x=f(i.x),i.y=f(i.y),n.moveElements(a,i,t.target,o,{primaryShape:t.shape})}),e.on('element.mousedown',function(e){var t=d(e)
if(!t){throw new Error('must supply DOM mousedown event')}
h(t,e.element)}),this.start=h}function o(e){var t=l(e,'id')
return s(e,function(e){for(;e=e.parent;){if(t[e.id]){return!1}}
return!0})}var a=e('lodash/object/assign'),s=e('lodash/collection/filter'),l=e('lodash/collection/groupBy'),c=500,u=1250,p=1500,d=e('../../util/Event').getOriginal,f=Math.round
r.$inject=['eventBus','dragging','modeling','selection','rules'],t.exports=r},{'../../util/Event':340,'lodash/collection/filter':380,'lodash/collection/groupBy':383,'lodash/object/assign':512}],280:[function(e,t,n){'use strict'
function i(e,t,n,i){function l(e){return t.getGraphics(e)}function c(e){return r(u(e))}function u(e){var t=f.selfAndAllChildren(e,!0),n=d(t,function(e){return(e.incoming||[]).concat(e.outgoing||[])})
return a(t.concat(n),!0)}function p(e,t){[b,v,g,y].forEach(function(i){i===t?n.addMarker(e,i):n.removeMarker(e,i)})}function x(e,t){var r=e.dragGroup
r||(r=e.dragGroup=n.getDefaultLayer().group().attr(i.cls('djs-drag-group',['no-events'])))
var o=l(t),a=o.clone(),s=o.getBBox()
return a.attr(i.cls('djs-dragger',[],{x:s.x,y:s.y})),r.add(a),a}function E(e,t,i){x(e,t),i&&n.addMarker(t,m),e.allDraggedElements?e.allDraggedElements.push(t):e.allDraggedElements=[t]}this.addDragger=x,this.makeDraggable=E,e.on('shape.move.start',h,function(e){var t=e.context,i=t.shapes,r=t.allDraggedElements
c(i).forEach(function(e){x(t,e)}),r=r?a(r,u(i)):u(i),s(r,function(e){n.addMarker(e,m)}),t.allDraggedElements=r,t.differentParents=o(i)}),e.on('shape.move.move',h,function(e){var t=e.context,n=t.dragGroup,i=t.target,r=t.shape.parent,o=t.canExecute
i&&('attach'===o?p(i,b):t.canExecute&&i&&i.id!==r.id?p(i,y):p(i,t.canExecute?v:g)),n.translate(e.dx,e.dy)}),e.on(['shape.move.out','shape.move.cleanup'],function(e){var t=e.context,n=t.target
n&&p(n,null)}),e.on('shape.move.cleanup',function(e){var t=e.context,i=t.allDraggedElements,r=t.dragGroup
s(i,function(e){n.removeMarker(e,m)}),r&&r.remove()})}function r(e){return l(e,function(t){if(t.waypoints){var n=c(e,t.source),i=c(e,t.target)
return n&&i}return!0})}function o(e){return 1!==u(p(e,function(e){return e.parent&&e.parent.id}))}var a=e('lodash/array/flatten'),s=e('lodash/collection/forEach'),l=e('lodash/collection/filter'),c=e('lodash/collection/find'),u=e('lodash/collection/size'),p=e('lodash/collection/groupBy'),d=e('lodash/collection/map'),f=e('../../util/Elements'),h=500,m='djs-dragging',v='drop-ok',g='drop-not-ok',y='new-parent',b='attach-ok'
i.$inject=['eventBus','elementRegistry','canvas','styles'],t.exports=i},{'../../util/Elements':339,'lodash/array/flatten':369,'lodash/collection/filter':380,'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/collection/groupBy':383,'lodash/collection/map':386,'lodash/collection/size':388}],281:[function(e,t,n){t.exports={__depends__:[e('../interaction-events'),e('../selection'),e('../outline'),e('../rules'),e('../dragging')],__init__:['move','moveVisuals'],move:['type',e('./Move')],moveVisuals:['type',e('./MoveVisuals')]}},{'../dragging':240,'../interaction-events':248,'../outline':284,'../rules':300,'../selection':306,'./Move':279,'./MoveVisuals':280}],282:[function(e,t,n){'use strict'
function i(e){o.call(this,e)
var t=this
this.preExecute(['shape.create','connection.create'],function(e){var n=e.context,i=n.shape||n.connection,r=n.parent,o=t.getOrdering(i,r)
o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)}),this.preExecute(['shape.move','connection.move'],function(e){var n=e.context,i=n.shape||n.connection,r=n.newParent||i.parent,o=t.getOrdering(i,r)
o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)})}var r=e('inherits'),o=e('../../command/CommandInterceptor')
i.prototype.getOrdering=function(e,t){return null},r(i,o),t.exports=i},{'../../command/CommandInterceptor':203,inherits:364}],283:[function(e,t,n){'use strict'
function i(e,t,n){function i(e,t){return e.rect(10,10,0,0).attr(r)}this.offset=6
var r=t.cls('djs-outline',['no-fill']),o=this
e.on(['shape.added','shape.changed'],function(e){var t=e.element,n=e.gfx,r=n.select('.djs-outline')
r||(r=i(n,t)),o.updateShapeOutline(r,t)}),e.on(['connection.added','connection.changed'],function(e){var t=e.element,n=e.gfx,r=n.select('.djs-outline')
r||(r=i(n,t)),o.updateConnectionOutline(r,t)})}var r=e('../../util/Elements').getBBox
i.prototype.updateShapeOutline=function(e,t){e.attr({x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},i.prototype.updateConnectionOutline=function(e,t){var n=r(t)
e.attr({x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},i.$inject=['eventBus','styles','elementRegistry'],t.exports=i},{'../../util/Elements':339}],284:[function(e,t,n){'use strict'
t.exports={__init__:['outline'],outline:['type',e('./Outline')]}},{'./Outline':283}],285:[function(e,t,n){'use strict'
function i(e){var t=h('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />')
return e.insertBefore(t,e.firstChild),t}function r(e,t,n){u(e.style,{left:t+'px',top:n+'px'})}function o(e,t){e.style.display=!1===t?'none':''}function a(e,t,n){this._eventBus=e,this._canvas=t,this._elementRegistry=n,this._ids=b,this._overlayDefaults={show:{minZoom:.7,maxZoom:5}},this._overlays={},this._overlayContainers=[],this._overlayRoot=i(t.getContainer()),this._init()}var s=e('lodash/lang/isArray'),l=e('lodash/lang/isString'),c=e('lodash/lang/isObject'),u=e('lodash/object/assign'),p=e('lodash/collection/forEach'),d=e('lodash/collection/find'),f=e('lodash/collection/filter'),h=e('min-dom/lib/domify'),m=e('min-dom/lib/classes'),v=e('min-dom/lib/attr'),g=e('min-dom/lib/remove'),y=e('../../util/Elements').getBBox,b=new(e('../../util/IdGenerator'))('ov')
a.$inject=['eventBus','canvas','elementRegistry'],t.exports=a,a.prototype.get=function(e){if(l(e)&&(e={id:e}),l(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0)
return t?e.type?f(t.overlays,{type:e.type}):t.overlays.slice():[]}return e.type?f(this._overlays,{type:e.type}):e.id?this._overlays[e.id]:null},a.prototype.add=function(e,t,n){if(c(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position){throw new Error('must specifiy overlay position')}
if(!n.html){throw new Error('must specifiy overlay html')}
if(!e){throw new Error('invalid element specified')}
var i=this._ids.next()
return n=u({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},a.prototype.remove=function(e){var t=this.get(e)||[]
s(t)||(t=[t])
var n=this
p(t,function(e){var t=n._getOverlayContainer(e.element,!0)
if(e&&(g(e.html),g(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}})},a.prototype.show=function(){o(this._overlayRoot)},a.prototype.hide=function(){o(this._overlayRoot,!1)},a.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,o=t.y
if(t.waypoints){var a=y(t)
i=a.x,o=a.y}r(n,i,o),v(e.html,'data-container-id',t.id)},a.prototype._updateOverlay=function(e){var t=e.position,n=e.htmlContainer,i=e.element,o=t.left,a=t.top
if(void 0!==t.right){var s
s=i.waypoints?y(i).width:i.width,o=-1*t.right+s}if(void 0!==t.bottom){var l
l=i.waypoints?y(i).height:i.height,a=-1*t.bottom+l}r(n,o||0,a||0)},a.prototype._createOverlayContainer=function(e){var t=h('<div class="djs-overlays" style="position: absolute" />')
this._overlayRoot.appendChild(t)
var n={html:t,element:e,overlays:[]}
return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},a.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i='matrix('+t+',0,0,'+n+','+-1*e.x*t+','+-1*e.y*n+')'
this._overlayRoot.style.transform=i,this._overlayRoot.style['-ms-transform']=i,this._overlayRoot.style['-webkit-transform']=i},a.prototype._getOverlayContainer=function(e,t){var n=d(this._overlayContainers,function(t){return t.element===e})
return n||t?n:this._createOverlayContainer(e)},a.prototype._addOverlay=function(e){var t,n,i=e.id,r=e.element,o=e.html
o.get&&(o=o.get(0)),l(o)&&(o=h(o)),n=this._getOverlayContainer(r),t=h('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">'),t.appendChild(o),e.type&&m(t).add('djs-overlay-'+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},a.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=e.htmlContainer,r=!0
n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(r=!1),o(i,r))},a.prototype._updateOverlaysVisibilty=function(e){var t=this
p(this._overlays,function(n){t._updateOverlayVisibilty(n,e)})},a.prototype._init=function(){function e(e){n._updateRoot(e),n._updateOverlaysVisibilty(e),n.show()}var t=this._eventBus,n=this
t.on('canvas.viewbox.changing',function(e){n.hide()}),t.on('canvas.viewbox.changed',function(t){e(t.viewbox)}),t.on(['shape.remove','connection.remove'],function(e){var t=e.element,i=n.get({element:t})
p(i,function(e){n.remove(e.id)})
var r=n._getOverlayContainer(t)
if(r){g(r.html)
var o=n._overlayContainers.indexOf(r);-1!==o&&n._overlayContainers.splice(o,1)}}),t.on(['element.changed'],function(e){var t=e.element,i=n._getOverlayContainer(t,!0)
i&&(p(i.overlays,function(e){n._updateOverlay(e)}),n._updateOverlayContainer(i))}),t.on('element.marker.update',function(e){var t=n._getOverlayContainer(e.element,!0)
t&&m(t.html)[e.add?'add':'remove'](e.marker)})}},{'../../util/Elements':339,'../../util/IdGenerator':343,'lodash/collection/filter':380,'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/lang/isArray':502,'lodash/lang/isObject':507,'lodash/lang/isString':509,'lodash/object/assign':512,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/domify':530,'min-dom/lib/remove':534}],286:[function(e,t,n){t.exports={__init__:['overlays'],overlays:['type',e('./Overlays')]}},{'./Overlays':285}],287:[function(e,t,n){'use strict'
function i(e,t,n){this._eventBus=e,this._canvas=t,this._dragging=n,this._providers=[]
var i=this
e.on('tool-manager.update',function(e){var t=e.tool
i.updateToolHighlight(t)}),e.on('i18n.changed',function(){i._update()})}var r=e('lodash/lang/isFunction'),o=e('lodash/collection/forEach'),a=e('min-dom/lib/domify'),s=e('min-dom/lib/query'),l=e('min-dom/lib/attr'),c=e('min-dom/lib/clear'),u=e('min-dom/lib/classes'),p=e('min-dom/lib/matches'),d=e('min-dom/lib/delegate'),f=e('min-dom/lib/event')
i.$inject=['eventBus','canvas','dragging'],t.exports=i,i.prototype.registerProvider=function(e){this._providers.push(e),this._container||this._init(),this._update()},i.prototype.getEntries=function(){var e={}
return o(this._providers,function(t){var n=t.getPaletteEntries()
o(n,function(t,n){e[n]=t})}),e},i.prototype._init=function(){var e=this._canvas,t=this._eventBus,n=e.getContainer(),r=this._container=a(i.HTML_MARKUP),o=this
n.appendChild(r),d.bind(r,'.djs-palette-toggle, .entry','click',function(e){var t=e.delegateTarget
if(p(t,'.djs-palette-toggle')){return o.toggle()}
o.trigger('click',e)}),f.bind(r,'mousedown',function(e){e.stopPropagation()}),d.bind(r,'.entry','dragstart',function(e){o.trigger('dragstart',e)}),t.fire('palette.create',{html:r}),t.on('canvas.resized',function(){n.clientHeight<650?u(r).add('two-column'):u(r).remove('two-column')})},i.prototype._update=function(){var e=s('.djs-palette-entries',this._container),t=this._entries=this.getEntries()
c(e),o(t,function(t,n){var i=t.group||'default',r=s('[data-group='+i+']',e)
r||(r=a('<div class="group" data-group="'+i+'"></div>'),e.appendChild(r))
var o=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),c=a(o)
r.appendChild(c),t.separator||(l(c,'data-action',n),t.title&&l(c,'title',t.title),t.className&&u(c).add(t.className),t.imageUrl&&c.appendChild(a('<img src="'+t.imageUrl+'">')))}),this.open(!0)},i.prototype.trigger=function(e,t,n){var i,o,a,s=this._entries,c=t.delegateTarget||t.target
if(!c){return t.preventDefault();}(i=s[l(c,'data-action')])&&(o=i.action,a=t.originalEvent||t,r(o)?'click'===e&&o(a,n):o[e]&&o[e](a,n),t.preventDefault())},i.prototype.close=function(){u(this._container).remove('open')},i.prototype.open=function(){u(this._container).add('open')},i.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},i.prototype.isActiveTool=function(e){return e&&this._activeTool===e},i.prototype.updateToolHighlight=function(e){var t,n
this._toolsContainer||(t=s('.djs-palette-entries',this._container),this._toolsContainer=s('[data-group=tools]',t)),n=this._toolsContainer,o(n.children,function(t){var n=t.getAttribute('data-action')
n&&(n=n.replace('-tool',''),t.classList.contains('entry')&&n===e?u(t).add('highlighted-entry'):u(t).remove('highlighted-entry'))})},i.prototype.isOpen=function(){return this._container&&u(this._container).has('open')},i.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>'},{'lodash/collection/forEach':382,'lodash/lang/isFunction':504,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/clear':527,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/event':531,'min-dom/lib/matches':532,'min-dom/lib/query':533}],288:[function(e,t,n){'use strict'
t.exports={__depends__:[e('../tool-manager')],__init__:['palette'],palette:['type',e('./Palette')]}},{'../tool-manager':315,'./Palette':287}],289:[function(e,t,n){'use strict'
function i(e,t){this._eventBus=e,this._canvas=t,this._providers={}}var r=e('lodash/collection/forEach'),o=e('lodash/object/assign'),a=e('lodash/collection/find'),s=e('min-dom/lib/delegate'),l=e('min-dom/lib/domify'),c=e('min-dom/lib/classes'),u=e('min-dom/lib/attr'),p=e('min-dom/lib/remove')
i.$inject=['eventBus','canvas'],i.prototype.registerProvider=function(e,t){this._providers[e]=t},i.prototype.create=function(e,t){var n=this._providers[e]
if(!n){throw new Error('Provider is not registered: '+e)}
if(!t){throw new Error('Element is missing')}
var i=this._current={provider:n,className:e,element:t}
return n.getHeaderEntries&&(i.headerEntries=n.getHeaderEntries(t)),i.entries=n.getEntries(t),this},i.prototype.isEmpty=function(){var e=this._current
return 0===e.entries.length&&e.headerEntries&&0===e.headerEntries.length},i.prototype.open=function(e){if(!e){throw new Error('the position argument is missing')}
this.isOpen()&&this.close()
var t=this._current,n=this._canvas,i=n.getContainer()
if(t.position=e,t.container=this._createContainer(),t.headerEntries){var r=this._createEntries(t.headerEntries,'djs-popup-header')
t.container.appendChild(r)}if(t.entries){var o=this._createEntries(t.entries,'djs-popup-body')
t.container.appendChild(o)}return this._attachContainer(t.container,i,e.cursor),this},i.prototype.close=function(){this.isOpen()&&(this._unbindHandlers(),p(this._current.container),this._current.container=null)},i.prototype.isOpen=function(){return!!this._current.container},i.prototype.trigger=function(e){e.preventDefault()
var t=e.delegateTarget||e.target,n=u(t,'data-id'),i=this._getEntry(n)
if(i.action){return i.action.call(null,e,i)}},i.prototype._getEntry=function(e){var t={id:e},n=a(this._current.entries,t)||a(this._current.headerEntries,t)
if(!n){throw new Error('entry not found')}
return n},i.prototype._createContainer=function(){var e=l('<div class="djs-popup">'),t=this._current.position,n=this._current.className
return o(e.style,{position:'absolute',left:t.x+'px',top:t.y+'px',visibility:'hidden'}),c(e).add(n),e},i.prototype._attachContainer=function(e,t,n){var i=this
s.bind(e,'.entry','click',function(e){i.trigger(e)})
var r=this._canvas.zoom()
e.style.transformOrigin='top left',e.style.transform='scale('+r+')',t.appendChild(e),n&&this._assureIsInbounds(e,n),this._bindHandlers()},i.prototype._assureIsInbounds=function(e,t){var n,i,r=this._canvas,a=r._container.getBoundingClientRect(),s=e.offsetLeft,l=e.offsetTop,c=e.scrollWidth,u=e.scrollHeight,p={},d={x:t.x-a.left,y:t.y-a.top}
s+c>a.width&&(p.x=!0),l+u>a.height&&(p.y=!0),p.x&&p.y?(n=d.x-c+'px',i=d.y-u+'px'):p.x?(n=d.x-c+'px',i=d.y+'px'):p.y&&(n=d.x+'px',i=d.y-u+'px'),o(e.style,{left:n,top:i},{visibility:'visible','z-index':1e3})},i.prototype._createEntries=function(e,t){var n=l('<div>'),i=this
return c(n).add(t),r(e,function(e){var t=i._createEntry(e,n)
n.appendChild(t)}),n},i.prototype._createEntry=function(e){if(!e.id){throw new Error('every entry must have the id property set')}
var t=l('<div>'),n=c(t)
if(n.add('entry'),e.className&&n.add(e.className),u(t,'data-id',e.id),e.label){var i=l('<span>')
i.textContent=e.label,t.appendChild(i)}return e.imageUrl&&t.appendChild(l('<img src="'+e.imageUrl+'" />')),!0===e.active&&n.add('active'),!0===e.disabled&&n.add('disabled'),e.title&&(t.title=e.title),t},i.prototype._bindHandlers=function(){function e(){n.close()}var t=this._eventBus,n=this
t.once('contextPad.close',e),t.once('canvas.viewbox.changing',e),t.once('commandStack.changed',e)},i.prototype._unbindHandlers=function(){function e(){n.close()}var t=this._eventBus,n=this
t.off('contextPad.close',e),t.off('canvas.viewbox.changed',e),t.off('commandStack.changed',e)},t.exports=i},{'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/object/assign':512,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/remove':534}],290:[function(e,t,n){'use strict'
t.exports={__init__:['popupMenu'],popupMenu:['type',e('./PopupMenu')]}},{'./PopupMenu':289}],291:[function(e,t,n){'use strict'
function i(e){this._modeling=e}t.exports=i,i.$inject=['modeling'],i.prototype.replaceElement=function(e,t,n){var i=this._modeling,r=null
return e.waypoints||(t.x=Math.ceil(e.x+(t.width||e.width)/2),t.y=Math.ceil(e.y+(t.height||e.height)/2),r=i.replaceShape(e,t,n)),r}},{}],292:[function(e,t,n){'use strict'
t.exports={__init__:['replace'],replace:['type',e('./Replace')]}},{'./Replace':291}],293:[function(e,t,n){'use strict'
function i(e,t,n,i){this._dragging=i,this._rules=t
var r=this
e.on('resize.start',function(e){var t=e.context,n=t.resizeConstraints,i=t.minBounds
void 0===n&&(void 0===i&&(i=r.computeMinResizeBox(t)),t.resizeConstraints={min:s(i)})}),e.on('resize.move',function(e){var t,n,i=e.context,o=i.shape,s=i.direction,l=i.resizeConstraints
t={x:e.dx,y:e.dy},i.delta=t,n=a.resizeBounds(o,s,t),i.newBounds=a.ensureConstraints(n,l),i.canExecute=r.canResize(i)}),e.on('resize.end',function(e){var t=e.context,i=t.shape,r=t.canExecute,o=t.newBounds
r&&(o=l(o),n.resizeShape(i,o))})}var r=e('lodash/object/pick'),o=e('lodash/object/assign'),a=e('./ResizeUtil'),s=e('../../layout/LayoutUtil').asTRBL,l=e('../../layout/LayoutUtil').roundBounds
i.prototype.canResize=function(e){var t=this._rules,n=r(e,['newBounds','shape','delta','direction'])
return t.allowed('shape.resize',n)},i.prototype.activate=function(e,t,n){var i,r,a=this._dragging
if('string'==typeof n&&(n={direction:n}),i=o({shape:t},n),!(r=i.direction)){throw new Error('must provide a direction (nw|se|ne|sw)')}
a.init(e,'resize',{autoActivate:!0,cursor:'resize-'+(/nw|se/.test(r)?'nwse':'nesw'),data:{shape:t,context:i}})},i.prototype.computeMinResizeBox=function(e){var t,n,i=e.shape,r=e.direction
return t=e.minDimensions||{width:10,height:10},n=a.computeChildrenBBox(i,e.childrenBoxPadding),a.getMinResizeBounds(r,i,t,n)},i.$inject=['eventBus','rules','modeling','dragging'],t.exports=i},{'../../layout/LayoutUtil':325,'./ResizeUtil':295,'lodash/object/assign':512,'lodash/object/pick':519}],294:[function(e,t,n){'use strict'
function i(e,t,n,i){this._resize=i,this._canvas=t
var o=this
e.on('selection.changed',function(e){var t=e.newSelection
o.removeResizers(),1===t.length&&r(t,o.addResizer,o)}),e.on('shape.changed',function(e){var t=e.element
n.isSelected(t)&&(o.removeResizers(),o.addResizer(t))})}var r=e('lodash/collection/forEach'),o=e('../../../vendor/snapsvg'),a=e('min-dom/lib/event'),s=e('../../util/Mouse').isPrimaryButton,l=e('../../layout/LayoutUtil').asTRBL
i.prototype.makeDraggable=function(e,t,n){function i(t){s(t)&&r.activate(t,e,n)}var r=this._resize
a.bind(t.node,'mousedown',i),a.bind(t.node,'touchstart',i)},i.prototype._createResizer=function(e,t,n,i,r){var a=this._getResizersParent(),s=a.group().addClass('djs-resizer').addClass('djs-resizer-'+e.id).addClass('djs-resizer-'+r)
s.rect(-7,-7,5,5).addClass('djs-resizer-visual'),s.rect(-7,-7,20,20).addClass('djs-resizer-hit')
var l=(new o.Matrix).translate(t,n).rotate(i,0,0)
return s.transform(l),s},i.prototype.createResizer=function(e,t){var n,i=l(e)
n='nw'===t?this._createResizer(e,i.left,i.top,0,t):'ne'===t?this._createResizer(e,i.right,i.top,90,t):'se'===t?this._createResizer(e,i.right,i.bottom,180,t):this._createResizer(e,i.left,i.bottom,270,t),this.makeDraggable(e,n,t)},i.prototype.addResizer=function(e){this._resize.canResize({shape:e})&&(this.createResizer(e,'nw'),this.createResizer(e,'ne'),this.createResizer(e,'se'),this.createResizer(e,'sw'))},i.prototype.removeResizers=function(){var e=this._getResizersParent(),t=e.selectAll('.djs-resizer')
r(t,function(e){e.remove()})},i.prototype._getResizersParent=function(){return this._canvas.getLayer('resizers')},i.$inject=['eventBus','canvas','selection','resize'],t.exports=i},{'../../../vendor/snapsvg':352,'../../layout/LayoutUtil':325,'../../util/Mouse':346,'lodash/collection/forEach':382,'min-dom/lib/event':531}],295:[function(e,t,n){'use strict'
function i(e){return'number'==typeof e}function r(e,t,n){var r=t[e],o=n.min&&n.min[e],a=n.max&&n.max[e]
return i(o)&&(r=(/top|left/.test(e)?p:u)(r,o)),i(a)&&(r=(/top|left/.test(e)?u:p)(r,a)),r}function o(e,t){return void 0!==e?e:d}function a(e,t){var n,i,r,a
return'object'==typeof t?(n=o(t.left),i=o(t.right),r=o(t.top),a=o(t.bottom)):n=i=r=a=o(t),{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+a}}function s(e){return!e.waypoints&&'label'!==e.type}function l(e,t){var n
if(n=void 0===e.length?c(e.children,s):e,n.length){return a(f(n),t)}}var c=e('lodash/collection/filter'),u=Math.max,p=Math.min,d=20,f=e('../../util/Elements').getBBox,h=e('../../layout/LayoutUtil').asTRBL,m=e('../../layout/LayoutUtil').asBounds
t.exports.substractTRBL=function(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}},t.exports.resizeBounds=function(e,t,n){var i=n.x,r=n.y
switch(t){case'nw':return{x:e.x+i,y:e.y+r,width:e.width-i,height:e.height-r}
case'sw':return{x:e.x+i,y:e.y,width:e.width-i,height:e.height+r}
case'ne':return{x:e.x,y:e.y+r,width:e.width+i,height:e.height-r}
case'se':return{x:e.x,y:e.y,width:e.width+i,height:e.height+r}
default:throw new Error('unrecognized direction: '+t)}},t.exports.resizeTRBL=function(e,t){return{x:e.x+(t.left||0),y:e.y+(t.top||0),width:e.width-(t.left||0)+(t.right||0),height:e.height-(t.top||0)+(t.bottom||0)}},t.exports.reattachPoint=function(e,t,n){var i=e.width/t.width,r=e.height/t.height
return{x:Math.round(t.x+t.width/2)-Math.floor((e.x+e.width/2-n.x)/i),y:Math.round(t.y+t.height/2)-Math.floor((e.y+e.height/2-n.y)/r)}},t.exports.ensureConstraints=function(e,t){if(!t){return e}
var n=h(e)
return m({top:r('top',n,t),right:r('right',n,t),bottom:r('bottom',n,t),left:r('left',n,t)})},t.exports.getMinResizeBounds=function(e,t,n,i){var r=h(t),o={top:/n/.test(e)?r.bottom-n.height:r.top,left:/w/.test(e)?r.right-n.width:r.left,bottom:/s/.test(e)?r.top+n.height:r.bottom,right:/e/.test(e)?r.left+n.width:r.right},a=i?h(i):o,s={top:p(o.top,a.top),left:p(o.left,a.left),bottom:u(o.bottom,a.bottom),right:u(o.right,a.right)}
return m(s)},t.exports.addPadding=a,t.exports.computeChildrenBBox=l},{'../../layout/LayoutUtil':325,'../../util/Elements':339,'lodash/collection/filter':380}],296:[function(e,t,n){'use strict'
function i(e,t){this._canvas=t
var n=this
e.on('resize.start',a,function(e){var i=e.context,r=i.shape
t.addMarker(r,o),n.create(i)}),e.on('resize.move',a,function(e){var t=e.context
n.update(t)}),e.on('resize.cleanup',function(e){var i=e.context,r=i.shape
t.removeMarker(r,o),n.remove(i)})}var r=e('../../../vendor/snapsvg'),o='djs-resizing',a=500
i.prototype.create=function(e){var t,n=this._canvas.getDefaultLayer(),i=e.shape
t=e.frame=r.create('rect',{class:'djs-resize-overlay',width:i.width+10,height:i.height+10,x:i.x-5,y:i.y-5}),t.appendTo(n)},i.prototype.update=function(e){var t=e.frame,n=e.newBounds
n.width>5&&t.attr({x:n.x,width:n.width}),n.height>5&&t.attr({y:n.y,height:n.height}),t[e.canExecute?'removeClass':'addClass']('resize-not-ok')},i.prototype.remove=function(e){e.frame&&e.frame.remove()},i.$inject=['eventBus','canvas'],t.exports=i},{'../../../vendor/snapsvg':352}],297:[function(e,t,n){t.exports={__depends__:[e('../rules'),e('../dragging')],__init__:['resize','resizeVisuals','resizeHandles'],resize:['type',e('./Resize')],resizeVisuals:['type',e('./ResizeVisuals')],resizeHandles:['type',e('./ResizeHandles')]}},{'../dragging':240,'../rules':300,'./Resize':293,'./ResizeHandles':294,'./ResizeVisuals':296}],298:[function(e,t,n){'use strict'
function i(e){o.call(this,e),this.init()}var r=e('inherits'),o=e('../../command/CommandInterceptor')
i.$inject=['eventBus'],r(i,o),t.exports=i,i.prototype.addRule=function(e,t,n){var i=this
'string'==typeof e&&(e=[e]),e.forEach(function(e){i.canExecute(e,t,function(e,t,i){return n(e)},!0)})},i.prototype.init=function(){}},{'../../command/CommandInterceptor':203,inherits:364}],299:[function(e,t,n){'use strict'
function i(e){this._commandStack=e.get('commandStack',!1)}i.$inject=['injector'],t.exports=i,i.prototype.allowed=function(e,t){var n=!0,i=this._commandStack
return i&&(n=i.canExecute(e,t)),void 0===n||n}},{}],300:[function(e,t,n){t.exports={__init__:['rules'],rules:['type',e('./Rules')]}},{'./Rules':299}],301:[function(e,t,n){'use strict'
function i(e,t,n,r){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=e,this._eventBus=t,this._overlays=n,this._selection=r,this._container=d(i.BOX_HTML),this._searchInput=c(i.INPUT_SELECTOR,this._container),this._resultsContainer=c(i.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(['canvas.destroy','diagram.destroy'],this.close,this)}function r(e){var t=e.width+12,n=e.height+12
return{position:{bottom:n-6,right:t-6},show:!0,html:'<div style="'+['width: '+t+'px','height: '+n+'px'].join('; ')+'" class="'+i.OVERLAY_CLASS+'"></div>'}}function o(e,t,n){var i=a(t),r=d(n)
r.innerHTML=i,e.appendChild(r)}function a(e){var t=''
return e.forEach(function(e){e.matched?t+='<strong class="'+i.RESULT_HIGHLIGHT_CLASS+'">'+e.matched+'</strong>':t+=e.normal}),''!==t?t:null}var s=e('min-dom/lib/clear'),l=e('min-dom/lib/delegate'),c=e('min-dom/lib/query'),u=e('min-dom/lib/classes'),p=e('min-dom/lib/attr'),d=e('min-dom/lib/domify'),f=e('../../util/Elements').getBBox
i.$inject=['canvas','eventBus','overlays','selection'],i.prototype._bindEvents=function(){function e(e,n,i,r){t._eventMaps.push({el:e,type:i,listener:l.bind(e,n,i,r)})}var t=this
e(document,'html','click',function(e){t.close()}),e(this._container,i.INPUT_SELECTOR,'click',function(e){e.stopPropagation(),e.delegateTarget.focus()}),e(this._container,i.RESULT_SELECTOR,'mouseover',function(e){e.stopPropagation(),t._scrollToNode(e.delegateTarget),t._preselect(e.delegateTarget)}),e(this._container,i.RESULT_SELECTOR,'click',function(e){e.stopPropagation(),t._select(e.delegateTarget)}),e(this._container,i.INPUT_SELECTOR,'keydown',function(e){38===e.keyCode&&e.preventDefault(),40===e.keyCode&&e.preventDefault()}),e(this._container,i.INPUT_SELECTOR,'keyup',function(e){if(27===e.keyCode){return t.close()}
if(13===e.keyCode){var n=t._getCurrentResult()
return n?t._select(n):t.close()}return 38===e.keyCode?t._scrollToDirection(!0):40===e.keyCode?t._scrollToDirection():void(37!==e.keyCode&&39!==e.keyCode&&t._search(e.delegateTarget.value))})},i.prototype._unbindEvents=function(){this._eventMaps.forEach(function(e){l.unbind(e.el,e.type,e.listener)})},i.prototype._search=function(e){var t=this
if(this._clearResults(),e&&''!==e){var n=this._searchProvider.find(e)
if(n.length){n.forEach(function(e){var n=e.element.id,i=t._createResultNode(e,n)
t._results[n]={element:e.element,node:i}})
var r=c(i.RESULT_SELECTOR,this._resultsContainer)
this._scrollToNode(r),this._preselect(r)}}},i.prototype._scrollToDirection=function(e){var t=this._getCurrentResult()
if(t){var n=e?t.previousElementSibling:t.nextElementSibling
n&&(this._scrollToNode(n),this._preselect(n))}},i.prototype._scrollToNode=function(e){if(e&&e!==this._getCurrentResult()){var t=e.offsetTop,n=this._resultsContainer.scrollTop,i=t-this._resultsContainer.clientHeight+e.clientHeight
t<n?this._resultsContainer.scrollTop=t:n<i&&(this._resultsContainer.scrollTop=i)}},i.prototype._clearResults=function(){s(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire('searchPad.cleared')},i.prototype._getCurrentResult=function(){return c(i.RESULT_SELECTED_SELECTOR,this._resultsContainer)},i.prototype._createResultNode=function(e,t){var n=d(i.RESULT_HTML)
return e.primaryTokens.length>0&&o(n,e.primaryTokens,i.RESULT_PRIMARY_HTML),o(n,e.secondaryTokens,i.RESULT_SECONDARY_HTML),p(n,i.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n},i.prototype.registerProvider=function(e){this._searchProvider=e},i.prototype.open=function(){if(!this._searchProvider){throw new Error('no search provider registered')}
this.isOpen()||(this._bindEvents(),this._open=!0,u(this._container).add('open'),this._searchInput.focus(),this._eventBus.fire('searchPad.opened'))},i.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,u(this._container).remove('open'),this._clearResults(),this._searchInput.value='',this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire('searchPad.closed'))},i.prototype.toggle=function(){this.isOpen()?this.close():this.open()},i.prototype.isOpen=function(){return this._open},i.prototype._preselect=function(e){var t=this._getCurrentResult()
if(e!==t){t&&u(t).remove(i.RESULT_SELECTED_CLASS)
var n=p(e,i.RESULT_ID_ATTRIBUTE),r=this._results[n].element
u(e).add(i.RESULT_SELECTED_CLASS),this._resetOverlay(r),this._centerViewbox(r),this._selection.select(r),this._eventBus.fire('searchPad.preselected',r)}},i.prototype._select=function(e){var t=p(e,i.RESULT_ID_ATTRIBUTE),n=this._results[t].element
this.close(),this._resetOverlay(),this._centerViewbox(n),this._selection.select(n),this._eventBus.fire('searchPad.selected',n)},i.prototype._centerViewbox=function(e){var t=this._canvas.viewbox(),n=f(e),i={x:n.x+n.width/2-t.outer.width/2,y:n.y+n.height/2-t.outer.height/2,width:t.outer.width,height:t.outer.height}
this._canvas.viewbox(i),this._canvas.zoom(t.scale)},i.prototype._resetOverlay=function(e){if(this._overlayId&&this._overlays.remove(this._overlayId),e){var t=f(e),n=r(t)
this._overlayId=this._overlays.add(e,n)}},t.exports=i,i.CONTAINER_SELECTOR='.djs-search-container',i.INPUT_SELECTOR='.djs-search-input input',i.RESULTS_CONTAINER_SELECTOR='.djs-search-results',i.RESULT_SELECTOR='.djs-search-result',i.RESULT_SELECTED_CLASS='djs-search-result-selected',i.RESULT_SELECTED_SELECTOR='.'+i.RESULT_SELECTED_CLASS,i.RESULT_ID_ATTRIBUTE='data-result-id',i.RESULT_HIGHLIGHT_CLASS='djs-search-highlight',i.OVERLAY_CLASS='djs-search-overlay',i.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',i.RESULT_HTML='<div class="djs-search-result"></div>',i.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',i.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>'},{'../../util/Elements':339,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/clear':527,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/query':533}],302:[function(e,t,n){t.exports={__depends__:[e('../overlays'),e('../selection')],searchPad:['type',e('./SearchPad')]}},{'../overlays':286,'../selection':306,'./SearchPad':301}],303:[function(e,t,n){'use strict'
function i(e){this._eventBus=e,this._selectedElements=[]
var t=this
e.on(['shape.remove','connection.remove'],function(e){var n=e.element
t.deselect(n)}),e.on(['diagram.clear'],function(e){t.select(null)})}var r=e('lodash/lang/isArray'),o=e('lodash/collection/forEach')
i.$inject=['eventBus'],t.exports=i,i.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e)
if(-1!==n){var i=t.slice()
t.splice(n,1),this._eventBus.fire('selection.changed',{oldSelection:i,newSelection:t})}},i.prototype.get=function(){return this._selectedElements},i.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},i.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice()
r(e)||(e=e?[e]:[]),t?o(e,function(e){-1===n.indexOf(e)&&n.push(e)}):this._selectedElements=n=e.slice(),this._eventBus.fire('selection.changed',{oldSelection:i,newSelection:n})}},{'lodash/collection/forEach':382,'lodash/lang/isArray':502}],304:[function(e,t,n){'use strict'
function i(e,t,n,i){e.on('create.end',500,function(e){e.context.canExecute&&t.select(e.context.shape)}),e.on('connect.end',500,function(e){e.context.canExecute&&e.context.target&&t.select(e.context.target)}),e.on('shape.move.end',500,function(e){var n=e.previousSelection||[],r=i.get(e.context.shape.id)
r&&-1===n.indexOf(r)&&t.select(r)}),e.on('element.click',function(e){var i=e.element
i===n.getRootElement()&&(i=null)
var o=t.isSelected(i),a=t.get().length>1,s=r(e)
if(o&&a){return s?t.deselect(i):t.select(i)}
o?t.deselect(i):t.select(i,s)})}var r=e('../../util/Mouse').hasPrimaryModifier
i.$inject=['eventBus','selection','canvas','elementRegistry'],t.exports=i},{'../../util/Mouse':346}],305:[function(e,t,n){'use strict'
function i(e,t,n,i,s){function l(e,n){t.addMarker(e,n)}function c(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on('element.hover',function(e){l(e.element,o)}),e.on('element.out',function(e){c(e.element,o)}),e.on('selection.changed',function(e){function t(e){c(e,a)}function n(e){l(e,a)}var i=e.oldSelection,o=e.newSelection
r(i,function(e){-1===o.indexOf(e)&&t(e)}),r(o,function(e){-1===i.indexOf(e)&&n(e)})})}var r=e('lodash/collection/forEach'),o='hover',a='selected'
i.$inject=['eventBus','canvas','selection','graphicsFactory','styles'],t.exports=i},{'lodash/collection/forEach':382}],306:[function(e,t,n){t.exports={__init__:['selectionVisuals','selectionBehavior'],__depends__:[e('../interaction-events'),e('../outline')],selection:['type',e('./Selection')],selectionVisuals:['type',e('./SelectionVisuals')],selectionBehavior:['type',e('./SelectionBehavior')]}},{'../interaction-events':248,'../outline':284,'./Selection':303,'./SelectionBehavior':304,'./SelectionVisuals':305}],307:[function(e,t,n){'use strict'
function i(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function r(e){this._snapValues={}}var o=e('lodash/collection/forEach'),a=e('./SnapUtil').snapTo
i.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},i.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},i.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e]
n||(n=this._defaultSnaps[e]=[]),n.push(t)},i.prototype.getSnapLocations=function(){return this._snapLocations},i.prototype.setSnapLocations=function(e){this._snapLocations=e},i.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t]
return n||(n=this._targets[t]=new r,n.initDefaults(this._defaultSnaps)),n},t.exports=i,r.prototype.add=function(e,t){var n=this._snapValues[e]
n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},r.prototype.snap=function(e,t,n,i){var r=this._snapValues[t]
return r&&a(e[n],r[n],i)},r.prototype.initDefaults=function(e){var t=this
o(e||{},function(e,n){o(e,function(e){t.add(n,e)})})}},{'./SnapUtil':308,'lodash/collection/forEach':382}],308:[function(e,t,n){'use strict'
function i(e,t,n){n=void 0===n?10:n
var i,r
for(i=0;i<t.length;i++){if(r=t[i],s(r-e)<=n){return r}}}function r(e){return{x:e.x,y:e.y}}function o(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:l(e.x+e.width/2),y:l(e.y+e.height/2)}}function a(e){return{x:e.x+e.width,y:e.y+e.height}}var s=Math.abs,l=Math.round
t.exports.snapTo=i,t.exports.topLeft=r,t.exports.mid=o,t.exports.bottomRight=a,t.exports.isSnapped=function(e,t){var n=e.snapped
return!!n&&('string'==typeof t?n[t]:n.x&&n.y)},t.exports.setSnapped=function(e,t,n){if('string'!=typeof t){throw new Error('axis must be in [x, y]')}
if('number'!=typeof n&&!1!==n){throw new Error('value must be Number or false')}
var i,r=e[t],o=e.snapped=e.snapped||{}
return!1===n?o[t]=!1:(o[t]=!0,i=n-r,e[t]+=i,e['d'+t]+=i),r}},{}],309:[function(e,t,n){'use strict'
function i(e,t){this._canvas=t
var n=this
e.on(['shape.move.start','create.start'],function(e){n.initSnap(e)}),e.on(['shape.move.move','shape.move.end','create.move','create.end'],function(e){e.originalEvent&&e.originalEvent.ctrlKey||u(e)||n.snap(e)}),e.on(['shape.move.cleanup','create.cleanup'],function(e){n.hide()}),this._asyncHide=a(this.hide,1e3)}var r=e('lodash/collection/filter'),o=e('lodash/collection/forEach'),a=e('lodash/function/debounce'),s=e('./SnapUtil').mid,l=e('./SnapContext'),c=e('./SnapUtil'),u=c.isSnapped,p=c.setSnapped
i.$inject=['eventBus','canvas'],t.exports=i,i.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.snapContext
i||(i=t.snapContext=new l)
var r=s(n,e)
return i.setSnapOrigin('mid',{x:r.x-e.x,y:r.y-e.y}),i},i.prototype.snap=function(e){var t=e.context,n=t.snapContext,i=t.shape,r=t.target,a=n.getSnapLocations()
if(r){var s=n.pointsForTarget(r)
s.initialized||(this.addTargetSnaps(s,i,r),s.initialized=!0)
var l={x:u(e,'x'),y:u(e,'y')}
o(a,function(t){var i=n.getSnapOrigin(t),r={x:e.x+i.x,y:e.y+i.y}
if(o(['x','y'],function(e){var n
l[e]||void 0!==(n=s.snap(r,t,e,7))&&(l[e]={value:n,originValue:n-i[e]})}),l.x&&l.y){return!1}}),this.showSnapLine('vertical',l.x&&l.x.value),this.showSnapLine('horizontal',l.y&&l.y.value),o(['x','y'],function(t){var n=l[t]
'object'==typeof n&&p(e,t,n.originValue)})}},i.prototype._createLine=function(e){var t=this._canvas.getLayer('snap'),n=t.path('M0,0 L0,0').addClass('djs-snap-line')
return{update:function(t){'number'!=typeof t?n.attr({display:'none'}):'horizontal'===e?n.attr({path:'M-100000,'+t+' L+100000,'+t,display:''}):n.attr({path:'M '+t+',-100000 L '+t+', +100000',display:''})}}},i.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine('horizontal'),vertical:this._createLine('vertical')}},i.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e)
n&&n.update(t),this._asyncHide()},i.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},i.prototype.hide=function(){o(this._snapLines,function(e){e.update()})},i.prototype.addTargetSnaps=function(e,t,n){var i=this.getSiblings(t,n)
o(i,function(t){e.add('mid',s(t))})},i.prototype.getSiblings=function(e,t){return t&&r(t.children,function(t){return!t.hidden&&!t.labelTarget&&!t.waypoints&&t.host!==e&&t!==e})}},{'./SnapContext':307,'./SnapUtil':308,'lodash/collection/filter':380,'lodash/collection/forEach':382,'lodash/function/debounce':393}],310:[function(e,t,n){'use strict'
function i(e,t,n,i,r,o){this._canvas=n,this._dragging=t,this._modeling=i,this._rules=r,this._toolManager=o
var a=this
o.registerTool('space',{tool:'spaceTool.selection',dragging:'spaceTool'}),e.on('spaceTool.selection.end',function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once('spaceTool.selection.ended',function(){a.activateMakeSpace(t.originalEvent)})}),e.on('spaceTool.move',c,function(e){var t=e.context
t.initialized||(t.initialized=a.initializeMakeSpace(e,t))}),e.on('spaceTool.end',function(e){var t=e.context,n=t.axis,i=t.direction,r=t.movingShapes,o=t.resizingShapes
if(t.initialized){var s={x:l(e.dx),y:l(e.dy)}
s[p[n]]=0
var c=!0
h(o,function(t){if('w'===i&&e.x>t.x+t.width||'e'===i&&e.x<t.x||'n'===i&&e.y>t.y+t.height||'s'===i&&e.y<t.y){return void(c=!1)}}),c&&a.makeSpace(r,o,s,i)}})}var r=e('./SpaceUtil'),o=e('../../util/Cursor'),a=e('../../util/Mouse').hasPrimaryModifier,s=Math.abs,l=Math.round,c=1500,u={x:'width',y:'height'},p={x:'y',y:'x'},d=e('../../util/Elements').selfAndAllChildren,f=e('lodash/object/assign'),h=e('lodash/collection/forEach')
i.$inject=['eventBus','dragging','canvas','modeling','rules','toolManager'],t.exports=i,i.prototype.activateSelection=function(e,t){this._dragging.init(e,'spaceTool.selection',{trapClick:!1,cursor:'crosshair',autoActivate:t,data:{context:{}}})},i.prototype.activateMakeSpace=function(e){this._dragging.init(e,'spaceTool',{autoActivate:!0,cursor:'crosshair',data:{context:{}}})},i.prototype.makeSpace=function(e,t,n,i){return this._modeling.createSpace(e,t,n,i)},i.prototype.initializeMakeSpace=function(e,t){var n=s(e.dx)>s(e.dy)?'x':'y',i=e['d'+n],l=e[n]-i
if(s(i)<5){return!1}
i<0&&(i*=-1),a(e)&&(i*=-1)
var c=this._canvas.getRootElement(),u=d(c,!0),p=this.calculateAdjustments(u,n,i,l)
return f(t,p,{axis:n,direction:r.getDirection(n,i)}),o.set('resize-'+('x'===n?'ew':'ns')),!0},i.prototype.calculateAdjustments=function(e,t,n,i){var r=[],o=[],a=this._rules
return e.forEach(function(e){var s=e[t],l=s+e[u[t]]
if(e.parent&&!e.waypoints){return n>0&&s>i?r.push(e):n<0&&l<i?r.push(e):s<i&&l>i&&a.allowed('shape.resize',{shape:e})?o.push(e):void 0}}),{movingShapes:r,resizingShapes:o}},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},i.prototype.isActive=function(){var e=this._dragging.context()
return e&&/^spaceTool/.test(e.prefix)}},{'../../util/Cursor':338,'../../util/Elements':339,'../../util/Mouse':346,'./SpaceUtil':312,'lodash/collection/forEach':382,'lodash/object/assign':512}],311:[function(e,t,n){'use strict'
function i(e,t,n,i){function s(e){return t.getGraphics(e)}function l(e,t){var n=s(e),r=n.clone(),o=n.getBBox()
r.attr(i.cls('djs-dragger',[],{x:o.x,y:o.y})),t.add(r)}e.on('spaceTool.selection.start',function(e){var t=n.getLayer('space'),r=e.context,o={x:'M 0,-10000 L 0,10000',y:'M -10000,0 L 10000,0'},a=t.group().attr(i.cls('djs-crosshair-group',['no-events']))
a.path(o.x).addClass('djs-crosshair'),a.path(o.y).addClass('djs-crosshair'),r.crosshairGroup=a}),e.on('spaceTool.selection.move',function(e){e.context.crosshairGroup.translate(e.x,e.y)}),e.on('spaceTool.selection.cleanup',function(e){var t=e.context,n=t.crosshairGroup
n&&n.remove()}),e.on('spaceTool.move',a,function(e){var t=e.context,a=t.line,s=t.axis,c=t.movingShapes
if(t.initialized){if(!t.dragGroup){a=n.getLayer('space').path('M0,0 L0,0').addClass('djs-crosshair'),t.line=a
var u=n.getDefaultLayer().group().attr(i.cls('djs-drag-group',['no-events']))
r(c,function(e){l(e,u),n.addMarker(e,o)}),t.dragGroup=u}var p={x:'M'+e.x+', -10000 L'+e.x+', 10000',y:'M -10000, '+e.y+' L 10000, '+e.y}
a.attr({path:p[s],display:''})
var d={x:'y',y:'x'},f={x:e.dx,y:e.dy}
f[d[t.axis]]=0,t.dragGroup.translate(f.x,f.y)}}),e.on('spaceTool.cleanup',function(e){var t=e.context,i=t.movingShapes,a=t.line,s=t.dragGroup
r(i,function(e){n.removeMarker(e,o)}),s&&(a.remove(),s.remove())})}var r=e('lodash/collection/forEach'),o='djs-dragging',a=250
i.$inject=['eventBus','elementRegistry','canvas','styles'],t.exports=i},{'lodash/collection/forEach':382}],312:[function(e,t,n){'use strict'
function i(e,t){if('x'===e){if(t>0){return'e'}
if(t<0){return'w'}}if('y'===e){if(t>0){return's'}
if(t<0){return'n'}}return null}t.exports.getDirection=i,t.exports.resizeBounds=function(e,t,n){var i=n.x,r=n.y
switch(t){case'n':return{x:e.x,y:e.y+r,width:e.width,height:e.height-r}
case's':return{x:e.x,y:e.y,width:e.width,height:e.height+r}
case'w':return{x:e.x+i,y:e.y,width:e.width-i,height:e.height}
case'e':return{x:e.x,y:e.y,width:e.width+i,height:e.height}
default:throw new Error('unrecognized direction: '+t)}}},{}],313:[function(e,t,n){'use strict'
t.exports={__init__:['spaceToolVisuals'],__depends__:[e('../dragging'),e('../rules'),e('../tool-manager')],spaceTool:['type',e('./SpaceTool')],spaceToolVisuals:['type',e('./SpaceToolVisuals')]}},{'../dragging':240,'../rules':300,'../tool-manager':315,'./SpaceTool':310,'./SpaceToolVisuals':311}],314:[function(e,t,n){'use strict'
function i(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}var r=e('lodash/collection/forEach')
i.$inject=['eventBus','dragging'],t.exports=i,i.prototype.registerTool=function(e,t){var n=this._tools
if(!t){throw new Error('A tool has to be registered with it\'s "events"')}
n.push(e),this.bindEvents(e,t)},i.prototype.isActive=function(e){return e&&this._active===e},i.prototype.length=function(e){return this._tools.length},i.prototype.setActive=function(e){var t=this._eventBus
this._active!==e&&(this._active=e,t.fire('tool-manager.update',{tool:e}))},i.prototype.bindEvents=function(e,t){var n=this._eventBus,i=this._dragging,o=[]
n.on(t.tool+'.init',function(t){if(!t.context.reactivate&&this.isActive(e)){return this.setActive(null),void i.cancel()}
this.setActive(e)},this),r(t,function(e){o.push(e+'.ended'),o.push(e+'.canceled')}),n.on(o,250,function(e){var t=e.originalEvent
!this._active||t&&'tools'===t.target.parentElement.getAttribute('data-group')||this.setActive(null)},this)}},{'lodash/collection/forEach':382}],315:[function(e,t,n){'use strict'
t.exports={__depends__:[e('../dragging')],__init__:['toolManager'],toolManager:['type',e('./ToolManager')]}},{'../dragging':240,'./ToolManager':314}],316:[function(e,t,n){'use strict'
function i(e){var t=u('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />')
return e.insertBefore(t,e.firstChild),t}function r(e,t,n){l(e.style,{left:t+'px',top:n+'px'})}function o(e,t){e.style.display=!1===t?'none':''}function a(e,t){this._eventBus=e,this._canvas=t,this._ids=m,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=i(t.getContainer())
var n=this
h.bind(this._tooltipRoot,v,'mousedown',function(e){e.stopPropagation()}),h.bind(this._tooltipRoot,v,'mouseover',function(e){n.trigger('mouseover',e)}),h.bind(this._tooltipRoot,v,'mouseout',function(e){n.trigger('mouseout',e)}),this._init()}var s=e('lodash/lang/isString'),l=e('lodash/object/assign'),c=e('lodash/collection/forEach'),u=e('min-dom/lib/domify'),p=e('min-dom/lib/attr'),d=e('min-dom/lib/classes'),f=e('min-dom/lib/remove'),h=e('min-dom/lib/delegate'),m=new(e('../../util/IdGenerator'))('tt'),v='.djs-tooltip'
a.$inject=['eventBus','canvas'],t.exports=a,a.prototype.add=function(e){if(!e.position){throw new Error('must specifiy tooltip position')}
if(!e.html){throw new Error('must specifiy tooltip html')}
var t=this._ids.next()
return e=l({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},a.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,i=this.get(p(n,'data-tooltip-id'))
i&&('mouseover'===e&&i.timeout&&this.clearTimeout(i),'mouseout'===e&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},a.prototype.get=function(e){return'string'!=typeof e&&(e=e.id),this._tooltips[e]},a.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer
t&&(clearTimeout(t),e.removeTimer=null)}},a.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e)
var t=this
e.removeTimer=setTimeout(function(){t.remove(e)},e.timeout)}},a.prototype.remove=function(e){var t=this.get(e)
t&&(f(t.html),f(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},a.prototype.show=function(){o(this._tooltipRoot)},a.prototype.hide=function(){o(this._tooltipRoot,!1)},a.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i='matrix('+t+',0,0,'+n+','+-1*e.x*t+','+-1*e.y*n+')'
this._tooltipRoot.style.transform=i,this._tooltipRoot.style['-ms-transform']=i},a.prototype._addTooltip=function(e){var t,n=e.id,i=e.html,r=this._tooltipRoot
i.get&&(i=i.get(0)),s(i)&&(i=u(i)),t=u('<div data-tooltip-id="'+n+'" class="djs-tooltip" style="position: absolute">'),t.appendChild(i),e.type&&d(t).add('djs-tooltip-'+e.type),e.className&&d(t).add(e.className),e.htmlContainer=t,r.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},a.prototype._updateTooltip=function(e){var t=e.position
r(e.htmlContainer,t.x,t.y)},a.prototype._updateTooltipVisibilty=function(e){c(this._tooltips,function(t){var n=t.show,i=t.htmlContainer,r=!0
n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),o(i,r))})},a.prototype._init=function(){function e(e){t._updateRoot(e),t._updateTooltipVisibilty(e),t.show()}var t=this
this._eventBus.on('canvas.viewbox.changing',function(e){t.hide()}),this._eventBus.on('canvas.viewbox.changed',function(t){e(t.viewbox)})}},{'../../util/IdGenerator':343,'lodash/collection/forEach':382,'lodash/lang/isString':509,'lodash/object/assign':512,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/remove':534}],317:[function(e,t,n){t.exports={__init__:['tooltips'],tooltips:['type',e('./Tooltips')]}},{'./Tooltips':316}],318:[function(e,t,n){'use strict'
function i(e,t){var n=this
t.on('canvas.init',function(e){n.addBBoxMarker(e.svg)})}i.$inject=['canvas','eventBus'],t.exports=i,i.prototype.addBBoxMarker=function(e){var t={fill:'none',class:'outer-bound-marker'}
e.rect(-1e4,-1e4,10,10).attr(t),e.rect(1e4,1e4,10,10).attr(t)}},{}],319:[function(e,t,n){'use strict'
function i(){}function r(e,t){return t.get(e,!1)}function o(e){function t(e){d.stopEvent(e,!0)}function n(n){s(m,function(n){l.bind(e,n,t,!0)})}function r(n){setTimeout(function(){s(m,function(n){l.unbind(e,n,t,!0)})},500)}l.bind(e,'touchstart',n,!0),l.bind(e,'touchend',r,!0),l.bind(e,'touchcancel',r,!0)
var o=new u.Manager(e,{inputClass:u.TouchInput,recognizers:[]}),a=new u.Tap,c=new u.Pan({threshold:10}),p=new u.Press,f=new u.Pinch,h=new u.Tap({event:'doubletap',taps:2})
return f.requireFailure(c),f.requireFailure(p),o.add([c,p,f,h,a]),o.reset=function(e){var t=this.recognizers,n=this.session
n.stopped||(i('recognizer','stop'),o.stop(e),setTimeout(function(){var e,r
for(i('recognizer','reset'),e=0;r=t[e];e++){r.reset(),r.state=8}
n.curRecognizer=null},0))},o.on('hammer.input',function(e){e.srcEvent.defaultPrevented&&o.reset(!0)}),o}function a(e,t,n,a,s){function l(e){return function(t){i('element',e,t),s.fire(e,t)}}function u(e){var t=c(e,'svg, .djs-element',!0)
return t&&new p(t)}function m(e){function n(e){function n(e){var n=e.deltaX-o,i=e.deltaY-a
t.scroll({dx:n,dy:i}),o=e.deltaX,a=e.deltaY}function r(e){v.off('panmove',n),v.off('panend',r),v.off('pancancel',r),i('canvas','grab end')}i('canvas','grab start')
var o=0,a=0
v.on('panmove',n),v.on('panend',r),v.on('pancancel',r)}function r(e){var r=u(e.target),o=r&&a.get(r)
if(y&&t.getRootElement()!==o){return i('element','move start',o,e,!0),y.start(e,o,!0)}
n(e)}function s(e){function n(e){var n=1-(1-e.scale)/1.5,i=Math.max(f,Math.min(h,n*o))
t.zoom(i,a),d.stopEvent(e,!0)}function r(e){v.off('pinchmove',n),v.off('pinchend',r),v.off('pinchcancel',r),v.reset(!0),i('canvas','zoom end')}i('canvas','zoom start')
var o=t.zoom(),a=e.center
v.on('pinchmove',n),v.on('pinchend',r),v.on('pinchcancel',r)}v=o(e),v.on('doubletap',l('element.dblclick')),v.on('tap',l('element.click')),v.on('panstart',r),v.on('press',r),v.on('pinchstart',s)}var v,g=r('dragging',e),y=r('move',e),b=r('contextPad',e),x=r('palette',e)
g&&n.on('drag.move',function(e){var t=e.originalEvent
if(t&&!(t instanceof MouseEvent)){var n=d.toPoint(t),i=document.elementFromPoint(n.x,n.y),r=u(i),o=r&&a.get(r)
o!==e.hover&&(e.hover&&g.out(e),o&&(g.hover({element:o,gfx:r}),e.hover=o,e.hoverGfx=r))}}),b&&n.on('contextPad.create',function(e){var t=e.pad.html,n=o(t)
n.on('panstart',function(e){i('context-pad','panstart',e),b.trigger('dragstart',e,!0)}),n.on('press',function(e){i('context-pad','press',e),b.trigger('dragstart',e,!0)}),n.on('tap',function(e){i('context-pad','tap',e),b.trigger('click',e)})}),x&&n.on('palette.create',function(e){var t=e.html,n=o(t)
n.on('panstart',function(e){i('palette','panstart',e),x.trigger('dragstart',e,!0)}),n.on('press',function(e){i('palette','press',e),x.trigger('dragstart',e,!0)}),n.on('tap',function(e){i('palette','tap',e),x.trigger('click',e)})}),n.on('canvas.init',function(e){m(e.svg.node)})}var s=e('lodash/collection/forEach'),l=e('min-dom/lib/event'),c=e('min-dom/lib/closest'),u=e('hammerjs'),p=e('../../../vendor/snapsvg'),d=e('../../util/Event'),f=.2,h=4,m=['mousedown','mouseup','mouseover','mouseout','click','dblclick']
a.$inject=['injector','canvas','eventBus','elementRegistry','interactionEvents','touchFix'],t.exports=a},{'../../../vendor/snapsvg':352,'../../util/Event':340,hammerjs:360,'lodash/collection/forEach':382,'min-dom/lib/closest':528,'min-dom/lib/event':531}],320:[function(e,t,n){t.exports={__depends__:[e('../interaction-events')],__init__:['touchInteractionEvents'],touchInteractionEvents:['type',e('./TouchInteractionEvents')],touchFix:['type',e('./TouchFix')]}},{'../interaction-events':248,'./TouchFix':318,'./TouchInteractionEvents':319}],321:[function(e,t,n){t.exports={translate:['value',e('./translate')]}},{'./translate':322}],322:[function(e,t,n){'use strict'
t.exports=function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(e,n){return t[n]||'{'+n+'}'})}},{}],323:[function(e,t,n){'use strict'
function i(){}var r=e('./LayoutUtil').getMid
t.exports=i,i.prototype.layoutConnection=function(e,t){return[r(e.source),r(e.target)]}},{'./LayoutUtil':325}],324:[function(e,t,n){'use strict'
function i(e){return o({original:e.point.original||e.point},e.actual)}function r(e,t){this._elementRegistry=e,this._graphicsFactory=t}var o=e('lodash/object/assign'),a=e('./LayoutUtil')
r.$inject=['elementRegistry','graphicsFactory'],t.exports=r,r.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target
var r=this.getDockingPoint(e,t,!0),o=this.getDockingPoint(e,n),a=e.waypoints.slice(r.idx+1,o.idx)
return a.unshift(i(r)),a.push(i(o)),a},r.prototype.getDockingPoint=function(e,t,n){var i,r,o,a=e.waypoints
return i=n?0:a.length-1,r=a[i],o=this._getIntersection(t,e,n),{point:r,actual:o||r,idx:i}},r.prototype._getIntersection=function(e,t,n){var i=this._getShapePath(e),r=this._getConnectionPath(t)
return a.getElementLineIntersection(i,r,n)},r.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},r.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},r.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)}},{'./LayoutUtil':325,'lodash/object/assign':512}],325:[function(e,t,n){'use strict'
function i(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function r(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function o(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function a(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function s(e){return r({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function l(e,t,n){n=n||0,p(n)||(n={x:n,y:n})
var i=o(e),r=o(t),a=i.bottom+n.y<=r.top,s=i.left-n.x>=r.right,l=i.top-n.y>=r.bottom,c=i.right+n.x<=r.left,u=a?'top':l?'bottom':null,d=c?'left':s?'right':null
return d&&u?u+'-'+d:d||u||'intersect'}function c(e,t,n){var i=u(e,t)
return 1===i.length?r(i[0]):2===i.length&&f(i[0],i[1])<1?r(i[0]):i.length>1?(i=d(i,function(e){var t=Math.floor(100*e.t2)||1
return t=100-t,t=(t<10?'0':'')+t,e.segment2+'#'+t}),r(i[n?0:i.length-1])):null}function u(e,t){return h.path.intersection(e,t)}var p=e('lodash/lang/isObject'),d=e('lodash/collection/sortBy'),f=e('../util/Geometry').pointDistance,h=e('../../vendor/snapsvg')
t.exports.roundBounds=i,t.exports.roundPoint=r,t.exports.asTRBL=o,t.exports.asBounds=a,t.exports.getMid=s,t.exports.getOrientation=l,t.exports.getElementLineIntersection=c,t.exports.getIntersections=u},{'../../vendor/snapsvg':352,'../util/Geometry':341,'lodash/collection/sortBy':390,'lodash/lang/isObject':507}],326:[function(e,t,n){'use strict'
function i(e,t,n){return e>=t&&e<=n}function r(e,t,n){var r={x:'width',y:'height'}
return i(t[e],n[e],n[e]+n[r[e]])}function o(e,t){switch(e){case'intersect':return null
case'top':case'bottom':return'v:v'
case'left':case'right':return'h:h'
default:return t}}var a=e('lodash/lang/isArray'),s=e('lodash/collection/find'),l=e('lodash/array/without'),c=e('lodash/object/assign'),u=e('./LayoutUtil'),p=e('../util/Geometry'),d=u.getOrientation,f=u.getMid,h=p.pointsAligned,m=p.pointInRect,v=p.pointDistance,g=20,y={'h:h':20,'v:v':20,'h:v':-10,'v:h':-10}
t.exports.getBendpoints=function(e,t,n){n=n||'h:h'
var i,r
if('h:v'===n){return[{x:t.x,y:e.y}]}
if('v:h'===n){return[{x:e.x,y:t.y}]}
if('h:h'===n){return i=Math.round((t.x-e.x)/2+e.x),[{x:i,y:e.y},{x:i,y:t.y}]}
if('v:v'===n){return r=Math.round((t.y-e.y)/2+e.y),[{x:e.x,y:r},{x:t.x,y:r}]}
throw new Error('unknown directions: <'+n+'>: directions must be specified as {a direction}:{b direction} (direction in h|v)')},t.exports.connectPoints=function(e,t,n){var i=[]
return h(e,t)||(i=this.getBendpoints(e,t,n)),i.unshift(e),i.push(t),i},t.exports.connectRectangles=function(e,t,n,i,r){var a=r&&r.preferredLayouts||[],s=l(a,'straight')[0]||'h:h',c=y[s]||0,u=d(e,t,c),p=o(u,s)
if(n=n||f(e),i=i||f(t),p){if('h:h'===p){switch(u){case'top-right':case'right':case'bottom-right':n={original:n,x:e.x,y:n.y},i={original:i,x:t.x+t.width,y:i.y}
break
case'top-left':case'left':case'bottom-left':n={original:n,x:e.x+e.width,y:n.y},i={original:i,x:t.x,y:i.y}}}if('v:v'===p){switch(u){case'top-left':case'top':case'top-right':n={original:n,x:n.x,y:e.y+e.height},i={original:i,x:i.x,y:t.y}
break
case'bottom-left':case'bottom':case'bottom-right':n={original:n,x:n.x,y:e.y},i={original:i,x:i.x,y:t.y+t.height}}}return this.connectPoints(n,i,p)}},t.exports.repairConnection=function(e,t,n,i,r,o){a(n)&&(r=n,o=i,n=f(e),i=f(t)),o=c({preferredLayouts:[]},o)
var s,l=o.preferredLayouts,u=-1!==l.indexOf('straight')
return u&&(s=this.layoutStraight(e,t,n,i,o)),s||(o.endChanged?(s=this._repairConnectionSide(t,e,i,r.slice().reverse()),s=s&&s.reverse()):o.startChanged?s=this._repairConnectionSide(e,t,n,r):r&&r.length&&(s=r)),s||(s=this.connectRectangles(e,t,n,i,o)),s},t.exports.layoutStraight=function(e,t,n,i,o){var a,s,l={}
return s=d(e,t),/^(top|bottom|left|right)$/.test(s)?(/top|bottom/.test(s)&&(a='x'),/left|right/.test(s)&&(a='y'),r(a,n,t)?(l[a]=n[a],[{x:n.x,y:n.y},{x:void 0!==l.x?l.x:i.x,y:void 0!==l.y?l.y:i.y,original:{x:void 0!==l.x?l.x:i.x,y:void 0!==l.y?l.y:i.y}}]):null):null},t.exports._repairConnectionSide=function(e,t,n,i){if(function(e,t,n){return n.length<3||!(n.length>4)&&!!s(n,function(e,t){var i=n[t-1]
return i&&v(e,i)<3})}(e,t,i)){return null}
var r,o=i[0],a=i.slice()
return a[0]=n,a[1]=function(e,t,n){switch(h(t,e)){case'v':return{x:e.x,y:n.y}
case'h':return{x:n.x,y:e.y}}return{x:e.x,y:e.y}}(a[1],o,n),r=function(e,t,n){var i
for(i=e.length-2;0!==i;i--){if(m(e[i],t,g)||m(e[i],n,g)){return e.slice(i)}}
return e}(a,e,t),r!==a?this._repairConnectionSide(e,t,n,r):a}},{'../util/Geometry':341,'./LayoutUtil':325,'lodash/array/without':375,'lodash/collection/find':381,'lodash/lang/isArray':502,'lodash/object/assign':512}],327:[function(e,t,n){'use strict'
function i(){Object.defineProperty(this,'businessObject',{writable:!0}),p.bind(this,'parent'),d.bind(this,'label'),h.bind(this,'outgoing'),m.bind(this,'incoming')}function r(){i.call(this),p.bind(this,'children'),f.bind(this,'host'),f.bind(this,'attachers')}function o(){r.call(this)}function a(){r.call(this),d.bind(this,'labelTarget')}function s(){i.call(this),h.bind(this,'source'),m.bind(this,'target')}var l=e('lodash/object/assign'),c=e('inherits'),u=e('object-refs'),p=new u({name:'children',enumerable:!0,collection:!0},{name:'parent'}),d=new u({name:'label',enumerable:!0},{name:'labelTarget'}),f=new u({name:'attachers',collection:!0},{name:'host'}),h=new u({name:'outgoing',collection:!0},{name:'source'}),m=new u({name:'incoming',collection:!0},{name:'target'})
c(r,i),c(o,r),c(a,r),c(s,i)
var v={connection:s,shape:r,label:a,root:o}
t.exports.create=function(e,t){var n=v[e]
if(!n){throw new Error('unknown type: <'+e+'>')}
return l(new n,t)},t.exports.Base=i,t.exports.Root=o,t.exports.Shape=r,t.exports.Connection=s,t.exports.Label=a},{inherits:364,'lodash/object/assign':512,'object-refs':547}],328:[function(e,t,n){'use strict'
function i(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function r(e,t){function n(e){var n=f.start,r=u.toPoint(e),l=s(r,n)
if(!f.dragging&&i(l)>p&&(f.dragging=!0,a.install(),o.set('grab')),f.dragging){var c=f.last||f.start
l=s(r,c),t.scroll({dx:l.x,dy:l.y}),f.last=r}e.preventDefault()}function r(e){l.unbind(document,'mousemove',n),l.unbind(document,'mouseup',r),f=null,o.unset(),u.stopEvent(e)}function d(e){c(e.target,'.djs-draggable')||e.button||e.ctrlKey||e.shiftKey||e.altKey||(f={start:u.toPoint(e)},l.bind(document,'mousemove',n),l.bind(document,'mouseup',r),u.stopEvent(e))}var f,h=t._container
l.bind(h,'mousedown',d)}var o=e('../../util/Cursor'),a=e('../../util/ClickTrap'),s=e('../../util/Math').substract,l=e('min-dom/lib/event'),c=e('min-dom/lib/closest'),u=e('../../util/Event'),p=15
r.$inject=['eventBus','canvas'],t.exports=r},{'../../util/ClickTrap':335,'../../util/Cursor':338,'../../util/Event':340,'../../util/Math':345,'min-dom/lib/closest':528,'min-dom/lib/event':531}],329:[function(e,t,n){t.exports={__init__:['moveCanvas'],moveCanvas:['type',e('./MoveCanvas')]}},{'./MoveCanvas':328}],330:[function(e,t,n){t.exports={__depends__:[e('../../features/touch')]}},{'../../features/touch':320}],331:[function(e,t,n){'use strict'
function i(e,t,n){this._enabled=!1,this._canvas=t,this._container=t._container,this._handleWheel=d(this._handleWheel,this)
var i=!n||!1!==n.enabled,r=this
e.on('canvas.init',function(e){r._init(i)})}var r=e('min-dom/lib/event'),o=e('min-dom/lib/closest'),a=e('../../util/Mouse').hasPrimaryModifier,s=e('../../util/Mouse').hasSecondaryModifier,l=e('../../util/Platform').isMac,c=e('./ZoomUtil').getStepRange,u=e('./ZoomUtil').cap,p=e('../../util/Math').log10,d=e('lodash/function/bind'),f={min:.2,max:4}
i.$inject=['eventBus','canvas','config.zoomScroll'],t.exports=i,i.prototype.scroll=function(e){this._canvas.scroll(e)},i.prototype.reset=function(){this._canvas.zoom('fit-viewport')},i.prototype.zoom=function(e,t){var n=this._canvas,i=n.zoom(!1),r=Math.pow(1+Math.abs(e),e>0?1:-1)
n.zoom(u(f,i*r),t)},i.prototype._handleWheel=function(e){if(!o(e.target,'.djs-scrollable',!0)){var t=this._container
e.preventDefault()
var n,i=a(e),r=s(e)
if(i||r){n=l?0===e.deltaMode?1.25:50:0===e.deltaMode?.025:.5
var c={}
r?c.dx=n*(e.deltaX||e.deltaY):c.dy=n*e.deltaY,this.scroll(c)}else{n=0===e.deltaMode?.025:.5
var u=t.getBoundingClientRect(),p={x:e.clientX-u.left,y:e.clientY-u.top}
this.zoom(e.deltaY*n/-5,p)}}},i.prototype.stepZoom=function(e,t){var n=this._canvas,i=c(f,10)
e=e>0?1:-1
var r=p(n.zoom()),o=Math.round(r/i)*i
o+=i*e
var a=Math.pow(10,o)
n.zoom(u(f,a),t)},i.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,i=this._enabled
return void 0===e&&(e=!i),i!==e&&r[e?'bind':'unbind'](t,'wheel',n,!1),this._enabled=e,e},i.prototype._init=function(e){this.toggle(e)}},{'../../util/Math':345,'../../util/Mouse':346,'../../util/Platform':347,'./ZoomUtil':332,'lodash/function/bind':392,'min-dom/lib/closest':528,'min-dom/lib/event':531}],332:[function(e,t,n){'use strict'
var i=e('../../util/Math').log10
t.exports.getStepRange=function(e,t){var n=i(e.min),r=i(e.max)
return(Math.abs(n)+Math.abs(r))/t},t.exports.cap=function(e,t){return Math.max(e.min,Math.min(e.max,t))}},{'../../util/Math':345}],333:[function(e,t,n){t.exports={__init__:['zoomScroll'],zoomScroll:['type',e('./ZoomScroll')]}},{'./ZoomScroll':331}],334:[function(e,t,n){'use strict'
function i(e,t,n){var i=a(t),r=a(n),l=s(e,i),c={x:l.x*(n.width/t.width),y:l.y*(n.height/t.height)}
return o({x:r.x+c.x,y:r.y+c.y})}function r(e,t,n){var i=a(e),r=a(t),l=a(n),c=s(e,i),u=s(i,r),p={x:u.x*(n.width/t.width),y:u.y*(n.height/t.height)},d={x:l.x+p.x,y:l.y+p.y}
return o({x:d.x+c.x-e.x,y:d.y+c.y-e.y})}var o=e('../layout/LayoutUtil').roundPoint,a=e('./PositionUtil').center,s=e('./PositionUtil').delta
t.exports.getNewAttachPoint=i,t.exports.getNewAttachShapeDelta=r},{'../layout/LayoutUtil':325,'./PositionUtil':348}],335:[function(e,t,n){'use strict'
function i(e){s(e),r(!1)}function r(e){a[e?'bind':'unbind'](document.body,'click',i,!0)}function o(){return r(!0),function(){r(!1)}}var a=e('min-dom/lib/event'),s=e('./Event').stopEvent
t.exports.install=o},{'./Event':340,'min-dom/lib/event':531}],336:[function(e,t,n){'use strict'
t.exports.remove=function(e,t){if(!e||!t){return-1}
var n=e.indexOf(t)
return-1!==n&&e.splice(n,1),n},t.exports.add=function(e,t,n){if(e&&t){'number'!=typeof n&&(n=-1)
var i=e.indexOf(t)
if(-1!==i){if(i===n){return}
if(-1===n){return}
e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}},t.exports.indexOf=function(e,t){return e&&t?e.indexOf(t):-1}},{}],337:[function(e,t,n){'use strict'
function i(e){var t={},n=[],i=[],o=[]
return r(e,function(e){var i=e.parent
t[i.id]||(t[i.id]=[]),-1===n.indexOf(i.id)&&n.push(i.id),t[i.id].push(e)}),r(n,function(e){r(t[e],function(e){t[e.id]&&o.push(e.id)})}),r(n,function(e){-1===o.indexOf(e)&&(i=i.concat(t[e]))}),i}var r=e('lodash/collection/forEach')
t.exports.getTopLevel=i},{'lodash/collection/forEach':382}],338:[function(e,t,n){'use strict'
var i=e('min-dom/lib/classes')
t.exports.set=function(e){var t=i(document.body)
t.removeMatching(/^djs-cursor-.*$/),e&&t.add('djs-cursor-'+e)},t.exports.unset=function(){this.set(null)},t.exports.has=function(e){return i(document.body).has('djs-cursor-'+e)}},{'min-dom/lib/classes':526}],339:[function(e,t,n){'use strict'
function i(e,t,n){var i=!n||-1===e.indexOf(t)
return i&&e.push(t),i}function r(e,t,n){n=n||0,d(e)||(e=[e]),m(e,function(e,i){var o=t(e,i,n)
d(o)&&o.length&&r(o,t,n+1)})}function o(e,t,n){var o=[],a=[]
return r(e,function(e,r,s){i(o,e,t)
var l=e.children
if((-1===n||s<n)&&l&&i(a,l,t)){return l}}),o}function a(e,t){return o(e,!t,1)}function s(e,t){return o(e,!t,-1)}function l(e){function t(e){i[e.source.id]&&i[e.target.id]&&(i[e.id]=e),o[e.source.id]&&o[e.target.id]&&(l[e.id]=s[e.id]=e),a[e.id]=e}function n(e){if(s[e.id]=e,!e.waypoints){return o[e.id]=e,m(e.incoming,t),m(e.outgoing,t),e.children}
l[e.id]=a[e.id]=e}var i=h(e,function(e){return e.id}),o={},a={},s={},l={}
return r(e,n),{allShapes:o,allConnections:a,topLevel:i,enclosedConnections:l,enclosedElements:s}}function c(e,t){t=!!t,d(e)||(e=[e])
var n,i,r,o
return m(e,function(e){var a=e
e.waypoints&&!t&&(a=c(e.waypoints,!0))
var s=a.x,l=a.y,u=a.height||0,p=a.width||0;(s<n||void 0===n)&&(n=s),(l<i||void 0===i)&&(i=l),(s+p>r||void 0===r)&&(r=s+p),(l+u>o||void 0===o)&&(o=l+u)}),{x:n,y:i,height:o-i,width:r-n}}function u(e,t){var n={}
return m(e,function(e){var i=e
i.waypoints&&(i=c(i)),!f(t.y)&&i.x>t.x&&(n[e.id]=e),!f(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(f(t.width)&&f(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:f(t.width)&&f(t.height)||(n[e.id]=e))}),n}function p(e){return'waypoints'in e?'connection':'x'in e?'shape':'root'}var d=e('lodash/lang/isArray'),f=e('lodash/lang/isNumber'),h=e('lodash/collection/groupBy'),m=e('lodash/collection/forEach')
t.exports.add=i,t.exports.eachElement=r,t.exports.selfAndDirectChildren=a,t.exports.selfAndAllChildren=s,t.exports.getBBox=c,t.exports.getEnclosedElements=u,t.exports.getClosure=l,t.exports.getType=p},{'lodash/collection/forEach':382,'lodash/collection/groupBy':383,'lodash/lang/isArray':502,'lodash/lang/isNumber':506}],340:[function(e,t,n){'use strict'
function i(e){return e&&e.preventDefault()}function r(e,t){e&&(e.stopPropagation&&e.stopPropagation(),t&&e.stopImmediatePropagation&&e.stopImmediatePropagation())}function o(e){return e.originalEvent||e.srcEvent}function a(e,t){l(e,t),s(e)}function s(e){i(e),i(o(e))}function l(e,t){r(e,t),r(o(e),t)}function c(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}t.exports.getOriginal=o,t.exports.stopEvent=a,t.exports.preventDefault=s,t.exports.stopPropagation=l,t.exports.toPoint=c},{}],341:[function(e,t,n){'use strict'
function i(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function r(e,t){return Math.abs(e.x-t.x)<=o?'h':Math.abs(e.y-t.y)<=o&&'v'}t.exports.pointDistance=i,t.exports.pointsOnLine=function(e,t,n){if(!e||!t||!n){return!1}
var r=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=i(e,t)
return Math.abs(r/o)<5}
var o=2
t.exports.pointsAligned=r,t.exports.pointInRect=function(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n},t.exports.getMidPoint=function(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}},{}],342:[function(e,t,n){'use strict'
function i(e){return e.select('.djs-visual')}function r(e){return e.parent().children()[1]}function o(e){return i(e).select('*').getBBox()}t.exports.getVisual=i,t.exports.getChildren=r,t.exports.getBBox=o},{}],343:[function(e,t,n){'use strict'
function i(e){this._counter=0,this._prefix=(e?e+'-':'')+Math.floor(1e9*Math.random())+'-'}t.exports=i,i.prototype.next=function(){return this._prefix+ ++this._counter}},{}],344:[function(e,t,n){'use strict'
function i(e,t){return[['M',e.x,e.y],['m',0,-t],['a',t,t,0,1,1,0,2*t],['a',t,t,0,1,1,0,-2*t],['z']]}function r(e){var t=[]
return e.forEach(function(e,n){t.push([0===n?'M':'L',e.x,e.y])}),t}function o(e,t){var n,i
for(n=0;i=e[n];n++){if(s(i,t)<=p){return{point:e[n],bendpoint:!0,index:n}}}
return null}function a(e,t){var n,o=l.path.intersection(i(t,p),r(e)),a=o[0],s=o[o.length-1]
return a?a!==s?a.segment2!==s.segment2?(n=u(a.segment2,s.segment2)-1,{point:e[n],bendpoint:!0,index:n}):{point:{x:c(a.x+s.x)/2,y:c(a.y+s.y)/2},index:a.segment2}:{point:{x:c(a.x),y:c(a.y)},index:a.segment2}:null}var s=e('./Geometry').pointDistance,l=e('../../vendor/snapsvg'),c=Math.round,u=Math.max,p=10
t.exports.getApproxIntersection=function(e,t){return o(e,t)||a(e,t)}},{'../../vendor/snapsvg':352,'./Geometry':341}],345:[function(e,t,n){'use strict'
function i(e){return Math.log(e)/Math.log(10)}function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}t.exports.log10=i,t.exports.substract=r},{}],346:[function(e,t,n){'use strict'
function i(e){return!(r(e)||e).button}var r=e('./Event').getOriginal,o=e('./Platform').isMac
t.exports.isPrimaryButton=i,t.exports.isMac=o,t.exports.hasPrimaryModifier=function(e){var t=r(e)||e
return!!i(e)&&(o()?t.metaKey:t.ctrlKey)},t.exports.hasSecondaryModifier=function(e){var t=r(e)||e
return i(e)&&t.shiftKey}},{'./Event':340,'./Platform':347}],347:[function(e,t,n){'use strict'
t.exports.isMac=function(){return/mac/i.test(navigator.platform)}},{}],348:[function(e,t,n){'use strict'
function i(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}t.exports.center=i,t.exports.delta=r},{}],349:[function(e,t,n){'use strict'
t.exports.saveClear=function(e,t){if('function'!=typeof t){throw new Error('removeFn iterator must be a function')}
if(e){for(var n;n=e[0];){t(n)}
return e}}},{}],350:[function(e,t,n){'use strict'
function i(e){for(var t,n='',i=0;t=e[i];i++){n+=t.x+','+t.y+' '}
return n}var r=e('../../vendor/snapsvg')
t.exports.componentsToPath=function(e){return e.join(',').replace(/,?([A-z]),?/g,'$1')},t.exports.toSVGPoints=i,t.exports.createLine=function(e,t){return r.create('polyline',{points:i(e)}).attr(t||{})},t.exports.updateLine=function(e,t){return e.attr({points:i(t)})}},{'../../vendor/snapsvg':352}],351:[function(e,t,n){'use strict'
function i(e){var t=e.split('-')
return{horizontal:t[0]||'center',vertical:t[1]||'top'}}function r(e){return p(e)?d({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function o(e,t){return t.textContent=e,f(t.getBBox(),['width','height'])}function a(e,t,n){for(var i,r=e.shift(),a=r;;){if(i=o(a,n),i.width=a?i.width:0,' '===a||''===a||i.width<Math.round(t)||a.length<4){return s(e,a,r,i)}
a=c(a,i.width,t)}}function s(e,t,n,i){if(t.length<n.length){var r=e[0]||'',o=n.slice(t.length).trim()
r=/-\s*$/.test(o)?o.replace(/-\s*$/,'')+r.replace(/^\s+/,''):o+' '+r,e[0]=r}return{width:i.width,height:i.height,text:t}}function l(e,t){var n,i=e.split(/(\s|-)/g),r=[],o=0
if(i.length>1){for(;n=i.shift();){if(!(n.length+o<t)){'-'===n&&r.pop()
break}r.push(n),o+=n.length}}return r.join('')}function c(e,t,n){var i=Math.max(e.length*(n/t),1),r=l(e,i)
return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function u(e){this._config=d({},{size:b,padding:y,style:{},align:'center-top'},e||{})}var p=e('lodash/lang/isObject'),d=e('lodash/object/assign'),f=e('lodash/object/pick'),h=e('lodash/collection/forEach'),m=e('lodash/collection/reduce'),v=e('lodash/object/merge'),g=e('../../vendor/snapsvg'),y=0,b={width:150,height:50}
u.prototype.createText=function(e,t,n){for(var o=v({},this._config.size,n.box||{}),s=v({},this._config.style,n.style||{}),l=i(n.align||this._config.align),c=r(void 0!==n.padding?n.padding:this._config.padding),u=t.split(/\r?\n/g),p=[],d=o.width-c.left-c.right,f=e.paper.text(0,0,'').attr(s).node;u.length;){p.push(a(u,d,f))}
var y,b,x=m(p,function(e,t,n){return e+t.height},0)
switch(l.vertical){case'middle':y=(o.height-x)/2-p[0].height/4
break
default:y=c.top}var E=e.text().attr(s)
return h(p,function(e){switch(y+=e.height,l.horizontal){case'left':b=c.left
break
case'right':b=d-c.right-e.width
break
default:b=Math.max((d-e.width)/2+c.left,0)}var t=g.create('tspan',{x:b,y:y}).node
t.textContent=e.text,E.append(t)}),f.parentNode.removeChild(f),E},t.exports=u},{'../../vendor/snapsvg':352,'lodash/collection/forEach':382,'lodash/collection/reduce':387,'lodash/lang/isObject':507,'lodash/object/assign':512,'lodash/object/merge':516,'lodash/object/pick':519}],352:[function(e,t,n){'use strict'
var i=t.exports=e('snapsvg')
i.plugin(function(e,t){t.prototype.children=function(){for(var t=[],n=this.node.childNodes,i=0,r=n.length;i<r;i++){t[i]=new e(n[i])}
return t}}),i.plugin(function(e,t,n,i){function r(e){return e.split(/\s+/)}function o(e){return e.join(' ')}function a(e){return r(e.attr('class')||'')}function s(e,t){e.attr('class',o(t))}t.prototype.addClass=function(e){var t,n,i=a(this),o=r(e)
for(t=0,n;n=o[t];t++){-1===i.indexOf(n)&&i.push(n)}
return s(this,i),this},t.prototype.hasClass=function(e){if(!e){throw new Error('[snapsvg] syntax: hasClass(clsStr)')}
return-1!==a(this).indexOf(e)},t.prototype.removeClass=function(e){var t,n,i,o=a(this),l=r(e)
for(t=0,n;n=l[t];t++){-1!==(i=o.indexOf(n))&&o.splice(i,1)}
return s(this,o),this}}),i.plugin(function(e,t,n,i){t.prototype.translate=function(t,n){var i=new e.Matrix
return i.translate(t,n),this.transform(i)}}),i.plugin(function(e){e.create=function(t,n){return e._.wrap(e._.$(t,n))}}),i.plugin(function(e,t,n,i){e.createSnapAt=function(t,n,i){var r=document.createElementNS('http://www.w3.org/2000/svg','svg')
return r.setAttribute('width',t),r.setAttribute('height',n),i||(i=document.body),i.appendChild(r),new e(r)}})},{snapsvg:564}],353:[function(e,t,n){var i=function(e){return'[object Array]'===Object.prototype.toString.call(e)},r=function(){var e=Array.prototype.slice.call(arguments)
1===e.length&&i(e[0])&&(e=e[0])
var t=e.pop()
return t.$inject=e,t},o=function(e){if('function'!=typeof e){throw new Error('Cannot annotate "'+e+'". Expected a function!')}
var t=e.toString().match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)
return t[1]&&t[1].split(',').map(function(e){return t=e.match(/\/\*([^\*]*)\*\//m),t?t[1].trim():e.trim()})||[]}
n.annotate=r,n.parse=o,n.isArray=i},{}],354:[function(e,t,n){t.exports={annotate:e('./annotation').annotate,Module:e('./module'),Injector:e('./injector')}},{'./annotation':353,'./injector':355,'./module':356}],355:[function(e,t,n){var i=e('./module'),r=e('./annotation').parse,o=e('./annotation').annotate,a=e('./annotation').isArray,s=function(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t){return null}
throw p('No provider for "'+e+'"!')}}
var n=[],l=this._providers=Object.create(t._providers||null),c=this._instances=Object.create(null),u=c.injector=this,p=function(e){var t=n.join(' -> ')
return n.length=0,new Error(t?e+' (Resolving: '+t+')':e)},d=function(e,i){if(!l[e]&&-1!==e.indexOf('.')){for(var r=e.split('.'),o=d(r.shift());r.length;){o=o[r.shift()]}
return o}if(Object.hasOwnProperty.call(c,e)){return c[e]}
if(Object.hasOwnProperty.call(l,e)){if(-1!==n.indexOf(e)){throw n.push(e),p('Cannot resolve circular dependency!')}
return n.push(e),c[e]=l[e][0](l[e][1]),n.pop(),c[e]}return t.get(e,i)},f=function(e){var t=Object.create(e.prototype),n=h(e,t)
return'object'==typeof n?n:t},h=function(e,t){if('function'!=typeof e){if(!a(e)){throw new Error('Cannot invoke "'+e+'". Expected a function!')}
e=o(e.slice())}var n=e.$inject&&e.$inject||r(e),i=n.map(function(e){return d(e)})
return e.apply(t,i)},m=function(e){return o(function(t){return e.get(t)})},v=function(e,t){if(t&&t.length){var n,i,r,o,a=Object.create(null),c=Object.create(null),p=[],d=[],f=[]
for(var h in l){n=l[h],-1!==t.indexOf(h)&&('private'===n[2]?(i=p.indexOf(n[3]),-1===i?(r=n[3].createChild([],t),o=m(r),p.push(n[3]),d.push(r),f.push(o),a[h]=[o,h,'private',r]):a[h]=[f[i],h,'private',d[i]]):a[h]=[n[2],n[1]],c[h]=!0),'factory'!==n[2]&&'type'!==n[2]||!n[1].$scope||t.forEach(function(e){-1!==n[1].$scope.indexOf(e)&&(a[h]=[n[2],n[1]],c[e]=!0)})}
t.forEach(function(e){if(!c[e]){throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}}),e.unshift(a)}return new s(e,u)},g={factory:h,type:f,value:function(e){return e}}
e.forEach(function(e){function t(e,t){return'value'!==e&&a(t)&&(t=o(t.slice())),t}if(e instanceof i){e.forEach(function(e){var n=e[0],i=e[1],r=e[2]
l[n]=[g[i],t(i,r),i]})}
else if('object'==typeof e){if(e.__exports__){var n=Object.keys(e).reduce(function(t,n){return'__'!==n.substring(0,2)&&(t[n]=e[n]),t},Object.create(null)),r=new s((e.__modules__||[]).concat([n]),u),c=o(function(e){return r.get(e)})
e.__exports__.forEach(function(e){l[e]=[c,e,'private',r]})}else {Object.keys(e).forEach(function(n){if('private'===e[n][2]){return void(l[n]=e[n])}
var i=e[n][0],r=e[n][1]
l[n]=[g[i],t(i,r),i]})}}}),this.get=d,this.invoke=h,this.instantiate=f,this.createChild=v}
t.exports=s},{'./annotation':353,'./module':356}],356:[function(e,t,n){var i=function(){var e=[]
this.factory=function(t,n){return e.push([t,'factory',n]),this},this.value=function(t,n){return e.push([t,'value',n]),this},this.type=function(t,n){return e.push([t,'type',n]),this},this.forEach=function(t){e.forEach(t)}}
t.exports=i},{}],357:[function(e,t,n){function i(e,t){if('string'!=typeof e){throw new TypeError('String expected')}
t||(t=document)
var n=/<([\w:]+)/.exec(e)
if(!n){return t.createTextNode(e)}
e=e.replace(/^\s+|\s+$/g,'')
var i=n[1]
if('body'==i){var r=t.createElement('html')
return r.innerHTML=e,r.removeChild(r.lastChild)}var o=a[i]||a._default,s=o[0],l=o[1],c=o[2],r=t.createElement('div')
for(r.innerHTML=l+e+c;s--;){r=r.lastChild}
if(r.firstChild==r.lastChild){return r.removeChild(r.firstChild)}
for(var u=t.createDocumentFragment();r.firstChild;){u.appendChild(r.removeChild(r.firstChild))}
return u}t.exports=i
var r,o=!1
'undefined'!=typeof document&&(r=document.createElement('div'),r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!r.getElementsByTagName('link').length,r=void 0)
var a={legend:[1,'<fieldset>','</fieldset>'],tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],_default:o?[1,'X<div>','</div>']:[0,'','']}
a.td=a.th=[3,'<table><tbody><tr>','</tr></tbody></table>'],a.option=a.optgroup=[1,'<select multiple="multiple">','</select>'],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,'<table>','</table>'],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">','</svg>']},{}],358:[function(e,t,n){!function(e){var n,i,r='hasOwnProperty',o=function(e,t){return e-t},a={n:{}},s=function(){for(var e=0,t=this.length;e<t;e++){if(void 0!==this[e]){return this[e]}}},l=function(){for(var e=this.length;--e;){if(void 0!==this[e]){return this[e]}}},c=function(e,t){e=String(e)
var r,a=i,u=Array.prototype.slice.call(arguments,2),p=c.listeners(e),d=0,f=[],h={},m=[],v=n
m.firstDefined=s,m.lastDefined=l,n=e,i=0
for(var g=0,y=p.length;g<y;g++){'zIndex'in p[g]&&(f.push(p[g].zIndex),p[g].zIndex<0&&(h[p[g].zIndex]=p[g]))}
for(f.sort(o);f[d]<0;){if(r=h[f[d++]],m.push(r.apply(t,u)),i){return i=a,m}}
for(g=0;g<y;g++){if('zIndex'in(r=p[g])){if(r.zIndex==f[d]){if(m.push(r.apply(t,u)),i){break}
do{if(d++,r=h[f[d]],r&&m.push(r.apply(t,u)),i){break}}while(r)}else {h[r.zIndex]=r}}
else if(m.push(r.apply(t,u)),i){break}}
return i=a,n=v,m}
c._events=a,c.listeners=function(e){var t,n,i,r,o,s,l,c,u=e.split(/[\.\/]/),p=a,d=[p],f=[]
for(r=0,o=u.length;r<o;r++){for(c=[],s=0,l=d.length;s<l;s++){for(p=d[s].n,n=[p[u[r]],p['*']],i=2;i--;){(t=n[i])&&(c.push(t),f=f.concat(t.f||[]))}}
d=c}return f},c.on=function(e,t){if(e=String(e),'function'!=typeof t){return function(){}}
for(var n=e.split(/\s*,\s*/),i=0,r=n.length;i<r;i++){!function(e){for(var n,i=e.split(/[\.\/]/),r=a,o=0,s=i.length;o<s;o++){r=r.n,r=r.hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}})}
for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++){if(r.f[o]==t){n=!0
break}}!n&&r.f.push(t)}(n[i])}
return function(e){+e==+e&&(t.zIndex=+e)}},c.f=function(e){var t=[].slice.call(arguments,1)
return function(){c.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(e){return e?new RegExp('(?:\\.|\\/|^)'+e+'(?:\\.|\\/|$)').test(n):n},c.nts=function(){return n.split(/[\.\/]/)},c.off=c.unbind=function(e,t){if(!e){return void(c._events=a={n:{}})}
var n=e.split(/\s*,\s*/)
if(n.length>1){for(var i=0,o=n.length;i<o;i++){c.off(n[i],t)}}
else{n=e.split(/[\.\/]/)
var s,l,u,i,o,p,d,f=[a]
for(i=0,o=n.length;i<o;i++){for(p=0;p<f.length;p+=u.length-2){if(u=[p,1],s=f[p].n,'*'!=n[i]){s[n[i]]&&u.push(s[n[i]])}
else {for(l in s){s[r](l)&&u.push(s[l])}}
f.splice.apply(f,u)}}for(i=0,o=f.length;i<o;i++){for(s=f[i];s.n;){if(t){if(s.f){for(p=0,d=s.f.length;p<d;p++){if(s.f[p]==t){s.f.splice(p,1)
break}}!s.f.length&&delete s.f}for(l in s.n){if(s.n[r](l)&&s.n[l].f){var h=s.n[l].f
for(p=0,d=h.length;p<d;p++){if(h[p]==t){h.splice(p,1)
break}}!h.length&&delete s.n[l].f}}}else{delete s.f
for(l in s.n){s.n[r](l)&&s.n[l].f&&delete s.n[l].f}}s=s.n}}}},c.once=function(e,t){var n=function(){return c.unbind(e,n),t.apply(this,arguments)}
return c.on(e,n)},c.version='0.4.2',c.toString=function(){return'You are running Eve 0.4.2'},void 0!==t&&t.exports?t.exports=c:'function'==typeof define&&define.amd?define('eve',[],function(){return c}):e.eve=c}(this)},{}],359:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return'function'==typeof e}function o(e){return'number'==typeof e}function a(e){return'object'==typeof e&&null!==e}function s(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e)){throw TypeError('n must be a positive number')}
return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,l,c
if(this._events||(this._events={}),'error'===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error){throw t}
var u=new Error('Uncaught, unspecified "error" event. ('+t+')')
throw u.context=t,u}if(n=this._events[e],s(n)){return!1}
if(r(n)){switch(arguments.length){case 1:n.call(this)
break
case 2:n.call(this,arguments[1])
break
case 3:n.call(this,arguments[1],arguments[2])
break
default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}}else if(a(n)){for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,l=0;l<i;l++){c[l].apply(this,o)}}
return!0},i.prototype.addListener=function(e,t){var n
if(!r(t)){throw TypeError('listener must be a function')}
return this._events||(this._events={}),this._events.newListener&&this.emit('newListener',e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[e].length),'function'==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t)){throw TypeError('listener must be a function')}
var i=!1
return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,o,s
if(!r(t)){throw TypeError('listener must be a function')}
if(!this._events||!this._events[e]){return this}
if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t){delete this._events[e],this._events.removeListener&&this.emit('removeListener',e,t)}
else if(a(n)){for(s=o;s-- >0;){if(n[s]===t||n[s].listener&&n[s].listener===t){i=s
break}}if(i<0){return this}
1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit('removeListener',e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n
if(!this._events){return this}
if(!this._events.removeListener){return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this}
if(0===arguments.length){for(t in this._events){'removeListener'!==t&&this.removeAllListeners(t)}
return this.removeAllListeners('removeListener'),this._events={},this}if(n=this._events[e],r(n)){this.removeListener(e,n)}
else if(n){for(;n.length;){this.removeListener(e,n[n.length-1])}}
return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e]
if(r(t)){return 1}
if(t){return t.length}}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],360:[function(e,t,n){!function(e,n,i,r){'use strict'
function o(e,t,n){return setTimeout(u(e,n),t)}function a(e,t,n){return!!Array.isArray(e)&&(s(e,n[t],n),!0)}function s(e,t,n){var i
if(e){if(e.forEach){e.forEach(t,n)}
else if(e.length!==r){for(i=0;i<e.length;){t.call(n,e[i],i,e),i++}}
else {for(i in e){e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}}}}function l(t,n,i){var r='DEPRECATED METHOD: '+n+'\n'+i+' AT \n'
return function(){var n=new Error('get-stack-trace'),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,'').replace(/^\s+at\s+/gm,'').replace(/^Object.<anonymous>\s*\(/gm,'{anonymous}()@'):'Unknown Stack Trace',o=e.console&&(e.console.warn||e.console.log)
return o&&o.call(e.console,r,i),t.apply(this,arguments)}}function c(e,t,n){var i,r=t.prototype
i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&pe(i,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==he?e.apply(t?t[0]||r:r,t):e}function d(e,t){return e===r?t:e}function f(e,t,n){s(g(t),function(t){e.addEventListener(t,n,!1)})}function h(e,t,n){s(g(t),function(t){e.removeEventListener(t,n,!1)})}function m(e,t){for(;e;){if(e==t){return!0}
e=e.parentNode}return!1}function v(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function y(e,t,n){if(e.indexOf&&!n){return e.indexOf(t)}
for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t){return i}
i++}return-1}function b(e){return Array.prototype.slice.call(e,0)}function x(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o]
y(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function E(e,t){for(var n,i,o=t[0].toUpperCase()+t.slice(1),a=0;a<de.length;){if(n=de[a],(i=n?n+o:t)in e){return i}
a++}return r}function w(){return xe++}function _(t){var n=t.ownerDocument||t
return n.defaultView||n.parentWindow||e}function C(e,t){var n=this
this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t=e.options.inputClass
return new(t||(_e?F:Ce?V:we?q:I))(e,S)}function S(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&Se&&i-r==0,a=t&(je|Pe)&&i-r==0
n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,A(e,n),e.emit('hammer.input',n),e.recognize(n),e.session.prevInput=n}function A(e,t){var n=e.session,i=t.pointers,r=i.length
n.firstInput||(n.firstInput=R(t)),r>1&&!n.firstMultiple?n.firstMultiple=R(t):1===r&&(n.firstMultiple=!1)
var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=k(i)
t.timeStamp=ge(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=O(s,l),t.distance=D(s,l),j(n,t),t.offsetDirection=B(t.deltaX,t.deltaY)
var c=M(t.deltaTime,t.deltaX,t.deltaY)
t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=ve(c.x)>ve(c.y)?c.x:c.y,t.scale=a?N(a.pointers,i):1,t.rotation=a?L(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,P(n,t)
var u=e.element
m(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function j(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{}
t.eventType!==Se&&o.eventType!==je||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function P(e,t){var n,i,o,a,s=e.lastInterval||t,l=t.timeStamp-s.timeStamp
if(t.eventType!=Pe&&(l>Te||s.velocity===r)){var c=t.deltaX-s.deltaX,u=t.deltaY-s.deltaY,p=M(l,c,u)
i=p.x,o=p.y,n=ve(p.x)>ve(p.y)?p.x:p.y,a=B(c,u),e.lastInterval=t}else {n=s.velocity,i=s.velocityX,o=s.velocityY,a=s.direction}
t.velocity=n,t.velocityX=i,t.velocityY=o,t.direction=a}function R(e){for(var t=[],n=0;n<e.pointers.length;){t[n]={clientX:me(e.pointers[n].clientX),clientY:me(e.pointers[n].clientY)},n++}
return{timeStamp:ge(),pointers:t,center:k(t),deltaX:e.deltaX,deltaY:e.deltaY}}function k(e){var t=e.length
if(1===t){return{x:me(e[0].clientX),y:me(e[0].clientY)}}
for(var n=0,i=0,r=0;r<t;){n+=e[r].clientX,i+=e[r].clientY,r++}
return{x:me(n/t),y:me(i/t)}}function M(e,t,n){return{x:t/e||0,y:n/e||0}}function B(e,t){return e===t?Re:ve(e)>=ve(t)?e<0?ke:Me:t<0?Be:De}function D(e,t,n){n||(n=Ie)
var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]]
return Math.sqrt(i*i+r*r)}function O(e,t,n){n||(n=Ie)
var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]]
return 180*Math.atan2(r,i)/Math.PI}function L(e,t){return O(t[1],t[0],Fe)+O(e[1],e[0],Fe)}function N(e,t){return D(t[0],t[1],Fe)/D(e[0],e[1],Fe)}function I(){this.evEl=He,this.evWin=Ve,this.pressed=!1,C.apply(this,arguments)}function F(){this.evEl=$e,this.evWin=We,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function U(){this.evTarget=Ye,this.evWin=Xe,this.started=!1,C.apply(this,arguments)}function H(e,t){var n=b(e.touches),i=b(e.changedTouches)
return t&(je|Pe)&&(n=x(n.concat(i),'identifier',!0)),[n,i]}function V(){this.evTarget=Je,this.targetIds={},C.apply(this,arguments)}function z(e,t){var n=b(e.touches),i=this.targetIds
if(t&(Se|Ae)&&1===n.length){return i[n[0].identifier]=!0,[n,n]}
var r,o,a=b(e.changedTouches),s=[],l=this.target
if(o=n.filter(function(e){return m(e.target,l)}),t===Se){for(r=0;r<o.length;){i[o[r].identifier]=!0,r++}}
for(r=0;r<a.length;){i[a[r].identifier]&&s.push(a[r]),t&(je|Pe)&&delete i[a[r].identifier],r++}
return s.length?[x(o.concat(s),'identifier',!0),s]:void 0}function q(){C.apply(this,arguments)
var e=u(this.handler,this)
this.touch=new V(this.manager,e),this.mouse=new I(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function $(e,t){e&Se?(this.primaryTouch=t.changedPointers[0].identifier,W.call(this,t)):e&(je|Pe)&&W.call(this,t)}function W(e){var t=e.changedPointers[0]
if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY}
this.lastTouches.push(n)
var i=this.lastTouches,r=function(){var e=i.indexOf(n)
e>-1&&i.splice(e,1)}
setTimeout(r,Ze)}}function G(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y)
if(o<=Qe&&a<=Qe){return!0}}return!1}function Y(e,t){this.manager=e,this.set(t)}function X(e){if(v(e,rt)){return rt}
var t=v(e,ot),n=v(e,at)
return t&&n?rt:t||n?t?ot:at:v(e,it)?it:nt}function K(e){this.options=pe({},this.defaults,e||{}),this.id=w(),this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=lt,this.simultaneous={},this.requireFail=[]}function J(e){return e&ft?'cancel':e&pt?'end':e&ut?'move':e&ct?'start':''}function Z(e){return e==De?'down':e==Be?'up':e==ke?'left':e==Me?'right':''}function Q(e,t){var n=t.manager
return n?n.get(e):e}function ee(){K.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function ie(){K.apply(this,arguments),this._timer=null,this._input=null}function re(){ee.apply(this,arguments)}function oe(){ee.apply(this,arguments)}function ae(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=d(t.recognizers,se.defaults.preset),new le(e,t)}function le(e,t){this.options=pe({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new Y(this,this.options.touchAction),ce(this,!0),s(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]))
e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var n=e.element
if(n.style){var i
s(e.options.cssProps,function(r,o){i=E(n.style,o),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||''}),t||(e.oldCssProps={})}}function ue(e,t){var i=n.createEvent('Event')
i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}var pe,de=['','webkit','Moz','MS','ms','o'],fe=n.createElement('div'),he='function',me=Math.round,ve=Math.abs,ge=Date.now
pe='function'!=typeof Object.assign?function(e){if(e===r||null===e){throw new TypeError('Cannot convert undefined or null to object')}
for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n]
if(i!==r&&null!==i){for(var o in i){i.hasOwnProperty(o)&&(t[o]=i[o])}}}return t}:Object.assign
var ye=l(function(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;){(!n||n&&e[i[o]]===r)&&(e[i[o]]=t[i[o]]),o++}
return e},'extend','Use `assign`.'),be=l(function(e,t){return ye(e,t,!0)},'merge','Use `assign`.'),xe=1,Ee=/mobile|tablet|ip(ad|hone|od)|android/i,we='ontouchstart'in e,_e=E(e,'PointerEvent')!==r,Ce=we&&Ee.test(navigator.userAgent),Te=25,Se=1,Ae=2,je=4,Pe=8,Re=1,ke=2,Me=4,Be=8,De=16,Oe=ke|Me,Le=Be|De,Ne=Oe|Le,Ie=['x','y'],Fe=['clientX','clientY']
C.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(_(this.element),this.evWin,this.domHandler)}}
var Ue={mousedown:Se,mousemove:Ae,mouseup:je},He='mousedown',Ve='mousemove mouseup'
c(I,C,{handler:function(e){var t=Ue[e.type]
t&Se&&0===e.button&&(this.pressed=!0),t&Ae&&1!==e.which&&(t=je),this.pressed&&(t&je&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:'mouse',srcEvent:e}))}})
var ze={pointerdown:Se,pointermove:Ae,pointerup:je,pointercancel:Pe,pointerout:Pe},qe={2:'touch',3:'pen',4:'mouse',5:'kinect'},$e='pointerdown',We='pointermove pointerup pointercancel'
e.MSPointerEvent&&!e.PointerEvent&&($e='MSPointerDown',We='MSPointerMove MSPointerUp MSPointerCancel'),c(F,C,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace('ms',''),r=ze[i],o=qe[e.pointerType]||e.pointerType,a='touch'==o,s=y(t,e.pointerId,'pointerId')
r&Se&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):r&(je|Pe)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}})
var Ge={touchstart:Se,touchmove:Ae,touchend:je,touchcancel:Pe},Ye='touchstart',Xe='touchstart touchmove touchend touchcancel'
c(U,C,{handler:function(e){var t=Ge[e.type]
if(t===Se&&(this.started=!0),this.started){var n=H.call(this,e,t)
t&(je|Pe)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:'touch',srcEvent:e})}}})
var Ke={touchstart:Se,touchmove:Ae,touchend:je,touchcancel:Pe},Je='touchstart touchmove touchend touchcancel'
c(V,C,{handler:function(e){var t=Ke[e.type],n=z.call(this,e,t)
n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:'touch',srcEvent:e})}})
var Ze=2500,Qe=25
c(q,C,{handler:function(e,t,n){var i='touch'==n.pointerType,r='mouse'==n.pointerType
if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i){$.call(this,t,n)}
else if(r&&G.call(this,n)){return}
this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}})
var et=E(fe.style,'touchAction'),tt=et!==r,nt='auto',it='manipulation',rt='none',ot='pan-x',at='pan-y',st=function(){if(!tt){return!1}
var t={},n=e.CSS&&e.CSS.supports
return['auto','manipulation','pan-y','pan-x','pan-x pan-y','none'].forEach(function(i){t[i]=!n||e.CSS.supports('touch-action',i)}),t}()
Y.prototype={set:function(e){'compute'==e&&(e=this.compute()),tt&&this.manager.element.style&&st[e]&&(this.manager.element.style[et]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[]
return s(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),X(e.join(' '))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection
if(this.manager.session.prevented){return void t.preventDefault()}
var i=this.actions,r=v(i,rt)&&!st[rt],o=v(i,at)&&!st[at],a=v(i,ot)&&!st[ot]
if(r){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250
if(s&&l&&c){return}}return a&&o?void 0:r||o&&n&Oe||a&&n&Le?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}}
var lt=1,ct=2,ut=4,pt=8,dt=pt,ft=16
K.prototype={defaults:{},set:function(e){return pe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(a(e,'recognizeWith',this)){return this}
var t=this.simultaneous
return e=Q(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return a(e,'dropRecognizeWith',this)?this:(e=Q(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(a(e,'requireFailure',this)){return this}
var t=this.requireFail
return e=Q(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(a(e,'dropRequireFailure',this)){return this}
e=Q(e,this)
var t=y(this.requireFail,e)
return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state
i<pt&&t(n.options.event+J(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=pt&&t(n.options.event+J(i))},tryEmit:function(e){if(this.canEmit()){return this.emit(e)}
this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|lt))){return!1}
e++}return!0},recognize:function(e){var t=pe({},e)
if(!p(this.options.enable,[this,t])){return this.reset(),void(this.state=32)}
this.state&(dt|ft|32)&&(this.state=lt),this.state=this.process(t),this.state&(ct|ut|pt|ft)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},c(ee,K,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers
return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(ct|ut),r=this.attrTest(e)
return i&&(n&Pe||!r)?t|ft:i||r?n&je?t|pt:t&ct?t|ut:ct:32}}),c(te,ee,{defaults:{event:'pan',threshold:10,pointers:1,direction:Ne},getTouchAction:function(){var e=this.options.direction,t=[]
return e&Oe&&t.push(at),e&Le&&t.push(ot),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY
return r&t.direction||(t.direction&Oe?(r=0===o?Re:o<0?ke:Me,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Re:a<0?Be:De,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ct||!(this.state&ct)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY
var t=Z(e.direction)
t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),c(ne,ee,{defaults:{event:'pinch',threshold:0,pointers:2},getTouchAction:function(){return[rt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ct)},emit:function(e){if(1!==e.scale){var t=e.scale<1?'in':'out'
e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),c(ie,K,{defaults:{event:'press',pointers:1,time:251,threshold:9},getTouchAction:function(){return[nt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time
if(this._input=e,!i||!n||e.eventType&(je|Pe)&&!r){this.reset()}
else if(e.eventType&Se){this.reset(),this._timer=o(function(){this.state=dt,this.tryEmit()},t.time,this)}
else if(e.eventType&je){return dt}
return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===dt&&(e&&e.eventType&je?this.manager.emit(this.options.event+'up',e):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),c(re,ee,{defaults:{event:'rotate',threshold:0,pointers:2},getTouchAction:function(){return[rt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ct)}}),c(oe,ee,{defaults:{event:'swipe',threshold:10,velocity:.3,direction:Oe|Le,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction
return n&(Oe|Le)?t=e.overallVelocity:n&Oe?t=e.overallVelocityX:n&Le&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ve(t)>this.options.velocity&&e.eventType&je},emit:function(e){var t=Z(e.offsetDirection)
t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ae,K,{defaults:{event:'tap',pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time
if(this.reset(),e.eventType&Se&&0===this.count){return this.failTimeout()}
if(i&&r&&n){if(e.eventType!=je){return this.failTimeout()}
var a=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||D(this.pCenter,e.center)<t.posThreshold
this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e
if(0===this.count%t.taps){return this.hasRequireFailures()?(this._timer=o(function(){this.state=dt,this.tryEmit()},t.interval,this),ct):dt}}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==dt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION='2.0.7',se.defaults={domEvents:!1,touchAction:'compute',enable:!0,inputTarget:null,inputClass:null,preset:[[re,{enable:!1}],[ne,{enable:!1},['rotate']],[oe,{direction:Oe}],[te,{direction:Oe},['swipe']],[ae],[ae,{event:'doubletap',taps:2},['tap']],[ie]],cssProps:{userSelect:'none',touchSelect:'none',touchCallout:'none',contentZooming:'none',userDrag:'none',tapHighlightColor:'rgba(0,0,0,0)'}}
le.prototype={set:function(e){return pe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session
if(!t.stopped){this.touchAction.preventDefaults(e)
var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&dt)&&(r=t.curRecognizer=null)
for(var o=0;o<i.length;){n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(ct|ut|pt)&&(r=t.curRecognizer=n),o++}}},get:function(e){if(e instanceof K){return e}
for(var t=this.recognizers,n=0;n<t.length;n++){if(t[n].options.event==e){return t[n]}}
return null},add:function(e){if(a(e,'add',this)){return this}
var t=this.get(e.options.event)
return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(a(e,'remove',this)){return this}
if(e=this.get(e)){var t=this.recognizers,n=y(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var n=this.handlers
return s(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==r){var n=this.handlers
return s(g(e),function(e){t?n[e]&&n[e].splice(y(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ue(e,t)
var n=this.handlers[e]&&this.handlers[e].slice()
if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()}
for(var i=0;i<n.length;){n[i](t),i++}}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pe(se,{INPUT_START:Se,INPUT_MOVE:Ae,INPUT_END:je,INPUT_CANCEL:Pe,STATE_POSSIBLE:lt,STATE_BEGAN:ct,STATE_CHANGED:ut,STATE_ENDED:pt,STATE_RECOGNIZED:dt,STATE_CANCELLED:ft,STATE_FAILED:32,DIRECTION_NONE:Re,DIRECTION_LEFT:ke,DIRECTION_RIGHT:Me,DIRECTION_UP:Be,DIRECTION_DOWN:De,DIRECTION_HORIZONTAL:Oe,DIRECTION_VERTICAL:Le,DIRECTION_ALL:Ne,Manager:le,Input:C,TouchAction:Y,TouchInput:V,MouseInput:I,PointerEventInput:F,TouchMouseInput:q,SingleTouchInput:U,Recognizer:K,AttrRecognizer:ee,Tap:ae,Pan:te,Swipe:oe,Pinch:ne,Rotate:re,Press:ie,on:f,off:h,each:s,merge:be,extend:ye,assign:pe,inherit:c,bindFn:u,prefixed:E}),(void 0!==e?e:'undefined'!=typeof self?self:{}).Hammer=se,'function'==typeof define&&define.amd?define(function(){return se}):void 0!==t&&t.exports?t.exports=se:e.Hammer=se}(window,document)},{}],361:[function(e,t,n){var i=t.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0){return'0'}
for(var n=Math.log(Math.pow(2,e))/Math.log(t),r=2;n===1/0;r*=2){n=Math.log(Math.pow(2,e/r))/Math.log(t)*r}
for(var o=n-Math.floor(n),a='',r=0;r<Math.floor(n);r++){var s=Math.floor(Math.random()*t).toString(t)
a=s+a}if(o){var l=Math.pow(t,o),s=Math.floor(Math.random()*l).toString(t)
a=s+a}var c=parseInt(a,t)
return c!==1/0&&c>=Math.pow(2,e)?i(e,t):a}
i.rack=function(e,t,n){var r=function(r){var a=0
do{if(a++>10){if(!n){throw new Error('too many ID collisions, use more bits')}
e+=n}var s=i(e,t)}while(Object.hasOwnProperty.call(o,s))
return o[s]=r,s},o=r.hats={}
return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=t||16,r}},{}],362:[function(e,t,n){'use strict'
function i(e){if(!(this instanceof i)){return new i(e)}
e=e||[128,36,1],this._seed=e.length?r.rack(e[0],e[1],e[2]):e}var r=e('hat')
t.exports=i,i.prototype.next=function(e){return this._seed(e||!0)},i.prototype.nextPrefixed=function(e,t){var n
do{n=e+this.next(!0)}while(this.assigned(n))
return this.claim(n,t),n},i.prototype.claim=function(e,t){this._seed.set(e,t||!0)},i.prototype.assigned=function(e){return this._seed.get(e)||!1},i.prototype.unclaim=function(e){delete this._seed.hats[e]},i.prototype.clear=function(){var e,t=this._seed.hats
for(e in t){this.unclaim(e)}}},{hat:361}],363:[function(e,t,n){n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,p=n?r-1:0,d=n?-1:1,f=e[t+p]
for(p+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+p],p+=d,u-=8){}for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+p],p+=d,u-=8){}if(0===o){o=1-c}
else{if(o===l){return a?NaN:1/0*(f?-1:1)}
a+=Math.pow(2,i),o-=c}return(f?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,p=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,h=i?1:-1,m=t<0||0===t&&1/t<0?1:0
for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+p>=1?d/l:d*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*l-1)*Math.pow(2,r),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=h,s/=256,r-=8){}for(a=a<<r|s,c+=r;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8){}e[n+f-h]|=128*m}},{}],364:[function(e,t,n){'function'==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t
var n=function(){}
n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],365:[function(e,t,n){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&'function'==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],366:[function(e,t,n){var i={}.toString
t.exports=Array.isArray||function(e){return'[object Array]'==i.call(e)}},{}],367:[function(e,t,n){!function(e,n){'object'==typeof t&&'object'==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document){throw new Error('jQuery requires a window with a document')}
return n(e)}:n(e)}('undefined'!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&'length'in e&&e.length,n=re.type(e)
return'function'!==n&&!re.isWindow(e)&&('array'===n||0===t||'number'==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(re.isFunction(t)){return re.grep(e,function(e,i){return!!t.call(e,i,e)!==n})}
if(t.nodeType){return re.grep(e,function(e){return e===t!==n})}
if('string'==typeof t){if(pe.test(t)){return re.filter(t,e,n)}
t=re.filter(t,e)}return re.grep(e,function(e){return Q.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;){}return e}function o(e){var t={}
return re.each(e.match(ve)||[],function(e,n){t[n]=!0}),t}function a(){X.removeEventListener('DOMContentLoaded',a),e.removeEventListener('load',a),re.ready()}function s(){this.expando=re.expando+s.uid++}function l(e,t,n){var i
if(void 0===n&&1===e.nodeType){if(i='data-'+t.replace(_e,'-$&').toLowerCase(),'string'==typeof(n=e.getAttribute(i))){try{n='true'===n||'false'!==n&&('null'===n?null:+n+''===n?+n:we.test(n)?re.parseJSON(n):n)}catch(e){}Ee.set(e,t,n)}else {n=void 0}}
return n}function c(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return re.css(e,t,'')},l=s(),c=n&&n[3]||(re.cssNumber[t]?'':'px'),u=(re.cssNumber[t]||'px'!==c&&+l)&&Te.exec(re.css(e,t))
if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1
do{o=o||'.5',u/=o,re.style(e,t,u+c)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function u(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||'*'):void 0!==e.querySelectorAll?e.querySelectorAll(t||'*'):[]
return void 0===t||t&&re.nodeName(e,t)?re.merge([e],n):n}function p(e,t){for(var n=0,i=e.length;n<i;n++){xe.set(e[n],'globalEval',!t||xe.get(t[n],'globalEval'))}}function d(e,t,n,i,r){for(var o,a,s,l,c,d,f=t.createDocumentFragment(),h=[],m=0,v=e.length;m<v;m++){if((o=e[m])||0===o){if('object'===re.type(o)){re.merge(h,o.nodeType?[o]:o)}
else if(Me.test(o)){for(a=a||f.appendChild(t.createElement('div')),s=(Pe.exec(o)||['',''])[1].toLowerCase(),l=ke[s]||ke._default,a.innerHTML=l[1]+re.htmlPrefilter(o)+l[2],d=l[0];d--;){a=a.lastChild}
re.merge(h,a.childNodes),a=f.firstChild,a.textContent=''}else {h.push(t.createTextNode(o))}}}
for(f.textContent='',m=0;o=h[m++];){if(i&&re.inArray(o,i)>-1){r&&r.push(o)}
else if(c=re.contains(o.ownerDocument,o),a=u(f.appendChild(o),'script'),c&&p(a),n){for(d=0;o=a[d++];){Re.test(o.type||'')&&n.push(o)}}}
return f}function f(){return!0}function h(){return!1}function m(){try{return X.activeElement}catch(e){}}function v(e,t,n,i,r,o){var a,s
if('object'==typeof t){'string'!=typeof n&&(i=i||n,n=void 0)
for(s in t){v(e,s,n,i,t[s],o)}
return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&('string'==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r){r=h}
else if(!r){return e}
return 1===o&&(a=r,r=function(e){return re().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=re.guid++)),e.each(function(){re.event.add(this,t,r,i,n)})}function g(e,t){return re.nodeName(e,'table')&&re.nodeName(11!==t.nodeType?t:t.firstChild,'tr')?e.getElementsByTagName('tbody')[0]||e.appendChild(e.ownerDocument.createElement('tbody')):e}function y(e){return e.type=(null!==e.getAttribute('type'))+'/'+e.type,e}function b(e){var t=Ie.exec(e.type)
return t?e.type=t[1]:e.removeAttribute('type'),e}function x(e,t){var n,i,r,o,a,s,l,c
if(1===t.nodeType){if(xe.hasData(e)&&(o=xe.access(e),a=xe.set(t,o),c=o.events)){delete a.handle,a.events={}
for(r in c){for(n=0,i=c[r].length;n<i;n++){re.event.add(t,r,c[r][n])}}}Ee.hasData(e)&&(s=Ee.access(e),l=re.extend({},s),Ee.set(t,l))}}function E(e,t){var n=t.nodeName.toLowerCase()
'input'===n&&je.test(e.type)?t.checked=e.checked:'input'!==n&&'textarea'!==n||(t.defaultValue=e.defaultValue)}function w(e,t,n,i){t=J.apply([],t)
var r,o,a,s,l,c,p=0,f=e.length,h=f-1,m=t[0],v=re.isFunction(m)
if(v||f>1&&'string'==typeof m&&!ie.checkClone&&Ne.test(m)){return e.each(function(r){var o=e.eq(r)
v&&(t[0]=m.call(this,r,o.html())),w(o,t,n,i)})}
if(f&&(r=d(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=re.map(u(r,'script'),y),s=a.length;p<f;p++){l=r,p!==h&&(l=re.clone(l,!0,!0),s&&re.merge(a,u(l,'script'))),n.call(e[p],l,p)}
if(s){for(c=a[a.length-1].ownerDocument,re.map(a,b),p=0;p<s;p++){l=a[p],Re.test(l.type||'')&&!xe.access(l,'globalEval')&&re.contains(c,l)&&(l.src?re._evalUrl&&re._evalUrl(l.src):re.globalEval(l.textContent.replace(Fe,'')))}}}return e}function _(e,t,n){for(var i,r=t?re.filter(t,e):e,o=0;null!=(i=r[o]);o++){n||1!==i.nodeType||re.cleanData(u(i)),i.parentNode&&(n&&re.contains(i.ownerDocument,i)&&p(u(i,'script')),i.parentNode.removeChild(i))}
return e}function C(e,t){var n=re(t.createElement(e)).appendTo(t.body),i=re.css(n[0],'display')
return n.detach(),i}function T(e){var t=X,n=He[e]
return n||(n=C(e,t),'none'!==n&&n||(Ue=(Ue||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=C(e,t),Ue.detach()),He[e]=n),n}function S(e,t,n){var i,r,o,a,s=e.style
return n=n||qe(e),a=n?n.getPropertyValue(t)||n[t]:void 0,''!==a&&void 0!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),n&&!ie.pixelMarginRight()&&ze.test(a)&&Ve.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+'':a}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function j(e){if(e in Je){return e}
for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;){if((e=Ke[n]+t)in Je){return e}}}function P(e,t,n){var i=Te.exec(t)
return i?Math.max(0,i[2]-(n||0))+(i[3]||'px'):t}function R(e,t,n,i,r){for(var o=n===(i?'border':'content')?4:'width'===t?1:0,a=0;o<4;o+=2){'margin'===n&&(a+=re.css(e,n+Se[o],!0,r)),i?('content'===n&&(a-=re.css(e,'padding'+Se[o],!0,r)),'margin'!==n&&(a-=re.css(e,'border'+Se[o]+'Width',!0,r))):(a+=re.css(e,'padding'+Se[o],!0,r),'padding'!==n&&(a+=re.css(e,'border'+Se[o]+'Width',!0,r)))}
return a}function k(e,t,n){var i=!0,r='width'===t?e.offsetWidth:e.offsetHeight,o=qe(e),a='border-box'===re.css(e,'boxSizing',!1,o)
if(r<=0||null==r){if(r=S(e,t,o),(r<0||null==r)&&(r=e.style[t]),ze.test(r)){return r}
i=a&&(ie.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+R(e,t,n||(a?'border':'content'),i,o)+'px'}function M(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++){i=e[a],i.style&&(o[a]=xe.get(i,'olddisplay'),n=i.style.display,t?(o[a]||'none'!==n||(i.style.display=''),''===i.style.display&&Ae(i)&&(o[a]=xe.access(i,'olddisplay',T(i.nodeName)))):(r=Ae(i),'none'===n&&r||xe.set(i,'olddisplay',r?n:re.css(i,'display'))))}
for(a=0;a<s;a++){i=e[a],i.style&&(t&&'none'!==i.style.display&&''!==i.style.display||(i.style.display=t?o[a]||'':'none'))}
return e}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function D(){return e.setTimeout(function(){Ze=void 0}),Ze=re.now()}function O(e,t){var n,i=0,r={height:e}
for(t=t?1:0;i<4;i+=2-t){n=Se[i],r['margin'+n]=r['padding'+n]=e}
return t&&(r.opacity=r.width=e),r}function L(e,t,n){for(var i,r=(F.tweeners[t]||[]).concat(F.tweeners['*']),o=0,a=r.length;o<a;o++){if(i=r[o].call(n,t,e)){return i}}}function N(e,t,n){var i,r,o,a,s,l,c,u=this,p={},d=e.style,f=e.nodeType&&Ae(e),h=xe.get(e,'fxshow')
n.queue||(s=re._queueHooks(e,'fx'),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,re.queue(e,'fx').length||s.empty.fire()})})),1===e.nodeType&&('height'in t||'width'in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=re.css(e,'display'),'inline'===('none'===c?xe.get(e,'olddisplay')||T(e.nodeName):c)&&'none'===re.css(e,'float')&&(d.display='inline-block')),n.overflow&&(d.overflow='hidden',u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))
for(i in t){if(r=t[i],et.exec(r)){if(delete t[i],o=o||'toggle'===r,r===(f?'hide':'show')){if('show'!==r||!h||void 0===h[i]){continue}
f=!0}p[i]=h&&h[i]||re.style(e,i)}else {c=void 0}}
if(re.isEmptyObject(p)){'inline'===('none'===c?T(e.nodeName):c)&&(d.display=c)}
else{h?'hidden'in h&&(f=h.hidden):h=xe.access(e,'fxshow',{}),o&&(h.hidden=!f),f?re(e).show():u.done(function(){re(e).hide()}),u.done(function(){var t
xe.remove(e,'fxshow')
for(t in p){re.style(e,t,p[t])}})
for(i in p){a=L(f?h[i]:0,i,u),i in h||(h[i]=a.start,f&&(a.end=a.start,a.start='width'===i||'height'===i?1:0))}}}function I(e,t){var n,i,r,o,a
for(n in e){if(i=re.camelCase(n),r=t[i],o=e[n],re.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=re.cssHooks[i])&&'expand'in a){o=a.expand(o),delete e[i]
for(n in o){n in e||(e[n]=o[n],t[n]=r)}}else {t[i]=r}}}function F(e,t,n){var i,r,o=0,a=F.prefilters.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(r){return!1}
for(var t=Ze||D(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;a<l;a++){c.tweens[a].run(o)}
return s.notifyWith(e,[c,o,n]),o<1&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{},easing:re.easing._default},n),originalProperties:t,originalOptions:n,startTime:Ze||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=re.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing)
return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0
if(r){return this}
for(r=!0;n<i;n++){c.tweens[n].run(1)}
return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props
for(I(u,c.opts.specialEasing);o<a;o++){if(i=F.prefilters[o].call(c,e,u,c.opts)){return re.isFunction(i.stop)&&(re._queueHooks(c.elem,c.opts.queue).stop=re.proxy(i.stop,i)),i}}
return re.map(u,L,c),re.isFunction(c.opts.start)&&c.opts.start.call(e,c),re.fx.timer(re.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return e.getAttribute&&e.getAttribute('class')||''}function H(e){return function(t,n){'string'!=typeof t&&(n=t,t='*')
var i,r=0,o=t.toLowerCase().match(ve)||[]
if(re.isFunction(n)){for(;i=o[r++];){'+'===i[0]?(i=i.slice(1)||'*',(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}}}function V(e,t,n,i){function r(s){var l
return o[s]=!0,re.each(e[s]||[],function(e,s){var c=s(t,n,i)
return'string'!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===mt
return r(t.dataTypes[0])||!o['*']&&r('*')}function z(e,t){var n,i,r=re.ajaxSettings.flatOptions||{}
for(n in t){void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n])}
return i&&re.extend(!0,e,i),e}function q(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;'*'===l[0];){l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader('Content-Type'))}
if(i){for(r in s){if(s[r]&&s[r].test(i)){l.unshift(r)
break}}}if(l[0]in n){o=l[0]}
else{for(r in n){if(!l[0]||e.converters[r+' '+l[0]]){o=r
break}a||(a=r)}o=o||a}if(o){return o!==l[0]&&l.unshift(o),n[o]}}function $(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice()
if(u[1]){for(a in e.converters){c[a.toLowerCase()]=e.converters[a]}}
for(o=u.shift();o;){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift()){if('*'===o){o=l}
else if('*'!==l&&l!==o){if(!(a=c[l+' '+o]||c['* '+o])){for(r in c){if(s=r.split(' '),s[1]===o&&(a=c[l+' '+s[0]]||c['* '+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]))
break}}}if(!0!==a){if(a&&e.throws){t=a(t)}
else {try{t=a(t)}catch(e){return{state:'parsererror',error:a?e:'No conversion from '+l+' to '+o}}}}}}}return{state:'success',data:t}}function W(e,t,n,i){var r
if(re.isArray(t)){re.each(t,function(t,r){n||yt.test(e)?i(e,r):W(e+'['+('object'==typeof r&&null!=r?t:'')+']',r,n,i)})}
else if(n||'object'!==re.type(t)){i(e,t)}
else {for(r in t){W(e+'['+r+']',t[r],n,i)}}}function G(e){return re.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],X=e.document,K=Y.slice,J=Y.concat,Z=Y.push,Q=Y.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},re=function(e,t){return new re.fn.init(e,t)},oe=function(e,t){return t.toUpperCase()}
re.fn=re.prototype={jquery:'2.2.4',constructor:re,selector:'',length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e)
return t.prevObject=this,t.context=this.context,t},each:function(e){return re.each(this,e)},map:function(e){return this.pushStack(re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0)
return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:Y.sort,splice:Y.splice},re.extend=re.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1
for('boolean'==typeof a&&(c=a,a=arguments[s]||{},s++),'object'==typeof a||re.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++){if(null!=(e=arguments[s])){for(t in e){n=a[t],i=e[t],a!==i&&(c&&i&&(re.isPlainObject(i)||(r=re.isArray(i)))?(r?(r=!1,o=n&&re.isArray(n)?n:[]):o=n&&re.isPlainObject(n)?n:{},a[t]=re.extend(c,o,i)):void 0!==i&&(a[t]=i))}}}
return a},re.extend({expando:'jQuery'+('2.2.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return'function'===re.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString()
return!re.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t
if('object'!==re.type(e)||e.nodeType||re.isWindow(e)){return!1}
if(e.constructor&&!ne.call(e,'constructor')&&!ne.call(e.constructor.prototype||{},'isPrototypeOf')){return!1}
for(t in e){}return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t
for(t in e){return!1}
return!0},type:function(e){return null==e?e+'':'object'==typeof e||'function'==typeof e?ee[te.call(e)]||'object':typeof e},globalEval:function(e){var t,n=eval;(e=re.trim(e))&&(1===e.indexOf('use strict')?(t=X.createElement('script'),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(/^-ms-/,'ms-').replace(/-([\da-z])/gi,oe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0
if(n(e)){for(i=e.length;r<i&&!1!==t.call(e[r],r,e[r]);r++){}}else {for(r in e){if(!1===t.call(e[r],r,e[r])){break}}}
return e},trim:function(e){return null==e?'':(e+'').replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')},makeArray:function(e,t){var i=t||[]
return null!=e&&(n(Object(e))?re.merge(i,'string'==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++){e[r++]=t[i]}
return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++){!t(e[r],r)!==a&&i.push(e[r])}
return i},map:function(e,t,i){var r,o,a=0,s=[]
if(n(e)){for(r=e.length;a<r;a++){null!=(o=t(e[a],a,i))&&s.push(o)}}
else {for(a in e){null!=(o=t(e[a],a,i))&&s.push(o)}}
return J.apply([],s)},guid:1,proxy:function(e,t){var n,i,r
if('string'==typeof t&&(n=e[t],t=e,e=n),re.isFunction(e)){return i=K.call(arguments,2),r=function(){return e.apply(t||this,i.concat(K.call(arguments)))},r.guid=e.guid=e.guid||re.guid++,r}},now:Date.now,support:ie}),'function'==typeof Symbol&&(re.fn[Symbol.iterator]=Y[Symbol.iterator]),re.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(e,t){ee['[object '+t+']']=t.toLowerCase()})
var ae=function(e){function t(e,t,n,i){var r,o,a,s,c,p,d,f,h=t&&t.ownerDocument,m=t?t.nodeType:9
if(n=n||[],'string'!=typeof e||!e||1!==m&&9!==m&&11!==m){return n}
if(!i&&((t?t.ownerDocument||t:I)!==R&&P(t),t=t||R,M)){if(11!==m&&(p=me.exec(e))){if(r=p[1]){if(9===m){if(!(a=t.getElementById(r))){return n}
if(a.id===r){return n.push(a),n}}else if(h&&(a=h.getElementById(r))&&L(t,a)&&a.id===r){return n.push(a),n}}else{if(p[2]){return K.apply(n,t.getElementsByTagName(e)),n}
if((r=p[3])&&b.getElementsByClassName&&t.getElementsByClassName){return K.apply(n,t.getElementsByClassName(r)),n}}}if(b.qsa&&!z[e+' ']&&(!B||!B.test(e))){if(1!==m){h=t,f=e}
else if('object'!==t.nodeName.toLowerCase()){for((s=t.getAttribute('id'))?s=s.replace(ge,'\\$&'):t.setAttribute('id',s=N),d=_(e),o=d.length,c=ue.test(s)?'#'+s:"[id='"+s+"']";o--;){d[o]=c+' '+u(d[o])}
f=d.join(','),h=ve.test(e)&&l(t.parentNode)||t}if(f){try{return K.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{s===N&&t.removeAttribute('id')}}}}return T(e.replace(oe,'$1'),t,n,i)}function n(){function e(n,i){return t.push(n+' ')>x.cacheLength&&delete e[t.shift()],e[n+' ']=i}var t=[]
return e}function i(e){return e[N]=!0,e}function r(e){var t=R.createElement('div')
try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split('|'),i=n.length;i--;){x.attrHandle[n[i]]=t}}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$)
if(i){return i}
if(n){for(;n=n.nextSibling;){if(n===t){return-1}}}
return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;){n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function u(e){for(var t=0,n=e.length,i='';t<n;t++){i+=e[t].value}
return i}function p(e,t,n){var i=t.dir,r=n&&'parentNode'===i,o=U++
return t.first?function(t,n,o){for(;t=t[i];){if(1===t.nodeType||r){return e(t,n,o)}}}:function(t,n,a){var s,l,c,u=[F,o]
if(a){for(;t=t[i];){if((1===t.nodeType||r)&&e(t,n,a)){return!0}}}else {for(;t=t[i];){if(1===t.nodeType||r){if(c=t[N]||(t[N]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[i])&&s[0]===F&&s[1]===o){return u[2]=s[2]}
if(l[i]=u,u[2]=e(t,n,a)){return!0}}}}}}function d(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;){if(!e[r](t,n,i)){return!1}}
return!0}:e[0]}function f(e,n,i){for(var r=0,o=n.length;r<o;r++){t(e,n[r],i)}
return i}function h(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++){(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)))}
return a}function m(e,t,n,r,o,a){return r&&!r[N]&&(r=m(r)),o&&!o[N]&&(o=m(o,a)),i(function(i,a,s,l){var c,u,p,d=[],m=[],v=a.length,g=i||f(t||'*',s.nodeType?[s]:s,[]),y=!e||!i&&t?g:h(g,d,e,s,l),b=n?o||(i?e:v||r)?[]:a:y
if(n&&n(y,b,s,l),r){for(c=h(b,m),r(c,[],s,l),u=c.length;u--;){(p=c[u])&&(b[m[u]]=!(y[m[u]]=p))}}
if(i){if(o||e){if(o){for(c=[],u=b.length;u--;){(p=b[u])&&c.push(y[u]=p)}
o(null,b=[],c,l)}for(u=b.length;u--;){(p=b[u])&&(c=o?Z(i,p):d[u])>-1&&(i[c]=!(a[c]=p))}}}else {b=h(b===a?b.splice(v,b.length):b),o?o(null,a,b,l):K.apply(a,b)}})}function v(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],a=o||x.relative[' '],s=o?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return Z(t,e)>-1},a,!0),f=[function(e,n,i){var r=!o&&(i||n!==S)||((t=n).nodeType?l(e,n,i):c(e,n,i))
return t=null,r}];s<r;s++){if(n=x.relative[e[s].type]){f=[p(d(f),n)]}
else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[N]){for(i=++s;i<r&&!x.relative[e[i].type];i++){}return m(s>1&&d(f),s>1&&u(e.slice(0,s-1).concat({value:' '===e[s-2].type?'*':''})).replace(oe,'$1'),n,s<i&&v(e.slice(s,i)),i<r&&v(e=e.slice(i)),i<r&&u(e))}f.push(n)}}return d(f)}function g(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,p,d,f=0,m='0',v=i&&[],g=[],y=S,b=i||o&&x.find.TAG('*',c),E=F+=null==y?1:Math.random()||.1,w=b.length
for(c&&(S=a===R||a||c);m!==w&&null!=(u=b[m]);m++){if(o&&u){for(p=0,a||u.ownerDocument===R||(P(u),s=!M);d=e[p++];){if(d(u,a||R,s)){l.push(u)
break}}c&&(F=E)}r&&((u=!d&&u)&&f--,i&&v.push(u))}if(f+=m,r&&m!==f){for(p=0;d=n[p++];){d(v,g,a,s)}
if(i){if(f>0){for(;m--;){v[m]||g[m]||(g[m]=Y.call(l))}}
g=h(g)}K.apply(l,g),c&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(F=E,S=y),v}
return r?i(a):a}var y,b,x,E,w,_,C,T,S,A,j,P,R,k,M,B,D,O,L,N='sizzle'+1*new Date,I=e.document,F=0,U=0,H=n(),V=n(),z=n(),q=function(e,t){return e===t&&(j=!0),0},$=1<<31,W={}.hasOwnProperty,G=[],Y=G.pop,X=G.push,K=G.push,J=G.slice,Z=function(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}
return-1},Q='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',ee='[\\x20\\t\\r\\n\\f]',te='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',ne='\\['+ee+'*('+te+')(?:'+ee+'*([*^$|!~]?=)'+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+'))|)'+ee+'*\\]',ie=':('+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+')*)|.*)\\)|)',re=new RegExp(ee+'+','g'),oe=new RegExp('^'+ee+'+|((?:^|[^\\\\])(?:\\\\.)*)'+ee+'+$','g'),ae=new RegExp('^'+ee+'*,'+ee+'*'),se=new RegExp('^'+ee+'*([>+~]|'+ee+')'+ee+'*'),le=new RegExp('='+ee+"*([^\\]'\"]*?)"+ee+'*\\]','g'),ce=new RegExp(ie),ue=new RegExp('^'+te+'$'),pe={ID:new RegExp('^#('+te+')'),CLASS:new RegExp('^\\.('+te+')'),TAG:new RegExp('^('+te+'|[*])'),ATTR:new RegExp('^'+ne),PSEUDO:new RegExp('^'+ie),CHILD:new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\('+ee+'*(even|odd|(([+-]|)(\\d*)n|)'+ee+'*(?:([+-]|)'+ee+'*(\\d+)|))'+ee+'*\\)|)','i'),bool:new RegExp('^(?:'+Q+')$','i'),needsContext:new RegExp('^'+ee+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\('+ee+'*((?:-\\d)?\\d*)'+ee+'*\\)|)(?=[^-]|$)','i')},de=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ge=/'|\\/g,ye=new RegExp('\\\\([\\da-f]{1,6}'+ee+'?|('+ee+')|.)','ig'),be=function(e,t,n){var i='0x'+t-65536
return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=function(){P()}
try{K.apply(G=J.call(I.childNodes),I.childNodes),G[I.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];){}e.length=n-1}}}b=t.support={},w=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement
return!!t&&'HTML'!==t.nodeName},P=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:I
return i!==R&&9===i.nodeType&&i.documentElement?(R=i,k=R.documentElement,M=!w(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener('unload',xe,!1):n.attachEvent&&n.attachEvent('onunload',xe)),b.attributes=r(function(e){return e.className='i',!e.getAttribute('className')}),b.getElementsByTagName=r(function(e){return e.appendChild(R.createComment('')),!e.getElementsByTagName('*').length}),b.getElementsByClassName=he.test(R.getElementsByClassName),b.getById=r(function(e){return k.appendChild(e).id=N,!R.getElementsByName||!R.getElementsByName(N).length}),b.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e)
return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(ye,be)
return function(e){return e.getAttribute('id')===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(ye,be)
return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode('id')
return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e)
if('*'===e){for(;n=o[r++];){1===n.nodeType&&i.push(n)}
return i}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M){return t.getElementsByClassName(e)}},D=[],B=[],(b.qsa=he.test(R.querySelectorAll))&&(r(function(e){k.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&B.push('[*^$]='+ee+"*(?:''|\"\")"),e.querySelectorAll('[selected]').length||B.push('\\['+ee+'*(?:value|'+Q+')'),e.querySelectorAll('[id~='+N+'-]').length||B.push('~='),e.querySelectorAll(':checked').length||B.push(':checked'),e.querySelectorAll('a#'+N+'+*').length||B.push('.#.+[+~]')}),r(function(e){var t=R.createElement('input')
t.setAttribute('type','hidden'),e.appendChild(t).setAttribute('name','D'),e.querySelectorAll('[name=d]').length&&B.push('name'+ee+'*[*^$|!~]?='),e.querySelectorAll(':enabled').length||B.push(':enabled',':disabled'),e.querySelectorAll('*,:x'),B.push(',.*:')})),(b.matchesSelector=he.test(O=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&r(function(e){b.disconnectedMatch=O.call(e,'div'),O.call(e,"[s!='']:x"),D.push('!=',ie)}),B=B.length&&new RegExp(B.join('|')),D=D.length&&new RegExp(D.join('|')),t=he.test(k.compareDocumentPosition),L=t||he.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode
return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t){for(;t=t.parentNode;){if(t===e){return!0}}}
return!1},q=t?function(e,t){if(e===t){return j=!0,0}
var n=!e.compareDocumentPosition-!t.compareDocumentPosition
return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===I&&L(I,e)?-1:t===R||t.ownerDocument===I&&L(I,t)?1:A?Z(A,e)-Z(A,t):0:4&n?-1:1)}:function(e,t){if(e===t){return j=!0,0}
var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t]
if(!r||!o){return e===R?-1:t===R?1:r?-1:o?1:A?Z(A,e)-Z(A,t):0}
if(r===o){return a(e,t)}
for(n=e;n=n.parentNode;){s.unshift(n)}
for(n=t;n=n.parentNode;){l.unshift(n)}
for(;s[i]===l[i];){i++}
return i?a(s[i],l[i]):s[i]===I?-1:l[i]===I?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&P(e),n=n.replace(le,"='$1']"),b.matchesSelector&&M&&!z[n+' ']&&(!D||!D.test(n))&&(!B||!B.test(n))){try{var i=O.call(e,n)
if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType){return i}}catch(e){}}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&P(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&P(e)
var n=x.attrHandle[t.toLowerCase()],i=n&&W.call(x.attrHandle,t.toLowerCase())?n(e,t,!M):void 0
return void 0!==i?i:b.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error('Syntax error, unrecognized expression: '+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0
if(j=!b.detectDuplicates,A=!b.sortStable&&e.slice(0),e.sort(q),j){for(;t=e[r++];){t===e[r]&&(i=n.push(r))}
for(;i--;){e.splice(n[i],1)}}return A=null,e},E=t.getText=function(e){var t,n='',i=0,r=e.nodeType
if(r){if(1===r||9===r||11===r){if('string'==typeof e.textContent){return e.textContent}
for(e=e.firstChild;e;e=e.nextSibling){n+=E(e)}}else if(3===r||4===r){return e.nodeValue}}else {for(;t=e[i++];){n+=E(t)}}
return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||'').replace(ye,be),'~='===e[2]&&(e[3]=' '+e[3]+' '),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),'nth'===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*('even'===e[3]||'odd'===e[3])),e[5]=+(e[7]+e[8]||'odd'===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2]
return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||'':n&&ce.test(n)&&(t=_(n,!0))&&(t=n.indexOf(')',n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase()
return'*'===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+' ']
return t||(t=new RegExp('(^|'+ee+')'+e+'('+ee+'|$)'))&&H(e,function(e){return t.test('string'==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute('class')||'')})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e)
return null==o?'!='===n:!n||(o+='','='===n?o===i:'!='===n?o!==i:'^='===n?i&&0===o.indexOf(i):'*='===n?i&&o.indexOf(i)>-1:'$='===n?i&&o.slice(-i.length)===i:'~='===n?(' '+o.replace(re,' ')+' ').indexOf(i)>-1:'|='===n&&(o===i||o.slice(0,i.length+1)===i+'-'))}},CHILD:function(e,t,n,i,r){var o='nth'!==e.slice(0,3),a='last'!==e.slice(-4),s='of-type'===t
return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,p,d,f,h,m=o!==a?'nextSibling':'previousSibling',v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1
if(v){if(o){for(;m;){for(d=t;d=d[m];){if(s?d.nodeName.toLowerCase()===g:1===d.nodeType){return!1}}
h=m='only'===e&&!h&&'nextSibling'}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(d=v,p=d[N]||(d[N]={}),u=p[d.uniqueID]||(p[d.uniqueID]={}),c=u[e]||[],f=c[0]===F&&c[1],b=f&&c[2],d=f&&v.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||h.pop();){if(1===d.nodeType&&++b&&d===t){u[e]=[F,f,b]
break}}}else if(y&&(d=t,p=d[N]||(d[N]={}),u=p[d.uniqueID]||(p[d.uniqueID]={}),c=u[e]||[],f=c[0]===F&&c[1],b=f),!1===b){for(;(d=++f&&d&&d[m]||(b=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++b||(y&&(p=d[N]||(d[N]={}),u=p[d.uniqueID]||(p[d.uniqueID]={}),u[e]=[F,b]),d!==t));){}}return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error('unsupported pseudo: '+e)
return o[N]?o(n):o.length>1?(r=[e,e,'',n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;){i=Z(e,r[a]),e[i]=!(t[i]=r[a])}}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=C(e.replace(oe,'$1'))
return r[N]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return ue.test(e||'')||t.error('unsupported lang: '+e),e=e.replace(ye,be).toLowerCase(),function(t){var n
do{if(n=M?t.lang:t.getAttribute('xml:lang')||t.getAttribute('lang')){return(n=n.toLowerCase())===e||0===n.indexOf(e+'-')}}while((t=t.parentNode)&&1===t.nodeType)
return!1}}),target:function(t){var n=e.location&&e.location.hash
return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
return'input'===t&&!!e.checked||'option'===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return!1}}
return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase()
return'input'===t&&'button'===e.type||'button'===t},text:function(e){var t
return'input'===e.nodeName.toLowerCase()&&'text'===e.type&&(null==(t=e.getAttribute('type'))||'text'===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2){e.push(n)}
return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2){e.push(n)}
return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;){e.push(i)}
return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;){e.push(i)}
return e})}},x.pseudos.nth=x.pseudos.eq
for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){x.pseudos[y]=function(e){return function(t){return'input'===t.nodeName.toLowerCase()&&t.type===e}}(y)}
for(y in{submit:!0,reset:!0}){x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase()
return('input'===n||'button'===n)&&t.type===e}}(y)}
return c.prototype=x.filters=x.pseudos,x.setFilters=new c,_=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=V[e+' ']
if(u){return n?0:u.slice(0)}
for(s=e,l=[],c=x.preFilter;s;){i&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=se.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(oe,' ')}),s=s.slice(i.length))
for(a in x.filter){!(r=pe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length))}
if(!i){break}}return n?s.length:s?t.error(e):V(e,l).slice(0)},C=t.compile=function(e,t){var n,i=[],r=[],o=z[e+' ']
if(!o){for(t||(t=_(e)),n=t.length;n--;){o=v(t[n]),o[N]?i.push(o):r.push(o)}
o=z(e,g(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,c,p='function'==typeof e&&e,d=!i&&_(e=p.selector||e)
if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&'ID'===(a=o[0]).type&&b.getById&&9===t.nodeType&&M&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,be),t)||[])[0])){return n}
p&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);){if((c=x.find[s])&&(i=c(a.matches[0].replace(ye,be),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&u(o))){return K.apply(n,i),n}
break}}}return(p||C(e,d))(i,t,!M,n,!t||ve.test(e)&&l(t.parentNode)||t),n},b.sortStable=N.split('').sort(q).join('')===N,b.detectDuplicates=!!j,P(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement('div'))}),r(function(e){return e.innerHTML="<a href='#'></a>",'#'===e.firstChild.getAttribute('href')})||o('type|href|height|width',function(e,t,n){if(!n){return e.getAttribute(t,'type'===t.toLowerCase()?1:2)}}),b.attributes&&r(function(e){return e.innerHTML='<input/>',e.firstChild.setAttribute('value',''),''===e.firstChild.getAttribute('value')})||o('value',function(e,t,n){if(!n&&'input'===e.nodeName.toLowerCase()){return e.defaultValue}}),r(function(e){return null==e.getAttribute('disabled')})||o(Q,function(e,t,n){var i
if(!n){return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}}),t}(e)
re.find=ae,re.expr=ae.selectors,re.expr[':']=re.expr.pseudos,re.uniqueSort=re.unique=ae.uniqueSort,re.text=ae.getText,re.isXMLDoc=ae.isXML,re.contains=ae.contains
var se=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;){if(1===e.nodeType){if(r&&re(e).is(n)){break}
i.push(e)}}return i},le=function(e,t){for(var n=[];e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}
return n},ce=re.expr.match.needsContext,ue=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/
re.filter=function(e,t,n){var i=t[0]
return n&&(e=':not('+e+')'),1===t.length&&1===i.nodeType?re.find.matchesSelector(i,e)?[i]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n=this.length,i=[],r=this
if('string'!=typeof e){return this.pushStack(re(e).filter(function(){for(t=0;t<n;t++){if(re.contains(r[t],this)){return!0}}}))}
for(t=0;t<n;t++){re.find(e,r[t],i)}
return i=this.pushStack(n>1?re.unique(i):i),i.selector=this.selector?this.selector+' '+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,'string'==typeof e&&ce.test(e)?re(e):e||[],!1).length}})
var de,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(re.fn.init=function(e,t,n){var i,r
if(!e){return this}
if(n=n||de,'string'==typeof e){if(!(i='<'===e[0]&&'>'===e[e.length-1]&&e.length>=3?[null,e,null]:fe.exec(e))||!i[1]&&t){return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}
if(i[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),ue.test(i[1])&&re.isPlainObject(t)){for(i in t){re.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i])}}
return this}return r=X.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==n.ready?n.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))}).prototype=re.fn,de=re(X)
var he=/^(?:parents|prev(?:Until|All))/,me={children:!0,contents:!0,next:!0,prev:!0}
re.fn.extend({has:function(e){var t=re(e,this),n=t.length
return this.filter(function(){for(var e=0;e<n;e++){if(re.contains(this,t[e])){return!0}}})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=ce.test(e)||'string'!=typeof e?re(e,t||this.context):0;i<r;i++){for(n=this[i];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,e))){o.push(n)
break}}}return this.pushStack(o.length>1?re.uniqueSort(o):o)},index:function(e){return e?'string'==typeof e?Q.call(re(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.uniqueSort(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return se(e,'parentNode')},parentsUntil:function(e,t,n){return se(e,'parentNode',n)},next:function(e){return r(e,'nextSibling')},prev:function(e){return r(e,'previousSibling')},nextAll:function(e){return se(e,'nextSibling')},prevAll:function(e){return se(e,'previousSibling')},nextUntil:function(e,t,n){return se(e,'nextSibling',n)},prevUntil:function(e,t,n){return se(e,'previousSibling',n)},siblings:function(e){return le((e.parentNode||{}).firstChild,e)},children:function(e){return le(e.firstChild)},contents:function(e){return e.contentDocument||re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(n,i){var r=re.map(this,t,n)
return'Until'!==e.slice(-5)&&(i=n),i&&'string'==typeof i&&(r=re.filter(i,r)),this.length>1&&(me[e]||re.uniqueSort(r),he.test(e)&&r.reverse()),this.pushStack(r)}})
var ve=/\S+/g
re.Callbacks=function(e){e='string'==typeof e?o(e):re.extend({},e)
var t,n,i,r,a=[],s=[],l=-1,c=function(){for(r=e.once,i=t=!0;s.length;l=-1){for(n=s.shift();++l<a.length;){!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1)}}
e.memory||(n=!1),t=!1,r&&(a=n?[]:'')},u={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function t(n){re.each(n,function(n,i){re.isFunction(i)?e.unique&&u.has(i)||a.push(i):i&&i.length&&'string'!==re.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return re.each(arguments,function(e,t){for(var n;(n=re.inArray(t,a,n))>-1;){a.splice(n,1),n<=l&&l--}}),this},has:function(e){return e?re.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n='',this},disabled:function(){return!a},lock:function(){return r=s=[],n||(a=n=''),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}}
return u},re.extend({Deferred:function(e){var t=[['resolve','done',re.Callbacks('once memory'),'resolved'],['reject','fail',re.Callbacks('once memory'),'rejected'],['notify','progress',re.Callbacks('memory')]],n='pending',i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments
return re.Deferred(function(n){re.each(t,function(t,o){var a=re.isFunction(e[t])&&e[t]
r[o[1]](function(){var e=a&&a.apply(this,arguments)
e&&re.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+'With'](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,i):i}},r={}
return i.pipe=i.then,re.each(t,function(e,o){var a=o[2],s=o[3]
i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+'With'](this===r?i:this,arguments),this},r[o[0]+'With']=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=K.call(arguments),a=o.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,l=1===s?e:re.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?K.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}}
if(a>1){for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++){o[r]&&re.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,t)).done(c(r,i,o)).fail(l.reject):--s}}
return s||l.resolveWith(i,o),l.promise()}})
var ge
re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){(!0===e?--re.readyWait:re.isReady)||(re.isReady=!0,!0!==e&&--re.readyWait>0||(ge.resolveWith(X,[re]),re.fn.triggerHandler&&(re(X).triggerHandler('ready'),re(X).off('ready'))))}}),re.ready.promise=function(t){return ge||(ge=re.Deferred(),'complete'===X.readyState||'loading'!==X.readyState&&!X.documentElement.doScroll?e.setTimeout(re.ready):(X.addEventListener('DOMContentLoaded',a),e.addEventListener('load',a))),ge.promise(t)},re.ready.promise()
var ye=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n
if('object'===re.type(n)){r=!0
for(s in n){ye(e,t,s,n[s],!0,o,a)}}else if(void 0!==i&&(r=!0,re.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(re(e),n)})),t)){for(;s<l;s++){t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)))}}
return r?e:c?t.call(e):l?t(e[0],n):o},be=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}
s.uid=1,s.prototype={register:function(e,t){var n=t||{}
return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!be(e)){return{}}
var t=e[this.expando]
return t||(t={},be(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e)
if('string'==typeof t){r[t]=n}
else {for(i in t){r[i]=t[i]}}
return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i
return void 0===t||t&&'string'==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,re.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando]
if(void 0!==o){if(void 0===t){this.register(e)}
else{re.isArray(t)?i=t.concat(t.map(re.camelCase)):(r=re.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(ve)||[])),n=i.length
for(;n--;){delete o[i[n]]}}(void 0===t||re.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando]
return void 0!==t&&!re.isEmptyObject(t)}}
var xe=new s,Ee=new s,we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/[A-Z]/g
re.extend({hasData:function(e){return Ee.hasData(e)||xe.hasData(e)},data:function(e,t,n){return Ee.access(e,t,n)},removeData:function(e,t){Ee.remove(e,t)},_data:function(e,t,n){return xe.access(e,t,n)},_removeData:function(e,t){xe.remove(e,t)}}),re.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes
if(void 0===e){if(this.length&&(r=Ee.get(o),1===o.nodeType&&!xe.get(o,'hasDataAttrs'))){for(n=a.length;n--;){a[n]&&(i=a[n].name,0===i.indexOf('data-')&&(i=re.camelCase(i.slice(5)),l(o,i,r[i])))}
xe.set(o,'hasDataAttrs',!0)}return r}return'object'==typeof e?this.each(function(){Ee.set(this,e)}):ye(this,function(t){var n,i
if(o&&void 0===t){if(void 0!==(n=Ee.get(o,e)||Ee.get(o,e.replace(_e,'-$&').toLowerCase()))){return n}
if(i=re.camelCase(e),void 0!==(n=Ee.get(o,i))){return n}
if(void 0!==(n=l(o,i,void 0))){return n}}else {i=re.camelCase(e),this.each(function(){var n=Ee.get(this,i)
Ee.set(this,i,t),e.indexOf('-')>-1&&void 0!==n&&Ee.set(this,e,t)})}},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ee.remove(this,e)})}}),re.extend({queue:function(e,t,n){var i
if(e){return t=(t||'fx')+'queue',i=xe.get(e,t),n&&(!i||re.isArray(n)?i=xe.access(e,t,re.makeArray(n)):i.push(n)),i||[]}},dequeue:function(e,t){t=t||'fx'
var n=re.queue(e,t),i=n.length,r=n.shift(),o=re._queueHooks(e,t),a=function(){re.dequeue(e,t)}
'inprogress'===r&&(r=n.shift(),i--),r&&('fx'===t&&n.unshift('inprogress'),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+'queueHooks'
return xe.get(e,n)||xe.access(e,n,{empty:re.Callbacks('once memory').add(function(){xe.remove(e,[t+'queue',n])})})}}),re.fn.extend({queue:function(e,t){var n=2
return'string'!=typeof e&&(t=e,e='fx',n--),arguments.length<n?re.queue(this[0],e):void 0===t?this:this.each(function(){var n=re.queue(this,e,t)
re._queueHooks(this,e),'fx'===e&&'inprogress'!==n[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||'fx',[])},promise:function(e,t){var n,i=1,r=re.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])}
for('string'!=typeof e&&(t=e,e=void 0),e=e||'fx';a--;){(n=xe.get(o[a],e+'queueHooks'))&&n.empty&&(i++,n.empty.add(s))}
return s(),r.promise(t)}})
var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=new RegExp('^(?:([+-])=|)('+Ce+')([a-z%]*)$','i'),Se=['Top','Right','Bottom','Left'],Ae=function(e,t){return e=t||e,'none'===re.css(e,'display')||!re.contains(e.ownerDocument,e)},je=/^(?:checkbox|radio)$/i,Pe=/<([\w:-]+)/,Re=/^$|\/(?:java|ecma)script/i,ke={option:[1,"<select multiple='multiple'>",'</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']}
ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td
var Me=/<|&#?\w+;/
!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement('div')),n=X.createElement('input')
n.setAttribute('type','radio'),n.setAttribute('checked','checked'),n.setAttribute('name','t'),t.appendChild(n),ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML='<textarea>x</textarea>',ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}()
var Be=/^key/,De=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oe=/^([^.]*)(?:\.(.+)|)/
re.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,p,d,f,h,m,v=xe.get(e)
if(v){for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=re.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==re&&re.event.triggered!==t.type?re.event.dispatch.apply(e,arguments):void 0}),t=(t||'').match(ve)||[''],c=t.length;c--;){s=Oe.exec(t[c])||[],f=m=s[1],h=(s[2]||'').split('.').sort(),f&&(p=re.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,p=re.event.special[f]||{},u=re.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:h.join('.')},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,p.setup&&!1!==p.setup.call(e,i,h,a)||e.addEventListener&&e.addEventListener(f,a)),p.add&&(p.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),re.event.global[f]=!0)}}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,p,d,f,h,m,v=xe.hasData(e)&&xe.get(e)
if(v&&(l=v.events)){for(t=(t||'').match(ve)||[''],c=t.length;c--;){if(s=Oe.exec(t[c])||[],f=m=s[1],h=(s[2]||'').split('.').sort(),f){for(p=re.event.special[f]||{},f=(i?p.delegateType:p.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp('(^|\\.)'+h.join('\\.(?:.*\\.|)')+'(\\.|$)'),a=o=d.length;o--;){u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&('**'!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,p.remove&&p.remove.call(e,u))}
a&&!d.length&&(p.teardown&&!1!==p.teardown.call(e,h,v.handle)||re.removeEvent(e,f,v.handle),delete l[f])}else {for(f in l){re.event.remove(e,f+t[c],n,i,!0)}}}
re.isEmptyObject(l)&&xe.remove(e,'handle events')}},dispatch:function(e){e=re.event.fix(e)
var t,n,i,r,o,a=[],s=K.call(arguments),l=(xe.get(this,'events')||{})[e.type]||[],c=re.event.special[e.type]||{}
if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=re.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();){for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();){e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((re.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()))}}
return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target
if(s&&l.nodeType&&('click'!==e.type||isNaN(e.button)||e.button<1)){for(;l!==this;l=l.parentNode||this){if(1===l.nodeType&&(!0!==l.disabled||'click'!==e.type)){for(i=[],n=0;n<s;n++){o=t[n],r=o.selector+' ',void 0===i[r]&&(i[r]=o.needsContext?re(r,this).index(l)>-1:re.find(r,this,null,[l]).length),i[r]&&i.push(o)}
i.length&&a.push({elem:l,handlers:i})}}}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),fixHooks:{},keyHooks:{props:'char charCode key keyCode'.split(' '),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:'button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(e,t){var n,i,r,o=t.button
return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[re.expando]){return e}
var t,n,i,r=e.type,o=e,a=this.fixHooks[r]
for(a||(this.fixHooks[r]=a=De.test(r)?this.mouseHooks:Be.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new re.Event(o),t=i.length;t--;){n=i[t],e[n]=o[n]}
return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus){return this.focus(),!1}},delegateType:'focusin'},blur:{trigger:function(){if(this===m()&&this.blur){return this.blur(),!1}},delegateType:'focusout'},click:{trigger:function(){if('checkbox'===this.type&&this.click&&re.nodeName(this,'input')){return this.click(),!1}},_default:function(e){return re.nodeName(e.target,'a')}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},re.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},re.Event=function(e,t){if(!(this instanceof re.Event)){return new re.Event(e,t)}
e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?f:h):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),this[re.expando]=!0},re.Event.prototype={constructor:re.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,isSimulated:!1,preventDefault:function(){var e=this.originalEvent
this.isDefaultPrevented=f,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent
this.isPropagationStopped=f,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent
this.isImmediatePropagationStopped=f,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj
return r&&(r===i||re.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),re.fn.extend({on:function(e,t,n,i){return v(this,e,t,n,i)},one:function(e,t,n,i){return v(this,e,t,n,i,1)},off:function(e,t,n){var i,r
if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,re(e.delegateTarget).off(i.namespace?i.origType+'.'+i.namespace:i.origType,i.selector,i.handler),this}
if('object'==typeof e){for(r in e){this.off(r,t,e[r])}
return this}return!1!==t&&'function'!=typeof t||(n=t,t=void 0),!1===n&&(n=h),this.each(function(){re.event.remove(this,e,n,t)})}})
var Le=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
re.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,'<$1></$2>')},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=re.contains(e.ownerDocument,e)
if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e))){for(a=u(s),o=u(e),i=0,r=o.length;i<r;i++){E(o[i],a[i])}}
if(t){if(n){for(o=o||u(e),a=a||u(s),i=0,r=o.length;i<r;i++){x(o[i],a[i])}}
else {x(e,s)}}
return a=u(s,'script'),a.length>0&&p(a,!l&&u(e,'script')),s},cleanData:function(e){for(var t,n,i,r=re.event.special,o=0;void 0!==(n=e[o]);o++){if(be(n)){if(t=n[xe.expando]){if(t.events){for(i in t.events){r[i]?re.event.remove(n,i):re.removeEvent(n,i,t.handle)}}
n[xe.expando]=void 0}n[Ee.expando]&&(n[Ee.expando]=void 0)}}}}),re.fn.extend({domManip:w,detach:function(e){return _(this,e,!0)},remove:function(e){return _(this,e)},text:function(e){return ye(this,function(e){return void 0===e?re.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){g(this,e).appendChild(e)}})},prepend:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e)
t.insertBefore(e,t.firstChild)}})},before:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&(re.cleanData(u(e,!1)),e.textContent='')}
return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return ye(this,function(e){var t=this[0]||{},n=0,i=this.length
if(void 0===e&&1===t.nodeType){return t.innerHTML}
if('string'==typeof e&&!Le.test(e)&&!ke[(Pe.exec(e)||['',''])[1].toLowerCase()]){e=re.htmlPrefilter(e)
try{for(;n<i;n++){t=this[n]||{},1===t.nodeType&&(re.cleanData(u(t,!1)),t.innerHTML=e)}
t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[]
return w(this,arguments,function(t){var n=this.parentNode
re.inArray(this,e)<0&&(re.cleanData(u(this)),n&&n.replaceChild(t,this))},e)}}),re.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(e,t){re.fn[e]=function(e){for(var n,i=[],r=re(e),o=r.length-1,a=0;a<=o;a++){n=a===o?this:this.clone(!0),re(r[a])[t](n),Z.apply(i,n.get())}
return this.pushStack(i)}})
var Ue,He={HTML:'block',BODY:'block'},Ve=/^margin/,ze=new RegExp('^('+Ce+')(?!px)[a-z%]+$','i'),qe=function(t){var n=t.ownerDocument.defaultView
return n&&n.opener||(n=e),n.getComputedStyle(t)},$e=function(e,t,n,i){var r,o,a={}
for(o in t){a[o]=e.style[o],e.style[o]=t[o]}
r=n.apply(e,i||[])
for(o in t){e.style[o]=a[o]}
return r},We=X.documentElement
!function(){function t(){s.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%',s.innerHTML='',We.appendChild(a)
var t=e.getComputedStyle(s)
n='1%'!==t.top,o='2px'===t.marginLeft,i='4px'===t.width,s.style.marginRight='50%',r='4px'===t.marginRight,We.removeChild(a)}var n,i,r,o,a=X.createElement('div'),s=X.createElement('div')
s.style&&(s.style.backgroundClip='content-box',s.cloneNode(!0).style.backgroundClip='',ie.clearCloneStyle='content-box'===s.style.backgroundClip,a.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute',a.appendChild(s),re.extend(ie,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(X.createElement('div'))
return n.style.cssText=s.style.cssText='-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',n.style.marginRight=n.style.width='0',s.style.width='1px',We.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),We.removeChild(a),s.removeChild(n),t}}))}()
var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:'absolute',visibility:'hidden',display:'block'},Xe={letterSpacing:'0',fontWeight:'400'},Ke=['Webkit','O','Moz','ms'],Je=X.createElement('div').style
re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,'opacity')
return''===n?'1':n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:'cssFloat'},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re.camelCase(t),l=e.style
if(t=re.cssProps[s]||(re.cssProps[s]=j(s)||s),a=re.cssHooks[t]||re.cssHooks[s],void 0===n){return a&&'get'in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]}
o=typeof n,'string'===o&&(r=Te.exec(n))&&r[1]&&(n=c(e,t,r),o='number'),null!=n&&n===n&&('number'===o&&(n+=r&&r[3]||(re.cssNumber[s]?'':'px')),ie.clearCloneStyle||''!==n||0!==t.indexOf('background')||(l[t]='inherit'),a&&'set'in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=re.camelCase(t)
return t=re.cssProps[s]||(re.cssProps[s]=j(s)||s),a=re.cssHooks[t]||re.cssHooks[s],a&&'get'in a&&(r=a.get(e,!0,n)),void 0===r&&(r=S(e,t,i)),'normal'===r&&t in Xe&&(r=Xe[t]),''===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),re.each(['height','width'],function(e,t){re.cssHooks[t]={get:function(e,n,i){if(n){return Ge.test(re.css(e,'display'))&&0===e.offsetWidth?$e(e,Ye,function(){return k(e,t,i)}):k(e,t,i)}},set:function(e,n,i){var r,o=i&&qe(e),a=i&&R(e,t,i,'border-box'===re.css(e,'boxSizing',!1,o),o)
return a&&(r=Te.exec(n))&&'px'!==(r[3]||'px')&&(e.style[t]=n,n=re.css(e,t)),P(e,n,a)}}}),re.cssHooks.marginLeft=A(ie.reliableMarginLeft,function(e,t){if(t){return(parseFloat(S(e,'marginLeft'))||e.getBoundingClientRect().left-$e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+'px'}}),re.cssHooks.marginRight=A(ie.reliableMarginRight,function(e,t){if(t){return $e(e,{display:'inline-block'},S,[e,'marginRight'])}}),re.each({margin:'',padding:'',border:'Width'},function(e,t){re.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o='string'==typeof n?n.split(' '):[n];i<4;i++){r[e+Se[i]+t]=o[i]||o[i-2]||o[0]}
return r}},Ve.test(e)||(re.cssHooks[e+t].set=P)}),re.fn.extend({css:function(e,t){return ye(this,function(e,t,n){var i,r,o={},a=0
if(re.isArray(t)){for(i=qe(e),r=t.length;a<r;a++){o[t[a]]=re.css(e,t[a],!1,i)}
return o}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return'boolean'==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?re(this).show():re(this).hide()})}}),re.Tween=B,B.prototype={constructor:B,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||re.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(re.cssNumber[n]?'':'px')},cur:function(){var e=B.propHooks[this.prop]
return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop]
return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t
return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=re.css(e.elem,e.prop,''),t&&'auto'!==t?t:0)},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[re.cssProps[e.prop]]&&!re.cssHooks[e.prop]?e.elem[e.prop]=e.now:re.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:'swing'},re.fx=B.prototype.init,re.fx.step={}
var Ze,Qe,et=/^(?:toggle|show|hide)$/,tt=/queueHooks$/
re.Animation=re.extend(F,{tweeners:{'*':[function(e,t){var n=this.createTween(e,t)
return c(n.elem,e,Te.exec(t),n),n}]},tweener:function(e,t){re.isFunction(e)?(t=e,e=['*']):e=e.match(ve)
for(var n,i=0,r=e.length;i<r;i++){n=e[i],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(t)}},prefilters:[N],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),re.speed=function(e,t,n){var i=e&&'object'==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t}
return i.duration=re.fx.off?0:'number'==typeof i.duration?i.duration:i.duration in re.fx.speeds?re.fx.speeds[i.duration]:re.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue='fx'),i.old=i.complete,i.complete=function(){re.isFunction(i.old)&&i.old.call(this),i.queue&&re.dequeue(this,i.queue)},i},re.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ae).css('opacity',0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=re.isEmptyObject(e),o=re.speed(t,n,i),a=function(){var t=F(this,re.extend({},e),o);(r||xe.get(this,'finish'))&&t.stop(!0)}
return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop
delete e.stop,t(n)}
return'string'!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||'fx',[]),this.each(function(){var t=!0,r=null!=e&&e+'queueHooks',o=re.timers,a=xe.get(this)
if(r){a[r]&&a[r].stop&&i(a[r])}
else {for(r in a){a[r]&&a[r].stop&&tt.test(r)&&i(a[r])}}
for(r=o.length;r--;){o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1))}
!t&&n||re.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||'fx'),this.each(function(){var t,n=xe.get(this),i=n[e+'queue'],r=n[e+'queueHooks'],o=re.timers,a=i?i.length:0
for(n.finish=!0,re.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}
for(t=0;t<a;t++){i[t]&&i[t].finish&&i[t].finish.call(this)}
delete n.finish})}}),re.each(['toggle','show','hide'],function(e,t){var n=re.fn[t]
re.fn[t]=function(e,i,r){return null==e||'boolean'==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),re.each({slideDown:O('show'),slideUp:O('hide'),slideToggle:O('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(e,t){re.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),re.timers=[],re.fx.tick=function(){var e,t=0,n=re.timers
for(Ze=re.now();t<n.length;t++){(e=n[t])()||n[t]!==e||n.splice(t--,1)}
n.length||re.fx.stop(),Ze=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){Qe||(Qe=e.setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){e.clearInterval(Qe),Qe=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(t,n){return t=re.fx?re.fx.speeds[t]||t:t,n=n||'fx',this.queue(n,function(n,i){var r=e.setTimeout(n,t)
i.stop=function(){e.clearTimeout(r)}})},function(){var e=X.createElement('input'),t=X.createElement('select'),n=t.appendChild(X.createElement('option'))
e.type='checkbox',ie.checkOn=''!==e.value,ie.optSelected=n.selected,t.disabled=!0,ie.optDisabled=!n.disabled,e=X.createElement('input'),e.value='t',e.type='radio',ie.radioValue='t'===e.value}()
var nt,it=re.expr.attrHandle
re.fn.extend({attr:function(e,t){return ye(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var i,r,o=e.nodeType
if(3!==o&&8!==o&&2!==o){return void 0===e.getAttribute?re.prop(e,t,n):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),r=re.attrHooks[t]||(re.expr.match.bool.test(t)?nt:void 0)),void 0!==n?null===n?void re.removeAttr(e,t):r&&'set'in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+''),n):r&&'get'in r&&null!==(i=r.get(e,t))?i:(i=re.find.attr(e,t),null==i?void 0:i))}},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&'radio'===t&&re.nodeName(e,'input')){var n=e.value
return e.setAttribute('type',t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ve)
if(o&&1===e.nodeType){for(;n=o[r++];){i=re.propFix[n]||n,re.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}}}),nt={set:function(e,t,n){return!1===t?re.removeAttr(e,n):e.setAttribute(n,n),n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=it[t]||re.find.attr
it[t]=function(e,t,i){var r,o
return i||(o=it[t],it[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,it[t]=o),r}})
var rt=/^(?:input|select|textarea|button)$/i,ot=/^(?:a|area)$/i
re.fn.extend({prop:function(e,t){return ye(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[re.propFix[e]||e]})}}),re.extend({prop:function(e,t,n){var i,r,o=e.nodeType
if(3!==o&&8!==o&&2!==o){return 1===o&&re.isXMLDoc(e)||(t=re.propFix[t]||t,r=re.propHooks[t]),void 0!==n?r&&'set'in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&'get'in r&&null!==(i=r.get(e,t))?i:e[t]}},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,'tabindex')
return t?parseInt(t,10):rt.test(e.nodeName)||ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:'htmlFor',class:'className'}}),ie.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode
return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode
t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),re.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){re.propFix[this.toLowerCase()]=this})
re.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0
if(re.isFunction(e)){return this.each(function(t){re(this).addClass(e.call(this,t,U(this)))})}
if('string'==typeof e&&e){for(t=e.match(ve)||[];n=this[l++];){if(r=U(n),i=1===n.nodeType&&(' '+r+' ').replace(/[\t\r\n\f]/g,' ')){for(a=0;o=t[a++];){i.indexOf(' '+o+' ')<0&&(i+=o+' ')}
s=re.trim(i),r!==s&&n.setAttribute('class',s)}}}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0
if(re.isFunction(e)){return this.each(function(t){re(this).removeClass(e.call(this,t,U(this)))})}
if(!arguments.length){return this.attr('class','')}
if('string'==typeof e&&e){for(t=e.match(ve)||[];n=this[l++];){if(r=U(n),i=1===n.nodeType&&(' '+r+' ').replace(/[\t\r\n\f]/g,' ')){for(a=0;o=t[a++];){for(;i.indexOf(' '+o+' ')>-1;){i=i.replace(' '+o+' ',' ')}}
s=re.trim(i),r!==s&&n.setAttribute('class',s)}}}return this},toggleClass:function(e,t){var n=typeof e
return'boolean'==typeof t&&'string'===n?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(n){re(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,i,r,o
if('string'===n){for(i=0,r=re(this),o=e.match(ve)||[];t=o[i++];){r.hasClass(t)?r.removeClass(t):r.addClass(t)}}
else {void 0!==e&&'boolean'!==n||(t=U(this),t&&xe.set(this,'__className__',t),this.setAttribute&&this.setAttribute('class',t||!1===e?'':xe.get(this,'__className__')||''))}})},hasClass:function(e){var t,n,i=0
for(t=' '+e+' ';n=this[i++];){if(1===n.nodeType&&(' '+U(n)+' ').replace(/[\t\r\n\f]/g,' ').indexOf(t)>-1){return!0}}
return!1}})
re.fn.extend({val:function(e){var t,n,i,r=this[0]
{if(arguments.length){return i=re.isFunction(e),this.each(function(n){var r
1===this.nodeType&&(r=i?e.call(this,n,re(this).val()):e,null==r?r='':'number'==typeof r?r+='':re.isArray(r)&&(r=re.map(r,function(e){return null==e?'':e+''})),(t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()])&&'set'in t&&void 0!==t.set(this,r,'value')||(this.value=r))})}
if(r){return(t=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()])&&'get'in t&&void 0!==(n=t.get(r,'value'))?n:(n=r.value,'string'==typeof n?n.replace(/\r/g,''):null==n?'':n)}}}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,'value')
return null!=t?t:re.trim(re.text(e)).replace(/[\x20\t\r\n\f]+/g,' ')}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o='select-one'===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++){if(n=i[l],(n.selected||l===r)&&(ie.optDisabled?!n.disabled:null===n.getAttribute('disabled'))&&(!n.parentNode.disabled||!re.nodeName(n.parentNode,'optgroup'))){if(t=re(n).val(),o){return t}
a.push(t)}}return a},set:function(e,t){for(var n,i,r=e.options,o=re.makeArray(t),a=r.length;a--;){i=r[a],(i.selected=re.inArray(re.valHooks.option.get(i),o)>-1)&&(n=!0)}
return n||(e.selectedIndex=-1),o}}}}),re.each(['radio','checkbox'],function(){re.valHooks[this]={set:function(e,t){if(re.isArray(t)){return e.checked=re.inArray(re(e).val(),t)>-1}}},ie.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute('value')?'on':e.value})})
var at=/^(?:focusinfocus|focusoutblur)$/
re.extend(re.event,{trigger:function(t,n,i,r){var o,a,s,l,c,u,p,d=[i||X],f=ne.call(t,'type')?t.type:t,h=ne.call(t,'namespace')?t.namespace.split('.'):[]
if(a=s=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!at.test(f+re.event.triggered)&&(f.indexOf('.')>-1&&(h=f.split('.'),f=h.shift(),h.sort()),c=f.indexOf(':')<0&&'on'+f,t=t[re.expando]?t:new re.Event(f,'object'==typeof t&&t),t.isTrigger=r?2:3,t.namespace=h.join('.'),t.rnamespace=t.namespace?new RegExp('(^|\\.)'+h.join('\\.(?:.*\\.|)')+'(\\.|$)'):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:re.makeArray(n,[t]),p=re.event.special[f]||{},r||!p.trigger||!1!==p.trigger.apply(i,n))){if(!r&&!p.noBubble&&!re.isWindow(i)){for(l=p.delegateType||f,at.test(l+f)||(a=a.parentNode);a;a=a.parentNode){d.push(a),s=a}
s===(i.ownerDocument||X)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();){t.type=o>1?l:p.bindType||f,u=(xe.get(a,'events')||{})[t.type]&&xe.get(a,'handle'),u&&u.apply(a,n),(u=c&&a[c])&&u.apply&&be(a)&&(t.result=u.apply(a,n),!1===t.result&&t.preventDefault())}
return t.type=f,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),n)||!be(i)||c&&re.isFunction(i[f])&&!re.isWindow(i)&&(s=i[c],s&&(i[c]=null),re.event.triggered=f,i[f](),re.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var i=re.extend(new re.Event,n,{type:e,isSimulated:!0})
re.event.trigger(i,null,t)}}),re.fn.extend({trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0]
if(n){return re.event.trigger(e,t,n,!0)}}}),re.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(e,t){re.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin='onfocusin'in e,ie.focusin||re.each({focus:'focusin',blur:'focusout'},function(e,t){var n=function(e){re.event.simulate(t,e.target,re.event.fix(e))}
re.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=xe.access(i,t)
r||i.addEventListener(e,n,!0),xe.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=xe.access(i,t)-1
r?xe.access(i,t,r):(i.removeEventListener(e,n,!0),xe.remove(i,t))}}})
var st=e.location,lt=re.now(),ct=/\?/
re.parseJSON=function(e){return JSON.parse(e+'')},re.parseXML=function(t){var n
if(!t||'string'!=typeof t){return null}
try{n=(new e.DOMParser).parseFromString(t,'text/xml')}catch(e){n=void 0}return n&&!n.getElementsByTagName('parsererror').length||re.error('Invalid XML: '+t),n}
var ut=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ft=/^(?:GET|HEAD)$/,ht={},mt={},vt='*/'.concat('*'),gt=X.createElement('a')
gt.href=st.href,re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:st.href,type:'GET',isLocal:dt.test(st.protocol),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':vt,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':re.parseJSON,'text xml':re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,re.ajaxSettings),t):z(re.ajaxSettings,e)},ajaxPrefilter:H(ht),ajaxTransport:H(mt),ajax:function(t,n){function i(t,n,i,s){var c,p,y,b,E,_=n
2!==x&&(x=2,l&&e.clearTimeout(l),r=void 0,a=s||'',w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(b=q(d,w,i)),b=$(d,b,w,c),c?(d.ifModified&&(E=w.getResponseHeader('Last-Modified'),E&&(re.lastModified[o]=E),(E=w.getResponseHeader('etag'))&&(re.etag[o]=E)),204===t||'HEAD'===d.type?_='nocontent':304===t?_='notmodified':(_=b.state,p=b.data,y=b.error,c=!y)):(y=_,!t&&_||(_='error',t<0&&(t=0))),w.status=t,w.statusText=(n||_)+'',c?m.resolveWith(f,[p,_,w]):m.rejectWith(f,[w,_,y]),w.statusCode(g),g=void 0,u&&h.trigger(c?'ajaxSuccess':'ajaxError',[w,d,c?p:y]),v.fireWith(f,[w,_]),u&&(h.trigger('ajaxComplete',[w,d]),--re.active||re.event.trigger('ajaxStop')))}'object'==typeof t&&(n=t,t=void 0),n=n||{}
var r,o,a,s,l,c,u,p,d=re.ajaxSetup({},n),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?re(f):re.event,m=re.Deferred(),v=re.Callbacks('once memory'),g=d.statusCode||{},y={},b={},x=0,E='canceled',w={readyState:0,getResponseHeader:function(e){var t
if(2===x){if(!s){for(s={};t=pt.exec(a);){s[t[1].toLowerCase()]=t[2]}}
t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase()
return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t
if(e){if(x<2){for(t in e){g[t]=[g[t],e[t]]}}
else {w.always(e[w.status])}}
return this},abort:function(e){var t=e||E
return r&&r.abort(t),i(0,t),this}}
if(m.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||st.href)+'').replace(/#.*$/,'').replace(/^\/\//,st.protocol+'//'),d.type=n.method||n.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||'*').toLowerCase().match(ve)||[''],null==d.crossDomain){c=X.createElement('a')
try{c.href=d.url,c.href=c.href,d.crossDomain=gt.protocol+'//'+gt.host!=c.protocol+'//'+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&'string'!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),V(ht,d,n,w),2===x){return w}
u=re.event&&d.global,u&&0==re.active++&&re.event.trigger('ajaxStart'),d.type=d.type.toUpperCase(),d.hasContent=!ft.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ct.test(o)?'&':'?')+d.data,delete d.data),!1===d.cache&&(d.url=ut.test(o)?o.replace(ut,'$1_='+lt++):o+(ct.test(o)?'&':'?')+'_='+lt++)),d.ifModified&&(re.lastModified[o]&&w.setRequestHeader('If-Modified-Since',re.lastModified[o]),re.etag[o]&&w.setRequestHeader('If-None-Match',re.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&w.setRequestHeader('Content-Type',d.contentType),w.setRequestHeader('Accept',d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+('*'!==d.dataTypes[0]?', '+vt+'; q=0.01':''):d.accepts['*'])
for(p in d.headers){w.setRequestHeader(p,d.headers[p])}
if(d.beforeSend&&(!1===d.beforeSend.call(f,w,d)||2===x)){return w.abort()}
E='abort'
for(p in{success:1,error:1,complete:1}){w[p](d[p])}
if(r=V(mt,d,n,w)){if(w.readyState=1,u&&h.trigger('ajaxSend',[w,d]),2===x){return w}
d.async&&d.timeout>0&&(l=e.setTimeout(function(){w.abort('timeout')},d.timeout))
try{x=1,r.send(y,i)}catch(e){if(!(x<2)){throw e}
i(-1,e)}}else {i(-1,'No Transport')}
return w},getJSON:function(e,t,n){return re.get(e,t,n,'json')},getScript:function(e,t){return re.get(e,void 0,t,'script')}}),re.each(['get','post'],function(e,t){re[t]=function(e,n,i,r){return re.isFunction(n)&&(r=r||i,i=n,n=void 0),re.ajax(re.extend({url:e,type:t,dataType:r,data:n,success:i},re.isPlainObject(e)&&e))}}),re._evalUrl=function(e){return re.ajax({url:e,type:'GET',dataType:'script',async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){var t
return re.isFunction(e)?this.each(function(t){re(this).wrapAll(e.call(this,t))}):(this[0]&&(t=re(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;){e=e.firstElementChild}
return e}).append(this)),this)},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),n=t.contents()
n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e)
return this.each(function(n){re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,'body')||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return!re.expr.filters.visible(e)},re.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0}
var yt=/\[\]$/,bt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i
re.param=function(e,t){var n,i=[],r=function(e,t){t=re.isFunction(t)?t():null==t?'':t,i[i.length]=encodeURIComponent(e)+'='+encodeURIComponent(t)}
if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e)){re.each(e,function(){r(this.name,this.value)})}
else {for(n in e){W(n,e[n],t,r)}}
return i.join('&').replace(/%20/g,'+')},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,'elements')
return e?re.makeArray(e):this}).filter(function(){var e=this.type
return this.name&&!re(this).is(':disabled')&&xt.test(this.nodeName)&&!bt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=re(this).val()
return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,'\r\n')}}):{name:t.name,value:n.replace(/\r?\n/g,'\r\n')}}).get()}}),re.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}}
var Et={0:200,1223:204},wt=re.ajaxSettings.xhr()
ie.cors=!!wt&&'withCredentials'in wt,ie.ajax=wt=!!wt,re.ajaxTransport(function(t){var n,i
if(ie.cors||wt&&!t.crossDomain){return{send:function(r,o){var a,s=t.xhr()
if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields){for(a in t.xhrFields){s[a]=t.xhrFields[a]}}
t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r['X-Requested-With']||(r['X-Requested-With']='XMLHttpRequest')
for(a in r){s.setRequestHeader(a,r[a])}
n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,'abort'===e?s.abort():'error'===e?'number'!=typeof s.status?o(0,'error'):o(s.status,s.statusText):o(Et[s.status]||s.status,s.statusText,'text'!==(s.responseType||'text')||'string'!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n('error'),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n('abort')
try{s.send(t.hasContent&&t.data||null)}catch(e){if(n){throw e}}},abort:function(){n&&n()}}}}),re.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{'text script':function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter('script',function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type='GET')}),re.ajaxTransport('script',function(e){if(e.crossDomain){var t,n
return{send:function(i,r){t=re('<script>').prop({charset:e.scriptCharset,src:e.url}).on('load error',n=function(e){t.remove(),n=null,e&&r('error'===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}})
var _t=[],Ct=/(=)\?(?=&|$)|\?\?/
re.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var e=_t.pop()||re.expando+'_'+lt++
return this[e]=!0,e}}),re.ajaxPrefilter('json jsonp',function(t,n,i){var r,o,a,s=!1!==t.jsonp&&(Ct.test(t.url)?'url':'string'==typeof t.data&&0===(t.contentType||'').indexOf('application/x-www-form-urlencoded')&&Ct.test(t.data)&&'data')
if(s||'jsonp'===t.dataTypes[0]){return r=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ct,'$1'+r):!1!==t.jsonp&&(t.url+=(ct.test(t.url)?'&':'?')+t.jsonp+'='+r),t.converters['script json']=function(){return a||re.error(r+' was not called'),a[0]},t.dataTypes[0]='json',o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?re(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,_t.push(r)),a&&re.isFunction(o)&&o(a[0]),a=o=void 0}),'script'}}),re.parseHTML=function(e,t,n){if(!e||'string'!=typeof e){return null}
'boolean'==typeof t&&(n=t,t=!1),t=t||X
var i=ue.exec(e),r=!n&&[]
return i?[t.createElement(i[1])]:(i=d([e],t,r),r&&r.length&&re(r).remove(),re.merge([],i.childNodes))}
var Tt=re.fn.load
re.fn.load=function(e,t,n){if('string'!=typeof e&&Tt){return Tt.apply(this,arguments)}
var i,r,o,a=this,s=e.indexOf(' ')
return s>-1&&(i=re.trim(e.slice(s)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&'object'==typeof t&&(r='POST'),a.length>0&&re.ajax({url:e,type:r||'GET',dataType:'html',data:t}).done(function(e){o=arguments,a.html(i?re('<div>').append(re.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},re.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length},re.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=re.css(e,'position'),p=re(e),d={}
'static'===u&&(e.style.position='relative'),s=p.offset(),o=re.css(e,'top'),l=re.css(e,'left'),c=('absolute'===u||'fixed'===u)&&(o+l).indexOf('auto')>-1,c?(i=p.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,n,re.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),'using'in t?t.using.call(e,d):p.css(d)}},re.fn.extend({offset:function(e){if(arguments.length){return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)})}
var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument
if(o){return t=o.documentElement,re.contains(t,i)?(r=i.getBoundingClientRect(),n=G(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r}},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0}
return'fixed'===re.css(n,'position')?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],'html')||(i=e.offset()),i.top+=re.css(e[0],'borderTopWidth',!0),i.left+=re.css(e[0],'borderLeftWidth',!0)),{top:t.top-i.top-re.css(n,'marginTop',!0),left:t.left-i.left-re.css(n,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&'static'===re.css(e,'position');){e=e.offsetParent}
return e||We})}}),re.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(e,t){var n='pageYOffset'===t
re.fn[e]=function(i){return ye(this,function(e,i,r){var o=G(e)
if(void 0===r){return o?o[t]:e[i]}
o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),re.each(['top','left'],function(e,t){re.cssHooks[t]=A(ie.pixelPosition,function(e,n){if(n){return n=S(e,t),ze.test(n)?re(e).position()[t]+'px':n}})}),re.each({Height:'height',Width:'width'},function(e,t){re.each({padding:'inner'+e,content:t,'':'outer'+e},function(n,i){re.fn[i]=function(i,r){var o=arguments.length&&(n||'boolean'!=typeof i),a=n||(!0===i||!0===r?'margin':'border')
return ye(this,function(t,n,i){var r
return re.isWindow(t)?t.document.documentElement['client'+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body['scroll'+e],r['scroll'+e],t.body['offset'+e],r['offset'+e],r['client'+e])):void 0===i?re.css(t,n,a):re.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),re.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,'**'):this.off(t,e||'**',n)},size:function(){return this.length}}),re.fn.andSelf=re.fn.addBack,'function'==typeof define&&define.amd&&define('jquery',[],function(){return re})
var St=e.jQuery,At=e.$
return re.noConflict=function(t){return e.$===re&&(e.$=At),t&&e.jQuery===re&&(e.jQuery=St),re},t||(e.jQuery=e.$=re),re})},{}],368:[function(e,t,n){var i=e('../internal/createFindIndex'),r=i()
t.exports=r},{'../internal/createFindIndex':461}],369:[function(e,t,n){function i(e,t,n){var i=e?e.length:0
return n&&o(e,t,n)&&(t=!1),i?r(e,t):[]}var r=e('../internal/baseFlatten'),o=e('../internal/isIterateeCall')
t.exports=i},{'../internal/baseFlatten':421,'../internal/isIterateeCall':481}],370:[function(e,t,n){function i(e){return(e?e.length:0)?r(e,!0):[]}var r=e('../internal/baseFlatten')
t.exports=i},{'../internal/baseFlatten':421}],371:[function(e,t,n){function i(e){var t=e?e.length:0
return t?e[t-1]:void 0}t.exports=i},{}],372:[function(e,t,n){var i=e('../internal/baseFlatten'),r=e('../internal/baseUniq'),o=e('../function/restParam'),a=o(function(e){return r(i(e,!1,!0))})
t.exports=a},{'../function/restParam':395,'../internal/baseFlatten':421,'../internal/baseUniq':444}],373:[function(e,t,n){function i(e,t,n,i){return(e?e.length:0)?(null!=t&&'boolean'!=typeof t&&(i=n,n=a(e,t,i)?void 0:t,t=!1),n=null==n?n:r(n,i,3),t?s(e,n):o(e,n)):[]}var r=e('../internal/baseCallback'),o=e('../internal/baseUniq'),a=e('../internal/isIterateeCall'),s=e('../internal/sortedUniq')
t.exports=i},{'../internal/baseCallback':409,'../internal/baseUniq':444,'../internal/isIterateeCall':481,'../internal/sortedUniq':496}],374:[function(e,t,n){t.exports=e('./uniq')},{'./uniq':373}],375:[function(e,t,n){var i=e('../internal/baseDifference'),r=e('../internal/isArrayLike'),o=e('../function/restParam'),a=o(function(e,t){return r(e)?i(e,t):[]})
t.exports=a},{'../function/restParam':395,'../internal/baseDifference':415,'../internal/isArrayLike':479}],376:[function(e,t,n){function i(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e]
if(s(n)){var i=i?r(o(i,n),o(n,i)):n}}return i?a(i):[]}var r=e('../internal/arrayPush'),o=e('../internal/baseDifference'),a=e('../internal/baseUniq'),s=e('../internal/isArrayLike')
t.exports=i},{'../internal/arrayPush':404,'../internal/baseDifference':415,'../internal/baseUniq':444,'../internal/isArrayLike':479}],377:[function(e,t,n){function i(e){if(l(e)&&!s(e)&&!(e instanceof r)){if(e instanceof o){return e}
if(p.call(e,'__chain__')&&p.call(e,'__wrapped__')){return c(e)}}return new o(e)}var r=e('../internal/LazyWrapper'),o=e('../internal/LodashWrapper'),a=e('../internal/baseLodash'),s=e('../lang/isArray'),l=e('../internal/isObjectLike'),c=e('../internal/wrapperClone'),u=Object.prototype,p=u.hasOwnProperty
i.prototype=a.prototype,t.exports=i},{'../internal/LazyWrapper':396,'../internal/LodashWrapper':397,'../internal/baseLodash':430,'../internal/isObjectLike':485,'../internal/wrapperClone':499,'../lang/isArray':502}],378:[function(e,t,n){t.exports=e('./some')},{'./some':389}],379:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a
return n&&l(e,t,n)&&(t=void 0),'function'==typeof t&&void 0===n||(t=o(t,n,3)),i(e,t)}var r=e('../internal/arrayEvery'),o=e('../internal/baseCallback'),a=e('../internal/baseEvery'),s=e('../lang/isArray'),l=e('../internal/isIterateeCall')
t.exports=i},{'../internal/arrayEvery':401,'../internal/baseCallback':409,'../internal/baseEvery':417,'../internal/isIterateeCall':481,'../lang/isArray':502}],380:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a
return t=o(t,n,3),i(e,t)}var r=e('../internal/arrayFilter'),o=e('../internal/baseCallback'),a=e('../internal/baseFilter'),s=e('../lang/isArray')
t.exports=i},{'../internal/arrayFilter':402,'../internal/baseCallback':409,'../internal/baseFilter':418,'../lang/isArray':502}],381:[function(e,t,n){var i=e('../internal/baseEach'),r=e('../internal/createFind'),o=r(i)
t.exports=o},{'../internal/baseEach':416,'../internal/createFind':460}],382:[function(e,t,n){var i=e('../internal/arrayEach'),r=e('../internal/baseEach'),o=e('../internal/createForEach'),a=o(i,r)
t.exports=a},{'../internal/arrayEach':400,'../internal/baseEach':416,'../internal/createForEach':462}],383:[function(e,t,n){var i=e('../internal/createAggregator'),r=Object.prototype,o=r.hasOwnProperty,a=i(function(e,t,n){o.call(e,n)?e[n].push(t):e[n]=[t]})
t.exports=a},{'../internal/createAggregator':453}],384:[function(e,t,n){function i(e,t,n,i){var d=e?o(e):0
return l(d)||(e=u(e),d=e.length),n='number'!=typeof n||i&&s(t,n,i)?0:n<0?p(d+n,0):n||0,'string'==typeof e||!a(e)&&c(e)?n<=d&&e.indexOf(t,n)>-1:!!d&&r(e,t,n)>-1}var r=e('../internal/baseIndexOf'),o=e('../internal/getLength'),a=e('../lang/isArray'),s=e('../internal/isIterateeCall'),l=e('../internal/isLength'),c=e('../lang/isString'),u=e('../object/values'),p=Math.max
t.exports=i},{'../internal/baseIndexOf':426,'../internal/getLength':472,'../internal/isIterateeCall':481,'../internal/isLength':484,'../lang/isArray':502,'../lang/isString':509,'../object/values':521}],385:[function(e,t,n){var i=e('../internal/createAggregator'),r=i(function(e,t,n){e[n]=t})
t.exports=r},{'../internal/createAggregator':453}],386:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a
return t=o(t,n,3),i(e,t)}var r=e('../internal/arrayMap'),o=e('../internal/baseCallback'),a=e('../internal/baseMap'),s=e('../lang/isArray')
t.exports=i},{'../internal/arrayMap':403,'../internal/baseCallback':409,'../internal/baseMap':431,'../lang/isArray':502}],387:[function(e,t,n){var i=e('../internal/arrayReduce'),r=e('../internal/baseEach'),o=e('../internal/createReduce'),a=o(i,r)
t.exports=a},{'../internal/arrayReduce':405,'../internal/baseEach':416,'../internal/createReduce':465}],388:[function(e,t,n){function i(e){var t=e?r(e):0
return o(t)?t:a(e).length}var r=e('../internal/getLength'),o=e('../internal/isLength'),a=e('../object/keys')
t.exports=i},{'../internal/getLength':472,'../internal/isLength':484,'../object/keys':514}],389:[function(e,t,n){function i(e,t,n){var i=s(e)?r:a
return n&&l(e,t,n)&&(t=void 0),'function'==typeof t&&void 0===n||(t=o(t,n,3)),i(e,t)}var r=e('../internal/arraySome'),o=e('../internal/baseCallback'),a=e('../internal/baseSome'),s=e('../lang/isArray'),l=e('../internal/isIterateeCall')
t.exports=i},{'../internal/arraySome':406,'../internal/baseCallback':409,'../internal/baseSome':441,'../internal/isIterateeCall':481,'../lang/isArray':502}],390:[function(e,t,n){function i(e,t,n){if(null==e){return[]}
n&&l(e,t,n)&&(t=void 0)
var i=-1
t=r(t,n,3)
var c=o(e,function(e,n,r){return{criteria:t(e,n,r),index:++i,value:e}})
return a(c,s)}var r=e('../internal/baseCallback'),o=e('../internal/baseMap'),a=e('../internal/baseSortBy'),s=e('../internal/compareAscending'),l=e('../internal/isIterateeCall')
t.exports=i},{'../internal/baseCallback':409,'../internal/baseMap':431,'../internal/baseSortBy':442,'../internal/compareAscending':450,'../internal/isIterateeCall':481}],391:[function(e,t,n){var i=e('../internal/getNative'),r=i(Date,'now'),o=r||function(){return(new Date).getTime()}
t.exports=o},{'../internal/getNative':474}],392:[function(e,t,n){var i=e('../internal/createWrapper'),r=e('../internal/replaceHolders'),o=e('./restParam'),a=o(function(e,t,n){var o=1
if(n.length){var s=r(n,a.placeholder)
o|=32}return i(e,o,t,n,s)})
a.placeholder={},t.exports=a},{'../internal/createWrapper':466,'../internal/replaceHolders':493,'./restParam':395}],393:[function(e,t,n){function i(e,t,n){function i(){g&&clearTimeout(g),f&&clearTimeout(f),b=0,f=g=y=void 0}function l(t,n){n&&clearTimeout(n),f=g=y=void 0,t&&(b=o(),h=e.apply(v,d),g||f||(d=v=void 0))}function c(){var e=t-(o()-m)
e<=0||e>t?l(y,f):g=setTimeout(c,e)}function u(){l(E,g)}function p(){if(d=arguments,m=o(),v=this,y=E&&(g||!w),!1===x){var n=w&&!g}
else{f||w||(b=m)
var i=x-(m-b),r=i<=0||i>x
r?(f&&(f=clearTimeout(f)),b=m,h=e.apply(v,d)):f||(f=setTimeout(u,i))}return r&&g?g=clearTimeout(g):g||t===x||(g=setTimeout(c,t)),n&&(r=!0,h=e.apply(v,d)),!r||g||f||(d=v=void 0),h}var d,f,h,m,v,g,y,b=0,x=!1,E=!0
if('function'!=typeof e){throw new TypeError(a)}
if(t=t<0?0:+t||0,!0===n){var w=!0
E=!1}else {r(n)&&(w=!!n.leading,x='maxWait'in n&&s(+n.maxWait||0,t),E='trailing'in n?!!n.trailing:E)}
return p.cancel=i,p}var r=e('../lang/isObject'),o=e('../date/now'),a='Expected a function',s=Math.max
t.exports=i},{'../date/now':391,'../lang/isObject':507}],394:[function(e,t,n){var i=e('../internal/baseDelay'),r=e('./restParam'),o=r(function(e,t){return i(e,1,t)})
t.exports=o},{'../internal/baseDelay':414,'./restParam':395}],395:[function(e,t,n){function i(e,t){if('function'!=typeof e){throw new TypeError(r)}
return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=o(n.length-t,0),a=Array(r);++i<r;){a[i]=n[t+i]}
switch(t){case 0:return e.call(this,a)
case 1:return e.call(this,n[0],a)
case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1)
for(i=-1;++i<t;){s[i]=n[i]}
return s[t]=a,e.apply(this,s)}}var r='Expected a function',o=Math.max
t.exports=i},{}],396:[function(e,t,n){function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var r=e('./baseCreate'),o=e('./baseLodash'),a=Number.POSITIVE_INFINITY
i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},{'./baseCreate':413,'./baseLodash':430}],397:[function(e,t,n){function i(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}var r=e('./baseCreate'),o=e('./baseLodash')
i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},{'./baseCreate':413,'./baseLodash':430}],398:[function(e,t,n){(function(n){function i(e){var t=e?e.length:0
for(this.data={hash:s(null),set:new a};t--;){this.push(e[t])}}var r=e('./cachePush'),o=e('./getNative'),a=o(n,'Set'),s=o(Object,'create')
i.prototype.push=r,t.exports=i}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'./cachePush':449,'./getNative':474}],399:[function(e,t,n){function i(e,t){var n=-1,i=e.length
for(t||(t=Array(i));++n<i;){t[n]=e[n]}
return t}t.exports=i},{}],400:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e);){}return e}t.exports=i},{}],401:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i;){if(!t(e[n],n,e)){return!1}}
return!0}t.exports=i},{}],402:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n]
t(a,n,e)&&(o[++r]=a)}return o}t.exports=i},{}],403:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;){r[n]=t(e[n],n,e)}
return r}t.exports=i},{}],404:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;){e[r+n]=t[n]}
return e}t.exports=i},{}],405:[function(e,t,n){function i(e,t,n,i){var r=-1,o=e.length
for(i&&o&&(n=e[++r]);++r<o;){n=t(n,e[r],r,e)}
return n}t.exports=i},{}],406:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i;){if(t(e[n],n,e)){return!0}}
return!1}t.exports=i},{}],407:[function(e,t,n){function i(e,t,n){for(var i=-1,o=r(t),a=o.length;++i<a;){var s=o[i],l=e[s],c=n(l,t[s],s,e,t);(c===c?c===l:l!==l)&&(void 0!==l||s in e)||(e[s]=c)}return e}var r=e('../object/keys')
t.exports=i},{'../object/keys':514}],408:[function(e,t,n){function i(e,t){return null==t?e:r(t,o(t),e)}var r=e('./baseCopy'),o=e('../object/keys')
t.exports=i},{'../object/keys':514,'./baseCopy':412}],409:[function(e,t,n){function i(e,t,n){var i=typeof e
return'function'==i?void 0===t?e:a(e,t,n):null==e?s:'object'==i?r(e):void 0===t?l(e):o(e,t)}var r=e('./baseMatches'),o=e('./baseMatchesProperty'),a=e('./bindCallback'),s=e('../utility/identity'),l=e('../utility/property')
t.exports=i},{'../utility/identity':522,'../utility/property':524,'./baseMatches':432,'./baseMatchesProperty':433,'./bindCallback':446}],410:[function(e,t,n){function i(e,t,n,g,b,x,E){var w
if(n&&(w=b?n(e,g,b):n(e)),void 0!==w){return w}
if(!d(e)){return e}
var _=p(e)
if(_){if(w=l(e),!t){return r(e,w)}}else{var C=y.call(e),T=C==h
if(C!=m&&C!=f&&(!T||b)){return v[C]?c(e,C,t):b?e:{}}
if(w=u(T?{}:e),!t){return a(w,e)}}x||(x=[]),E||(E=[])
for(var S=x.length;S--;){if(x[S]==e){return E[S]}}
return x.push(e),E.push(w),(_?o:s)(e,function(r,o){w[o]=i(r,t,n,o,e,x,E)}),w}var r=e('./arrayCopy'),o=e('./arrayEach'),a=e('./baseAssign'),s=e('./baseForOwn'),l=e('./initCloneArray'),c=e('./initCloneByTag'),u=e('./initCloneObject'),p=e('../lang/isArray'),d=e('../lang/isObject'),f='[object Arguments]',h='[object Function]',m='[object Object]',v={}
v[f]=v['[object Array]']=v['[object ArrayBuffer]']=v['[object Boolean]']=v['[object Date]']=v['[object Float32Array]']=v['[object Float64Array]']=v['[object Int8Array]']=v['[object Int16Array]']=v['[object Int32Array]']=v['[object Number]']=v[m]=v['[object RegExp]']=v['[object String]']=v['[object Uint8Array]']=v['[object Uint8ClampedArray]']=v['[object Uint16Array]']=v['[object Uint32Array]']=!0,v['[object Error]']=v[h]=v['[object Map]']=v['[object Set]']=v['[object WeakMap]']=!1
var g=Object.prototype,y=g.toString
t.exports=i},{'../lang/isArray':502,'../lang/isObject':507,'./arrayCopy':399,'./arrayEach':400,'./baseAssign':408,'./baseForOwn':424,'./initCloneArray':476,'./initCloneByTag':477,'./initCloneObject':478}],411:[function(e,t,n){function i(e,t){if(e!==t){var n=null===e,i=void 0===e,r=e===e,o=null===t,a=void 0===t,s=t===t
if(e>t&&!o||!r||n&&!a&&s||i&&s){return 1}
if(e<t&&!n||!s||o&&!i&&r||a&&r){return-1}}return 0}t.exports=i},{}],412:[function(e,t,n){function i(e,t,n){n||(n={})
for(var i=-1,r=t.length;++i<r;){var o=t[i]
n[o]=e[o]}return n}t.exports=i},{}],413:[function(e,t,n){var i=e('../lang/isObject'),r=function(){function e(){}return function(t){if(i(t)){e.prototype=t
var n=new e
e.prototype=void 0}return n||{}}}()
t.exports=r},{'../lang/isObject':507}],414:[function(e,t,n){function i(e,t,n){if('function'!=typeof e){throw new TypeError(r)}
return setTimeout(function(){e.apply(void 0,n)},t)}var r='Expected a function'
t.exports=i},{}],415:[function(e,t,n){function i(e,t){var n=e?e.length:0,i=[]
if(!n){return i}
var l=-1,c=r,u=!0,p=u&&t.length>=s?a(t):null,d=t.length
p&&(c=o,u=!1,t=p)
e:for(;++l<n;){var f=e[l]
if(u&&f===f){for(var h=d;h--;){if(t[h]===f){continue e}}
i.push(f)}else {c(t,f,0)<0&&i.push(f)}}return i}var r=e('./baseIndexOf'),o=e('./cacheIndexOf'),a=e('./createCache'),s=200
t.exports=i},{'./baseIndexOf':426,'./cacheIndexOf':448,'./createCache':458}],416:[function(e,t,n){var i=e('./baseForOwn'),r=e('./createBaseEach'),o=r(i)
t.exports=o},{'./baseForOwn':424,'./createBaseEach':455}],417:[function(e,t,n){function i(e,t){var n=!0
return r(e,function(e,i,r){return n=!!t(e,i,r)}),n}var r=e('./baseEach')
t.exports=i},{'./baseEach':416}],418:[function(e,t,n){function i(e,t){var n=[]
return r(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}var r=e('./baseEach')
t.exports=i},{'./baseEach':416}],419:[function(e,t,n){function i(e,t,n,i){var r
return n(e,function(e,n,o){if(t(e,n,o)){return r=i?n:e,!1}}),r}t.exports=i},{}],420:[function(e,t,n){function i(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;){if(t(e[r],r,e)){return r}}
return-1}t.exports=i},{}],421:[function(e,t,n){function i(e,t,n,c){c||(c=[])
for(var u=-1,p=e.length;++u<p;){var d=e[u]
l(d)&&s(d)&&(n||a(d)||o(d))?t?i(d,t,n,c):r(c,d):n||(c[c.length]=d)}return c}var r=e('./arrayPush'),o=e('../lang/isArguments'),a=e('../lang/isArray'),s=e('./isArrayLike'),l=e('./isObjectLike')
t.exports=i},{'../lang/isArguments':501,'../lang/isArray':502,'./arrayPush':404,'./isArrayLike':479,'./isObjectLike':485}],422:[function(e,t,n){var i=e('./createBaseFor'),r=i()
t.exports=r},{'./createBaseFor':456}],423:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e('./baseFor'),o=e('../object/keysIn')
t.exports=i},{'../object/keysIn':515,'./baseFor':422}],424:[function(e,t,n){function i(e,t){return r(e,t,o)}var r=e('./baseFor'),o=e('../object/keys')
t.exports=i},{'../object/keys':514,'./baseFor':422}],425:[function(e,t,n){function i(e,t,n){if(null!=e){void 0!==n&&n in r(e)&&(t=[n])
for(var i=0,o=t.length;null!=e&&i<o;){e=e[t[i++]]}
return i&&i==o?e:void 0}}var r=e('./toObject')
t.exports=i},{'./toObject':497}],426:[function(e,t,n){function i(e,t,n){if(t!==t){return r(e,n)}
for(var i=n-1,o=e.length;++i<o;){if(e[i]===t){return i}}
return-1}var r=e('./indexOfNaN')
t.exports=i},{'./indexOfNaN':475}],427:[function(e,t,n){function i(e,t,n,s,l,c){return e===t||(null==e||null==t||!o(e)&&!a(t)?e!==e&&t!==t:r(e,t,i,n,s,l,c))}var r=e('./baseIsEqualDeep'),o=e('../lang/isObject'),a=e('./isObjectLike')
t.exports=i},{'../lang/isObject':507,'./baseIsEqualDeep':428,'./isObjectLike':485}],428:[function(e,t,n){function i(e,t,n,i,d,m,v){var g=s(e),y=s(t),b=u,x=u
g||(b=h.call(e),b==c?b=p:b!=p&&(g=l(e))),y||(x=h.call(t),x==c?x=p:x!=p&&(y=l(t)))
var E=b==p,w=x==p,_=b==x
if(_&&!g&&!E){return o(e,t,b)}
if(!d){var C=E&&f.call(e,'__wrapped__'),T=w&&f.call(t,'__wrapped__')
if(C||T){return n(C?e.value():e,T?t.value():t,i,d,m,v)}}if(!_){return!1}
m||(m=[]),v||(v=[])
for(var S=m.length;S--;){if(m[S]==e){return v[S]==t}}
m.push(e),v.push(t)
var A=(g?r:a)(e,t,n,i,d,m,v)
return m.pop(),v.pop(),A}var r=e('./equalArrays'),o=e('./equalByTag'),a=e('./equalObjects'),s=e('../lang/isArray'),l=e('../lang/isTypedArray'),c='[object Arguments]',u='[object Array]',p='[object Object]',d=Object.prototype,f=d.hasOwnProperty,h=d.toString
t.exports=i},{'../lang/isArray':502,'../lang/isTypedArray':510,'./equalArrays':467,'./equalByTag':468,'./equalObjects':469}],429:[function(e,t,n){function i(e,t,n){var i=t.length,a=i,s=!n
if(null==e){return!a}
for(e=o(e);i--;){var l=t[i]
if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e)){return!1}}for(;++i<a;){l=t[i]
var c=l[0],u=e[c],p=l[1]
if(s&&l[2]){if(void 0===u&&!(c in e)){return!1}}else{var d=n?n(u,p,c):void 0
if(!(void 0===d?r(p,u,n,!0):d)){return!1}}}return!0}var r=e('./baseIsEqual'),o=e('./toObject')
t.exports=i},{'./baseIsEqual':427,'./toObject':497}],430:[function(e,t,n){function i(){}t.exports=i},{}],431:[function(e,t,n){function i(e,t){var n=-1,i=o(e)?Array(e.length):[]
return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}var r=e('./baseEach'),o=e('./isArrayLike')
t.exports=i},{'./baseEach':416,'./isArrayLike':479}],432:[function(e,t,n){function i(e){var t=o(e)
if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1]
return function(e){return null!=e&&(e[n]===i&&(void 0!==i||n in a(e)))}}return function(e){return r(e,t)}}var r=e('./baseIsMatch'),o=e('./getMatchData'),a=e('./toObject')
t.exports=i},{'./baseIsMatch':429,'./getMatchData':473,'./toObject':497}],433:[function(e,t,n){function i(e,t){var n=s(e),i=l(e)&&c(t),f=e+''
return e=d(e),function(s){if(null==s){return!1}
var l=f
if(s=p(s),(n||!i)&&!(l in s)){if(null==(s=1==e.length?s:r(s,a(e,0,-1)))){return!1}
l=u(e),s=p(s)}return s[l]===t?void 0!==t||l in s:o(t,s[l],void 0,!0)}}var r=e('./baseGet'),o=e('./baseIsEqual'),a=e('./baseSlice'),s=e('../lang/isArray'),l=e('./isKey'),c=e('./isStrictComparable'),u=e('../array/last'),p=e('./toObject'),d=e('./toPath')
t.exports=i},{'../array/last':371,'../lang/isArray':502,'./baseGet':425,'./baseIsEqual':427,'./baseSlice':440,'./isKey':482,'./isStrictComparable':486,'./toObject':497,'./toPath':498}],434:[function(e,t,n){function i(e,t,n,d,f){if(!l(e)){return e}
var h=s(t)&&(a(t)||u(t)),m=h?void 0:p(t)
return r(m||t,function(r,a){if(m&&(a=r,r=t[a]),c(r)){d||(d=[]),f||(f=[]),o(e,t,a,i,n,d,f)}
else{var s=e[a],l=n?n(s,r,a,e,t):void 0,u=void 0===l
u&&(l=r),void 0===l&&(!h||a in e)||!u&&(l===l?l===s:s!==s)||(e[a]=l)}}),e}var r=e('./arrayEach'),o=e('./baseMergeDeep'),a=e('../lang/isArray'),s=e('./isArrayLike'),l=e('../lang/isObject'),c=e('./isObjectLike'),u=e('../lang/isTypedArray'),p=e('../object/keys')
t.exports=i},{'../lang/isArray':502,'../lang/isObject':507,'../lang/isTypedArray':510,'../object/keys':514,'./arrayEach':400,'./baseMergeDeep':435,'./isArrayLike':479,'./isObjectLike':485}],435:[function(e,t,n){function i(e,t,n,i,p,d,f){for(var h=d.length,m=t[n];h--;){if(d[h]==m){return void(e[n]=f[h])}}
var v=e[n],g=p?p(v,m,n,e,t):void 0,y=void 0===g
y&&(g=m,s(m)&&(a(m)||c(m))?g=a(v)?v:s(v)?r(v):[]:l(m)||o(m)?g=o(v)?u(v):l(v)?v:{}:y=!1),d.push(m),f.push(g),y?e[n]=i(g,m,p,d,f):(g===g?g!==v:v===v)&&(e[n]=g)}var r=e('./arrayCopy'),o=e('../lang/isArguments'),a=e('../lang/isArray'),s=e('./isArrayLike'),l=e('../lang/isPlainObject'),c=e('../lang/isTypedArray'),u=e('../lang/toPlainObject')
t.exports=i},{'../lang/isArguments':501,'../lang/isArray':502,'../lang/isPlainObject':508,'../lang/isTypedArray':510,'../lang/toPlainObject':511,'./arrayCopy':399,'./isArrayLike':479}],436:[function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],437:[function(e,t,n){function i(e){var t=e+''
return e=o(e),function(n){return r(n,e,t)}}var r=e('./baseGet'),o=e('./toPath')
t.exports=i},{'./baseGet':425,'./toPath':498}],438:[function(e,t,n){function i(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}t.exports=i},{}],439:[function(e,t,n){var i=e('../utility/identity'),r=e('./metaMap'),o=r?function(e,t){return r.set(e,t),e}:i
t.exports=o},{'../utility/identity':522,'./metaMap':488}],440:[function(e,t,n){function i(e,t,n){var i=-1,r=e.length
t=null==t?0:+t||0,t<0&&(t=-t>r?0:r+t),n=void 0===n||n>r?r:+n||0,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0
for(var o=Array(r);++i<r;){o[i]=e[i+t]}
return o}t.exports=i},{}],441:[function(e,t,n){function i(e,t){var n
return r(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}var r=e('./baseEach')
t.exports=i},{'./baseEach':416}],442:[function(e,t,n){function i(e,t){var n=e.length
for(e.sort(t);n--;){e[n]=e[n].value}
return e}t.exports=i},{}],443:[function(e,t,n){function i(e){return null==e?'':e+''}t.exports=i},{}],444:[function(e,t,n){function i(e,t){var n=-1,i=r,l=e.length,c=!0,u=c&&l>=s,p=u?a():null,d=[]
p?(i=o,c=!1):(u=!1,p=t?[]:d)
e:for(;++n<l;){var f=e[n],h=t?t(f,n,e):f
if(c&&f===f){for(var m=p.length;m--;){if(p[m]===h){continue e}}
t&&p.push(h),d.push(f)}else {i(p,h,0)<0&&((t||u)&&p.push(h),d.push(f))}}return d}var r=e('./baseIndexOf'),o=e('./cacheIndexOf'),a=e('./createCache'),s=200
t.exports=i},{'./baseIndexOf':426,'./cacheIndexOf':448,'./createCache':458}],445:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=Array(i);++n<i;){r[n]=e[t[n]]}
return r}t.exports=i},{}],446:[function(e,t,n){function i(e,t,n){if('function'!=typeof e){return r}
if(void 0===t){return e}
switch(n){case 1:return function(n){return e.call(t,n)}
case 3:return function(n,i,r){return e.call(t,n,i,r)}
case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}
case 5:return function(n,i,r,o,a){return e.call(t,n,i,r,o,a)}}return function(){return e.apply(t,arguments)}}var r=e('../utility/identity')
t.exports=i},{'../utility/identity':522}],447:[function(e,t,n){(function(e){function n(e){var t=new i(e.byteLength)
return new r(t).set(new r(e)),t}var i=e.ArrayBuffer,r=e.Uint8Array
t.exports=n}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{}],448:[function(e,t,n){function i(e,t){var n=e.data
return('string'==typeof t||r(t)?n.set.has(t):n.hash[t])?0:-1}var r=e('../lang/isObject')
t.exports=i},{'../lang/isObject':507}],449:[function(e,t,n){function i(e){var t=this.data
'string'==typeof e||r(e)?t.set.add(e):t.hash[e]=!0}var r=e('../lang/isObject')
t.exports=i},{'../lang/isObject':507}],450:[function(e,t,n){function i(e,t){return r(e.criteria,t.criteria)||e.index-t.index}var r=e('./baseCompareAscending')
t.exports=i},{'./baseCompareAscending':411}],451:[function(e,t,n){function i(e,t,n){for(var i=n.length,o=-1,a=r(e.length-i,0),s=-1,l=t.length,c=Array(l+a);++s<l;){c[s]=t[s]}
for(;++o<i;){c[n[o]]=e[o]}
for(;a--;){c[s++]=e[o++]}
return c}var r=Math.max
t.exports=i},{}],452:[function(e,t,n){function i(e,t,n){for(var i=-1,o=n.length,a=-1,s=r(e.length-o,0),l=-1,c=t.length,u=Array(s+c);++a<s;){u[a]=e[a]}
for(var p=a;++l<c;){u[p+l]=t[l]}
for(;++i<o;){u[p+n[i]]=e[a++]}
return u}var r=Math.max
t.exports=i},{}],453:[function(e,t,n){function i(e,t){return function(n,i,s){var l=t?t():{}
if(i=r(i,s,3),a(n)){for(var c=-1,u=n.length;++c<u;){var p=n[c]
e(l,p,i(p,c,n),n)}}else {o(n,function(t,n,r){e(l,t,i(t,n,r),r)})}
return l}}var r=e('./baseCallback'),o=e('./baseEach'),a=e('../lang/isArray')
t.exports=i},{'../lang/isArray':502,'./baseCallback':409,'./baseEach':416}],454:[function(e,t,n){function i(e){return a(function(t,n){var i=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0
for('function'==typeof s?(s=r(s,c,5),a-=2):(s='function'==typeof c?c:void 0,a-=s?1:0),l&&o(n[0],n[1],l)&&(s=a<3?void 0:s,a=1);++i<a;){var u=n[i]
u&&e(t,u,s)}return t})}var r=e('./bindCallback'),o=e('./isIterateeCall'),a=e('../function/restParam')
t.exports=i},{'../function/restParam':395,'./bindCallback':446,'./isIterateeCall':481}],455:[function(e,t,n){function i(e,t){return function(n,i){var s=n?r(n):0
if(!o(s)){return e(n,i)}
for(var l=t?s:-1,c=a(n);(t?l--:++l<s)&&!1!==i(c[l],l,c);){}return n}}var r=e('./getLength'),o=e('./isLength'),a=e('./toObject')
t.exports=i},{'./getLength':472,'./isLength':484,'./toObject':497}],456:[function(e,t,n){function i(e){return function(t,n,i){for(var o=r(t),a=i(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var c=a[l]
if(!1===n(o[c],c,o)){break}}return t}}var r=e('./toObject')
t.exports=i},{'./toObject':497}],457:[function(e,t,n){(function(n){function i(e,t){function i(){return(this&&this!==n&&this instanceof i?o:e).apply(t,arguments)}var o=r(e)
return i}var r=e('./createCtorWrapper')
t.exports=i}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'./createCtorWrapper':459}],458:[function(e,t,n){(function(n){function i(e){return s&&a?new r(e):null}var r=e('./SetCache'),o=e('./getNative'),a=o(n,'Set'),s=o(Object,'create')
t.exports=i}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'./SetCache':398,'./getNative':474}],459:[function(e,t,n){function i(e){return function(){var t=arguments
switch(t.length){case 0:return new e
case 1:return new e(t[0])
case 2:return new e(t[0],t[1])
case 3:return new e(t[0],t[1],t[2])
case 4:return new e(t[0],t[1],t[2],t[3])
case 5:return new e(t[0],t[1],t[2],t[3],t[4])
case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5])
case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t)
return o(i)?i:n}}var r=e('./baseCreate'),o=e('../lang/isObject')
t.exports=i},{'../lang/isObject':507,'./baseCreate':413}],460:[function(e,t,n){function i(e,t){return function(n,i,l){if(i=r(i,l,3),s(n)){var c=a(n,i,t)
return c>-1?n[c]:void 0}return o(n,i,e)}}var r=e('./baseCallback'),o=e('./baseFind'),a=e('./baseFindIndex'),s=e('../lang/isArray')
t.exports=i},{'../lang/isArray':502,'./baseCallback':409,'./baseFind':419,'./baseFindIndex':420}],461:[function(e,t,n){function i(e){return function(t,n,i){return t&&t.length?(n=r(n,i,3),o(t,n,e)):-1}}var r=e('./baseCallback'),o=e('./baseFindIndex')
t.exports=i},{'./baseCallback':409,'./baseFindIndex':420}],462:[function(e,t,n){function i(e,t){return function(n,i,a){return'function'==typeof i&&void 0===a&&o(n)?e(n,i):t(n,r(i,a,3))}}var r=e('./bindCallback'),o=e('../lang/isArray')
t.exports=i},{'../lang/isArray':502,'./bindCallback':446}],463:[function(e,t,n){(function(n){function i(e,t,E,w,_,C,T,S,A,j){function P(){for(var h=arguments.length,m=h,v=Array(h);m--;){v[m]=arguments[m]}
if(w&&(v=o(v,w,_)),C&&(v=a(v,C,T)),B||O){var b=P.placeholder,N=u(v,b)
if((h-=N.length)<j){var I=S?r(S):void 0,F=x(j-h,0),U=B?N:void 0,H=B?void 0:N,V=B?v:void 0,z=B?void 0:v
t|=B?g:y,t&=~(B?y:g),D||(t&=~(d|f))
var q=[e,t,E,V,U,z,H,I,A,F],$=i.apply(void 0,q)
return l(e)&&p($,q),$.placeholder=b,$}}var W=k?E:this,G=M?W[e]:e
return S&&(v=c(v,S)),R&&A<v.length&&(v.length=A),this&&this!==n&&this instanceof P&&(G=L||s(e)),G.apply(W,v)}var R=t&b,k=t&d,M=t&f,B=t&m,D=t&h,O=t&v,L=M?void 0:s(e)
return P}var r=e('./arrayCopy'),o=e('./composeArgs'),a=e('./composeArgsRight'),s=e('./createCtorWrapper'),l=e('./isLaziable'),c=e('./reorder'),u=e('./replaceHolders'),p=e('./setData'),d=1,f=2,h=4,m=8,v=16,g=32,y=64,b=128,x=Math.max
t.exports=i}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'./arrayCopy':399,'./composeArgs':451,'./composeArgsRight':452,'./createCtorWrapper':459,'./isLaziable':483,'./reorder':492,'./replaceHolders':493,'./setData':494}],464:[function(e,t,n){(function(n){function i(e,t,i,a){function s(){for(var t=-1,r=arguments.length,o=-1,u=a.length,p=Array(u+r);++o<u;){p[o]=a[o]}
for(;r--;){p[o++]=arguments[++t]}
return(this&&this!==n&&this instanceof s?c:e).apply(l?i:this,p)}var l=t&o,c=r(e)
return s}var r=e('./createCtorWrapper'),o=1
t.exports=i}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'./createCtorWrapper':459}],465:[function(e,t,n){function i(e,t){return function(n,i,s,l){var c=arguments.length<3
return'function'==typeof i&&void 0===l&&a(n)?e(n,i,s,c):o(n,r(i,l,4),s,c,t)}}var r=e('./baseCallback'),o=e('./baseReduce'),a=e('../lang/isArray')
t.exports=i},{'../lang/isArray':502,'./baseCallback':409,'./baseReduce':438}],466:[function(e,t,n){function i(e,t,n,i,g,y,b,x){var E=t&d
if(!E&&'function'!=typeof e){throw new TypeError(m)}
var w=i?i.length:0
if(w||(t&=~(f|h),i=g=void 0),w-=g?g.length:0,t&h){var _=i,C=g
i=g=void 0}var T=E?void 0:l(e),S=[e,t,n,i,g,_,C,y,b,x]
if(T&&(c(S,T),t=S[1],x=S[9]),S[9]=null==x?E?0:e.length:v(x-w,0)||0,t==p){var A=o(S[0],S[2])}
else {A=t!=f&&t!=(p|f)||S[4].length?a.apply(void 0,S):s.apply(void 0,S)}
return(T?r:u)(A,S)}var r=e('./baseSetData'),o=e('./createBindWrapper'),a=e('./createHybridWrapper'),s=e('./createPartialWrapper'),l=e('./getData'),c=e('./mergeData'),u=e('./setData'),p=1,d=2,f=32,h=64,m='Expected a function',v=Math.max
t.exports=i},{'./baseSetData':439,'./createBindWrapper':457,'./createHybridWrapper':463,'./createPartialWrapper':464,'./getData':470,'./mergeData':487,'./setData':494}],467:[function(e,t,n){function i(e,t,n,i,o,a,s){var l=-1,c=e.length,u=t.length
if(c!=u&&!(o&&u>c)){return!1}
for(;++l<c;){var p=e[l],d=t[l],f=i?i(o?d:p,o?p:d,l):void 0
if(void 0!==f){if(f){continue}
return!1}if(o){if(!r(t,function(e){return p===e||n(p,e,i,o,a,s)})){return!1}}else if(p!==d&&!n(p,d,i,o,a,s)){return!1}}return!0}var r=e('./arraySome')
t.exports=i},{'./arraySome':406}],468:[function(e,t,n){function i(e,t,n){switch(n){case r:case o:return+e==+t
case a:return e.name==t.name&&e.message==t.message
case s:return e!=+e?t!=+t:e==+t
case l:case c:return e==t+''}return!1}var r='[object Boolean]',o='[object Date]',a='[object Error]',s='[object Number]',l='[object RegExp]',c='[object String]'
t.exports=i},{}],469:[function(e,t,n){function i(e,t,n,i,o,s,l){var c=r(e),u=c.length
if(u!=r(t).length&&!o){return!1}
for(var p=u;p--;){var d=c[p]
if(!(o?d in t:a.call(t,d))){return!1}}for(var f=o;++p<u;){d=c[p]
var h=e[d],m=t[d],v=i?i(o?m:h,o?h:m,d):void 0
if(!(void 0===v?n(h,m,i,o,s,l):v)){return!1}
f||(f='constructor'==d)}if(!f){var g=e.constructor,y=t.constructor
if(g!=y&&'constructor'in e&&'constructor'in t&&!('function'==typeof g&&g instanceof g&&'function'==typeof y&&y instanceof y)){return!1}}return!0}var r=e('../object/keys'),o=Object.prototype,a=o.hasOwnProperty
t.exports=i},{'../object/keys':514}],470:[function(e,t,n){var i=e('./metaMap'),r=e('../utility/noop'),o=i?function(e){return i.get(e)}:r
t.exports=o},{'../utility/noop':523,'./metaMap':488}],471:[function(e,t,n){function i(e){for(var t=e.name+'',n=r[t],i=n?n.length:0;i--;){var o=n[i],a=o.func
if(null==a||a==e){return o.name}}return t}var r=e('./realNames')
t.exports=i},{'./realNames':491}],472:[function(e,t,n){var i=e('./baseProperty'),r=i('length')
t.exports=r},{'./baseProperty':436}],473:[function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){t[n][2]=r(t[n][1])}
return t}var r=e('./isStrictComparable'),o=e('../object/pairs')
t.exports=i},{'../object/pairs':518,'./isStrictComparable':486}],474:[function(e,t,n){function i(e,t){var n=null==e?void 0:e[t]
return r(n)?n:void 0}var r=e('../lang/isNative')
t.exports=i},{'../lang/isNative':505}],475:[function(e,t,n){function i(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r]
if(o!==o){return r}}return-1}t.exports=i},{}],476:[function(e,t,n){function i(e){var t=e.length,n=new e.constructor(t)
return t&&'string'==typeof e[0]&&o.call(e,'index')&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty
t.exports=i},{}],477:[function(e,t,n){function i(e,t,n){var i=e.constructor
switch(t){case u:return r(e)
case o:case a:return new i(+e)
case p:case d:case f:case h:case m:case v:case g:case y:case b:var E=e.buffer
return new i(n?r(E):E,e.byteOffset,e.length)
case s:case c:return new i(e)
case l:var w=new i(e.source,x.exec(e))
w.lastIndex=e.lastIndex}return w}var r=e('./bufferClone'),o='[object Boolean]',a='[object Date]',s='[object Number]',l='[object RegExp]',c='[object String]',u='[object ArrayBuffer]',p='[object Float32Array]',d='[object Float64Array]',f='[object Int8Array]',h='[object Int16Array]',m='[object Int32Array]',v='[object Uint8Array]',g='[object Uint8ClampedArray]',y='[object Uint16Array]',b='[object Uint32Array]',x=/\w*$/
t.exports=i},{'./bufferClone':447}],478:[function(e,t,n){function i(e){var t=e.constructor
return'function'==typeof t&&t instanceof t||(t=Object),new t}t.exports=i},{}],479:[function(e,t,n){function i(e){return null!=e&&o(r(e))}var r=e('./getLength'),o=e('./isLength')
t.exports=i},{'./getLength':472,'./isLength':484}],480:[function(e,t,n){function i(e,t){return e='number'==typeof e||r.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&e<t}var r=/^\d+$/,o=9007199254740991
t.exports=i},{}],481:[function(e,t,n){function i(e,t,n){if(!a(n)){return!1}
var i=typeof t
if('number'==i?r(n)&&o(t,n.length):'string'==i&&t in n){var s=n[t]
return e===e?e===s:s!==s}return!1}var r=e('./isArrayLike'),o=e('./isIndex'),a=e('../lang/isObject')
t.exports=i},{'../lang/isObject':507,'./isArrayLike':479,'./isIndex':480}],482:[function(e,t,n){function i(e,t){var n=typeof e
return!!('string'==n&&s.test(e)||'number'==n)||!r(e)&&(!a.test(e)||null!=t&&e in o(t))}var r=e('../lang/isArray'),o=e('./toObject'),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/
t.exports=i},{'../lang/isArray':502,'./toObject':497}],483:[function(e,t,n){function i(e){var t=a(e),n=s[t]
if('function'!=typeof n||!(t in r.prototype)){return!1}
if(e===n){return!0}
var i=o(n)
return!!i&&e===i[0]}var r=e('./LazyWrapper'),o=e('./getData'),a=e('./getFuncName'),s=e('../chain/lodash')
t.exports=i},{'../chain/lodash':377,'./LazyWrapper':396,'./getData':470,'./getFuncName':471}],484:[function(e,t,n){function i(e){return'number'==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991
t.exports=i},{}],485:[function(e,t,n){function i(e){return!!e&&'object'==typeof e}t.exports=i},{}],486:[function(e,t,n){function i(e){return e===e&&!r(e)}var r=e('../lang/isObject')
t.exports=i},{'../lang/isObject':507}],487:[function(e,t,n){function i(e,t){var n=e[1],i=t[1],m=n|i,v=m<p,g=i==p&&n==u||i==p&&n==d&&e[7].length<=t[8]||i==(p|d)&&n==u
if(!v&&!g){return e}
i&l&&(e[2]=t[2],m|=n&l?0:c)
var y=t[3]
if(y){var b=e[3]
e[3]=b?o(b,y,t[4]):r(y),e[4]=b?s(e[3],f):r(t[4])}return y=t[5],y&&(b=e[5],e[5]=b?a(b,y,t[6]):r(y),e[6]=b?s(e[5],f):r(t[6])),y=t[7],y&&(e[7]=r(y)),i&p&&(e[8]=null==e[8]?t[8]:h(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var r=e('./arrayCopy'),o=e('./composeArgs'),a=e('./composeArgsRight'),s=e('./replaceHolders'),l=1,c=4,u=8,p=128,d=256,f='__lodash_placeholder__',h=Math.min
t.exports=i},{'./arrayCopy':399,'./composeArgs':451,'./composeArgsRight':452,'./replaceHolders':493}],488:[function(e,t,n){(function(n){var i=e('./getNative'),r=i(n,'WeakMap'),o=r&&new r
t.exports=o}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{'./getNative':474}],489:[function(e,t,n){function i(e,t){e=r(e)
for(var n=-1,i=t.length,o={};++n<i;){var a=t[n]
a in e&&(o[a]=e[a])}return o}var r=e('./toObject')
t.exports=i},{'./toObject':497}],490:[function(e,t,n){function i(e,t){var n={}
return r(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}var r=e('./baseForIn')
t.exports=i},{'./baseForIn':423}],491:[function(e,t,n){var i={}
t.exports=i},{}],492:[function(e,t,n){function i(e,t){for(var n=e.length,i=a(t.length,n),s=r(e);i--;){var l=t[i]
e[i]=o(l,n)?s[l]:void 0}return e}var r=e('./arrayCopy'),o=e('./isIndex'),a=Math.min
t.exports=i},{'./arrayCopy':399,'./isIndex':480}],493:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,o=-1,a=[];++n<i;){e[n]===t&&(e[n]=r,a[++o]=n)}
return a}var r='__lodash_placeholder__'
t.exports=i},{}],494:[function(e,t,n){var i=e('./baseSetData'),r=e('../date/now'),o=function(){var e=0,t=0
return function(n,o){var a=r(),s=16-(a-t)
if(t=a,s>0){if(++e>=150){return n}}else {e=0}
return i(n,o)}}()
t.exports=o},{'../date/now':391,'./baseSetData':439}],495:[function(e,t,n){function i(e){for(var t=l(e),n=t.length,i=n&&e.length,c=!!i&&s(i)&&(o(e)||r(e)),p=-1,d=[];++p<n;){var f=t[p];(c&&a(f,i)||u.call(e,f))&&d.push(f)}return d}var r=e('../lang/isArguments'),o=e('../lang/isArray'),a=e('./isIndex'),s=e('./isLength'),l=e('../object/keysIn'),c=Object.prototype,u=c.hasOwnProperty
t.exports=i},{'../lang/isArguments':501,'../lang/isArray':502,'../object/keysIn':515,'./isIndex':480,'./isLength':484}],496:[function(e,t,n){function i(e,t){for(var n,i=-1,r=e.length,o=-1,a=[];++i<r;){var s=e[i],l=t?t(s,i,e):s
i&&n===l||(n=l,a[++o]=s)}return a}t.exports=i},{}],497:[function(e,t,n){function i(e){return r(e)?e:Object(e)}var r=e('../lang/isObject')
t.exports=i},{'../lang/isObject':507}],498:[function(e,t,n){function i(e){if(o(e)){return e}
var t=[]
return r(e).replace(a,function(e,n,i,r){t.push(i?r.replace(s,'$1'):n||e)}),t}var r=e('./baseToString'),o=e('../lang/isArray'),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g
t.exports=i},{'../lang/isArray':502,'./baseToString':443}],499:[function(e,t,n){function i(e){return e instanceof r?e.clone():new o(e.__wrapped__,e.__chain__,a(e.__actions__))}var r=e('./LazyWrapper'),o=e('./LodashWrapper'),a=e('./arrayCopy')
t.exports=i},{'./LazyWrapper':396,'./LodashWrapper':397,'./arrayCopy':399}],500:[function(e,t,n){function i(e,t,n,i){return t&&'boolean'!=typeof t&&a(e,t,n)?t=!1:'function'==typeof t&&(i=n,n=t,t=!1),'function'==typeof n?r(e,t,o(n,i,3)):r(e,t)}var r=e('../internal/baseClone'),o=e('../internal/bindCallback'),a=e('../internal/isIterateeCall')
t.exports=i},{'../internal/baseClone':410,'../internal/bindCallback':446,'../internal/isIterateeCall':481}],501:[function(e,t,n){function i(e){return o(e)&&r(e)&&s.call(e,'callee')&&!l.call(e,'callee')}var r=e('../internal/isArrayLike'),o=e('../internal/isObjectLike'),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable
t.exports=i},{'../internal/isArrayLike':479,'../internal/isObjectLike':485}],502:[function(e,t,n){var i=e('../internal/getNative'),r=e('../internal/isLength'),o=e('../internal/isObjectLike'),a=Object.prototype,s=a.toString,l=i(Array,'isArray'),c=l||function(e){return o(e)&&r(e.length)&&'[object Array]'==s.call(e)}
t.exports=c},{'../internal/getNative':474,'../internal/isLength':484,'../internal/isObjectLike':485}],503:[function(e,t,n){function i(e){return null==e||(a(e)&&(o(e)||c(e)||r(e)||l(e)&&s(e.splice))?!e.length:!u(e).length)}var r=e('./isArguments'),o=e('./isArray'),a=e('../internal/isArrayLike'),s=e('./isFunction'),l=e('../internal/isObjectLike'),c=e('./isString'),u=e('../object/keys')
t.exports=i},{'../internal/isArrayLike':479,'../internal/isObjectLike':485,'../object/keys':514,'./isArguments':501,'./isArray':502,'./isFunction':504,'./isString':509}],504:[function(e,t,n){function i(e){return r(e)&&s.call(e)==o}var r=e('./isObject'),o='[object Function]',a=Object.prototype,s=a.toString
t.exports=i},{'./isObject':507}],505:[function(e,t,n){function i(e){return null!=e&&(r(e)?u.test(l.call(e)):o(e)&&a.test(e))}var r=e('./isFunction'),o=e('../internal/isObjectLike'),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,c=s.hasOwnProperty,u=RegExp('^'+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$')
t.exports=i},{'../internal/isObjectLike':485,'./isFunction':504}],506:[function(e,t,n){function i(e){return'number'==typeof e||r(e)&&s.call(e)==o}var r=e('../internal/isObjectLike'),o='[object Number]',a=Object.prototype,s=a.toString
t.exports=i},{'../internal/isObjectLike':485}],507:[function(e,t,n){function i(e){var t=typeof e
return!!e&&('object'==t||'function'==t)}t.exports=i},{}],508:[function(e,t,n){function i(e){var t
if(!a(e)||u.call(e)!=s||o(e)||!c.call(e,'constructor')&&'function'==typeof(t=e.constructor)&&!(t instanceof t)){return!1}
var n
return r(e,function(e,t){n=t}),void 0===n||c.call(e,n)}var r=e('../internal/baseForIn'),o=e('./isArguments'),a=e('../internal/isObjectLike'),s='[object Object]',l=Object.prototype,c=l.hasOwnProperty,u=l.toString
t.exports=i},{'../internal/baseForIn':423,'../internal/isObjectLike':485,'./isArguments':501}],509:[function(e,t,n){function i(e){return'string'==typeof e||r(e)&&s.call(e)==o}var r=e('../internal/isObjectLike'),o='[object String]',a=Object.prototype,s=a.toString
t.exports=i},{'../internal/isObjectLike':485}],510:[function(e,t,n){function i(e){return o(e)&&r(e.length)&&!!a[l.call(e)]}var r=e('../internal/isLength'),o=e('../internal/isObjectLike'),a={}
a['[object Float32Array]']=a['[object Float64Array]']=a['[object Int8Array]']=a['[object Int16Array]']=a['[object Int32Array]']=a['[object Uint8Array]']=a['[object Uint8ClampedArray]']=a['[object Uint16Array]']=a['[object Uint32Array]']=!0,a['[object Arguments]']=a['[object Array]']=a['[object ArrayBuffer]']=a['[object Boolean]']=a['[object Date]']=a['[object Error]']=a['[object Function]']=a['[object Map]']=a['[object Number]']=a['[object Object]']=a['[object RegExp]']=a['[object Set]']=a['[object String]']=a['[object WeakMap]']=!1
var s=Object.prototype,l=s.toString
t.exports=i},{'../internal/isLength':484,'../internal/isObjectLike':485}],511:[function(e,t,n){function i(e){return r(e,o(e))}var r=e('../internal/baseCopy'),o=e('../object/keysIn')
t.exports=i},{'../internal/baseCopy':412,'../object/keysIn':515}],512:[function(e,t,n){var i=e('../internal/assignWith'),r=e('../internal/baseAssign'),o=e('../internal/createAssigner'),a=o(function(e,t,n){return n?i(e,t,n):r(e,t)})
t.exports=a},{'../internal/assignWith':407,'../internal/baseAssign':408,'../internal/createAssigner':454}],513:[function(e,t,n){function i(e,t,n){var i=null==e?void 0:r(e,o(t),t+'')
return void 0===i?n:i}var r=e('../internal/baseGet'),o=e('../internal/toPath')
t.exports=i},{'../internal/baseGet':425,'../internal/toPath':498}],514:[function(e,t,n){var i=e('../internal/getNative'),r=e('../internal/isArrayLike'),o=e('../lang/isObject'),a=e('../internal/shimKeys'),s=i(Object,'keys'),l=s?function(e){var t=null==e?void 0:e.constructor
return'function'==typeof t&&t.prototype===e||'function'!=typeof e&&r(e)?a(e):o(e)?s(e):[]}:a
t.exports=l},{'../internal/getNative':474,'../internal/isArrayLike':479,'../internal/shimKeys':495,'../lang/isObject':507}],515:[function(e,t,n){function i(e){if(null==e){return[]}
l(e)||(e=Object(e))
var t=e.length
t=t&&s(t)&&(o(e)||r(e))&&t||0
for(var n=e.constructor,i=-1,c='function'==typeof n&&n.prototype===e,p=Array(t),d=t>0;++i<t;){p[i]=i+''}
for(var f in e){d&&a(f,t)||'constructor'==f&&(c||!u.call(e,f))||p.push(f)}
return p}var r=e('../lang/isArguments'),o=e('../lang/isArray'),a=e('../internal/isIndex'),s=e('../internal/isLength'),l=e('../lang/isObject'),c=Object.prototype,u=c.hasOwnProperty
t.exports=i},{'../internal/isIndex':480,'../internal/isLength':484,'../lang/isArguments':501,'../lang/isArray':502,'../lang/isObject':507}],516:[function(e,t,n){var i=e('../internal/baseMerge'),r=e('../internal/createAssigner'),o=r(i)
t.exports=o},{'../internal/baseMerge':434,'../internal/createAssigner':454}],517:[function(e,t,n){var i=e('../internal/arrayMap'),r=e('../internal/baseDifference'),o=e('../internal/baseFlatten'),a=e('../internal/bindCallback'),s=e('./keysIn'),l=e('../internal/pickByArray'),c=e('../internal/pickByCallback'),u=e('../function/restParam'),p=u(function(e,t){if(null==e){return{}}
if('function'!=typeof t[0]){var t=i(o(t),String)
return l(e,r(s(e),t))}var n=a(t[0],t[1],3)
return c(e,function(e,t,i){return!n(e,t,i)})})
t.exports=p},{'../function/restParam':395,'../internal/arrayMap':403,'../internal/baseDifference':415,'../internal/baseFlatten':421,'../internal/bindCallback':446,'../internal/pickByArray':489,'../internal/pickByCallback':490,'./keysIn':515}],518:[function(e,t,n){function i(e){e=o(e)
for(var t=-1,n=r(e),i=n.length,a=Array(i);++t<i;){var s=n[t]
a[t]=[s,e[s]]}return a}var r=e('./keys'),o=e('../internal/toObject')
t.exports=i},{'../internal/toObject':497,'./keys':514}],519:[function(e,t,n){var i=e('../internal/baseFlatten'),r=e('../internal/bindCallback'),o=e('../internal/pickByArray'),a=e('../internal/pickByCallback'),s=e('../function/restParam'),l=s(function(e,t){return null==e?{}:'function'==typeof t[0]?a(e,r(t[0],t[1],3)):o(e,i(t))})
t.exports=l},{'../function/restParam':395,'../internal/baseFlatten':421,'../internal/bindCallback':446,'../internal/pickByArray':489,'../internal/pickByCallback':490}],520:[function(e,t,n){function i(e,t,n,i){var d=l(e)||p(e)
if(t=o(t,i,4),null==n){if(d||u(e)){var f=e.constructor
n=d?l(e)?new f:[]:a(c(f)?f.prototype:void 0)}else {n={}}}
return(d?r:s)(e,function(e,i,r){return t(n,e,i,r)}),n}var r=e('../internal/arrayEach'),o=e('../internal/baseCallback'),a=e('../internal/baseCreate'),s=e('../internal/baseForOwn'),l=e('../lang/isArray'),c=e('../lang/isFunction'),u=e('../lang/isObject'),p=e('../lang/isTypedArray')
t.exports=i},{'../internal/arrayEach':400,'../internal/baseCallback':409,'../internal/baseCreate':413,'../internal/baseForOwn':424,'../lang/isArray':502,'../lang/isFunction':504,'../lang/isObject':507,'../lang/isTypedArray':510}],521:[function(e,t,n){function i(e){return r(e,o(e))}var r=e('../internal/baseValues'),o=e('./keys')
t.exports=i},{'../internal/baseValues':445,'./keys':514}],522:[function(e,t,n){function i(e){return e}t.exports=i},{}],523:[function(e,t,n){function i(){}t.exports=i},{}],524:[function(e,t,n){function i(e){return a(e)?r(e):o(e)}var r=e('../internal/baseProperty'),o=e('../internal/basePropertyDeep'),a=e('../internal/isKey')
t.exports=i},{'../internal/baseProperty':436,'../internal/basePropertyDeep':437,'../internal/isKey':482}],525:[function(e,t,n){t.exports=function(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}},{}],526:[function(e,t,n){t.exports=e('component-classes')},{'component-classes':190}],527:[function(e,t,n){t.exports=function(e){for(var t;e.childNodes.length;){t=e.childNodes[0],e.removeChild(t)}
return e}},{}],528:[function(e,t,n){t.exports=e('component-closest')},{'component-closest':191}],529:[function(e,t,n){t.exports=e('component-delegate')},{'component-delegate':192}],530:[function(e,t,n){t.exports=e('domify')},{domify:357}],531:[function(e,t,n){t.exports=e('component-event')},{'component-event':193}],532:[function(e,t,n){t.exports=e('component-matches-selector')},{'component-matches-selector':195}],533:[function(e,t,n){t.exports=e('component-query')},{'component-query':196}],534:[function(e,t,n){t.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{}],535:[function(e,t,n){'use strict'
function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){return e.charAt(0).toLowerCase()+e.slice(1)}function o(e){return e.xml&&'lowerCase'===e.xml.tagAlias}function a(e){return e.xml&&e.xml.serialize}t.exports.aliasToName=function(e,t){return o(t)?i(e):e},t.exports.nameToAlias=function(e,t){return o(t)?r(e):e},t.exports.DEFAULT_NS_MAP={xsi:'http://www.w3.org/2001/XMLSchema-instance'}
var s=t.exports.XSI_TYPE='xsi:type'
t.exports.serializeAsType=function(e){return a(e)===s},t.exports.serializeAsProperty=function(e){return'property'===a(e)}},{}],536:[function(e,t,n){'use strict'
function i(e){var t=e.attributes
return y(t,function(e,t,n){var i,r
return t.local?(r=S(t.name,t.prefix),i=r.name):i=t.prefix,e[i]=t.value,e},{})}function r(e,t,n){var i,r=S(t.value),o=e.ns[r.prefix||''],a=r.localName,s=o&&n.getPackage(o)
s&&(i=s.xml&&s.xml.typePrefix,i&&0===a.indexOf(i)&&(a=a.slice(i.length)),t.value=s.prefix+':'+a)}function o(e,t,n){var i,a
if(i=e.uri||n){var s=t.getPackage(i)
a=s?s.prefix:e.prefix,e.prefix=a,e.uri=i}b(e.attributes,function(n){n.uri===M&&'type'===n.local&&r(e,n,t),o(n,t,null)})}function a(e){return new Error(e)}function s(e){return e.$descriptor}function l(e){E(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e){throw a('expected element')}
var t,n=s(e),i=n.idProperty
i&&(t=e.get(i.name))&&(this.elementsById[t]=e)},this.addWarning=function(e){this.warnings.push(e)}}function c(){}function u(){}function p(){}function d(e,t){this.property=e,this.context=t}function f(e,t){this.element=t,this.propertyDesc=e}function h(){}function m(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function v(e,t,n){this.model=e,this.context=n}function g(e){e instanceof T&&(e={model:e}),E(this,{lax:!1},e)}var y=e('lodash/collection/reduce'),b=e('lodash/collection/forEach'),x=e('lodash/collection/find'),E=e('lodash/object/assign'),w=e('lodash/function/defer'),_=e('tiny-stack'),C=e('sax').parser,T=e('moddle'),S=e('moddle/lib/ns').parseName,A=e('moddle/lib/types'),j=A.coerceType,P=A.isSimple,R=e('./common'),k=R.XSI_TYPE,M=R.DEFAULT_NS_MAP.xsi,B=R.serializeAsType,D=R.aliasToName
c.prototype.handleEnd=function(){},c.prototype.handleText=function(){},c.prototype.handleNode=function(){},u.prototype=new c,u.prototype.handleNode=function(){return this},p.prototype=new c,p.prototype.handleText=function(e){this.body=(this.body||'')+e},d.prototype=new p,d.prototype.handleNode=function(e){if(this.element){throw a('expected no sub nodes')}
return this.element=this.createReference(e),this},d.prototype.handleEnd=function(){this.element.id=this.body},d.prototype.createReference=function(e){return{property:this.property.ns.name,id:''}},f.prototype=new p,f.prototype.handleEnd=function(){var e=this.body,t=this.element,n=this.propertyDesc
e=j(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},h.prototype=Object.create(p.prototype),h.prototype.handleNode=function(e){var t=this,n=this.element
return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},m.prototype=new h,m.prototype.addReference=function(e){this.context.addReference(e)},m.prototype.handleEnd=function(){var e=this.body,t=this.element,n=s(t),i=n.bodyProperty
i&&void 0!==e&&(e=j(i.type,e),t.set(i.name,e))},m.prototype.createElement=function(e){var t=i(e),n=this.type,r=s(n),o=this.context,a=new n({})
return b(t,function(e,t){var n,i=r.propertiesByName[t]
i&&i.isReference?i.isMany?(n=e.split(' '),b(n,function(e){o.addReference({element:a,property:i.ns.name,id:e})})):o.addReference({element:a,property:i.ns.name,id:e}):(i&&(e=j(i.type,e)),a.set(t,e))}),a},m.prototype.getPropertyForNode=function(e){var t,n,i,r=S(e.local,e.prefix),o=this.type,l=this.model,c=s(o),u=r.name,p=c.propertiesByName[u]
if(p){return B(p)&&(i=e.attributes[k])?(t=i.value,n=l.getType(t),E({},p,{effectiveType:s(n).name})):p}
if(l.getPackage(r.prefix)){if(t=r.prefix+':'+D(r.localName,c.$pkg),n=l.getType(t),p=x(c.properties,function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})){return E({},p,{effectiveType:s(n).name})}}else if(p=x(c.properties,function(e){return!e.isReference&&!e.isAttribute&&'Element'===e.type})){return p}
throw a('unrecognized element <'+r.name+'>')},m.prototype.toString=function(){return'ElementDescriptor['+s(this.type).name+']'},m.prototype.valueHandler=function(e,t){return new f(e,t)},m.prototype.referenceHandler=function(e){return new d(e,this.context)},m.prototype.handler=function(e){return'Element'===e?new v(this.model,e,this.context):new m(this.model,e,this.context)},m.prototype.handleChild=function(e){var t,n,i,r
if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,P(n)){return this.valueHandler(t,i)}
r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)
var o=r.element
return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(E(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},v.prototype=Object.create(h.prototype),v.prototype.createElement=function(e){var t=e.name,n=e.prefix,i=e.ns[n],r=e.attributes
return this.model.createAny(t,i,r)},v.prototype.handleChild=function(e){var t,n=new v(this.model,'Element',this.context).handleNode(e),i=this.element,r=n.element
return void 0!==r&&(t=i.$children=i.$children||[],t.push(r),r.$parent=i),n},v.prototype.handleText=function(e){this.body=this.body||''+e},v.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},g.prototype.fromXML=function(e,t,n){function i(){var e,t,n=v.elementsById,i=v.references
for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],a=s(r).propertiesByName[t.property]
if(o||v.addWarning({message:'unresolved reference <'+t.id+'>',element:t.element,property:t.property,value:t.id}),a.isMany){var l=r.get(a.name),c=l.indexOf(t);-1===c&&(c=l.length),o?l[c]=o:l.splice(c,1)}else {r.set(a.name,o)}}}function r(e){y.pop().handleEnd()}function c(e){var t=y.peek()
o(e,f)
try{y.push(t.handleNode(e))}catch(t){var n=this.line,i=this.column,r='unparsable content <'+e.name+'> detected\n\tline: '+n+'\n\tcolumn: '+i+'\n\tnested error: '+t.message
if(!h){throw console.error('could not parse document'),console.error(t),a(r)}
v.addWarning({message:r,error:t}),console.warn('could not parse node'),console.warn(t),y.push(new u)}}function p(e){y.peek().handleText(e)}var d=t.rootHandler
t instanceof m?(d=t,t={}):'string'==typeof t?(d=this.handler(t),t={}):'string'==typeof d&&(d=this.handler(d))
var f=this.model,h=this.lax,v=new l(E({},t,{rootHandler:d})),g=new C(!0,{xmlns:!0,trim:!0}),y=new _
d.context=v,y.push(d),g.onopentag=c,g.oncdata=g.ontext=p,g.onclosetag=r,g.onend=i,w(function(){var t
try{g.write(e).close()}catch(e){t=e}n(t,t?void 0:d.element,v)})},g.prototype.handler=function(e){return new m(this.model,e)},t.exports=g,t.exports.ElementHandler=m},{'./common':535,'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/collection/reduce':387,'lodash/function/defer':394,'lodash/object/assign':512,moddle:538,'moddle/lib/ns':543,'moddle/lib/types':546,sax:561,'tiny-stack':567}],537:[function(e,t,n){'use strict'
function i(e){return E(e)?e:(e.prefix?e.prefix+':':'')+e.localName}function r(e){function t(t){return e.used[t.uri]}function n(e){return{name:'xmlns'+(e.prefix?':'+e.prefix:''),value:e.uri}}var i=[].concat(e.wellknown,e.custom)
return b(w(i,t),n)}function o(e,t){return t.isGeneric?t.name:_({localName:A(t.ns.localName,t.$pkg)},e)}function a(e,t){return _({localName:t.ns.localName},e)}function s(e){var t=e.$descriptor
return w(t.properties,function(t){var n=t.name
if(t.isVirtual){return!1}
if(!e.hasOwnProperty(n)){return!1}
var i=e[n]
return i!==t.default&&(!t.isMany||i.length)})}function l(e){return e=E(e)?e:''+e,e.replace(k,function(e){return'&#'+D[e]+';'})}function c(e){return w(e,function(e){return e.isAttr})}function u(e){return w(e,function(e){return!e.isAttr})}function p(e,t){this.ns=t}function d(){}function f(e){this.ns=e}function h(e,t){this.body=[],this.attrs=[],this.parent=e,this.ns=t}function m(e,t){h.call(this,e,t)}function v(){this.value='',this.write=function(e){this.value+=e}}function g(e,t){var n=['']
this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write('\n'),this},this.appendIndent=function(){return t&&e.write(n.join('  ')),this},this.indent=function(){return n.push(''),this},this.unindent=function(){return n.pop(),this}}function y(e){function t(t,n){var i=n||new v,r=new g(i,e.format)
if(e.preamble&&r.append(R),(new h).build(t).serializeTo(r),!n){return i.value}}return e=_({format:!1,preamble:!0},e||{}),{toXML:t}}var b=e('lodash/collection/map'),x=e('lodash/collection/forEach'),E=e('lodash/lang/isString'),w=e('lodash/collection/filter'),_=e('lodash/object/assign'),C=e('moddle/lib/types'),T=e('moddle/lib/ns').parseName,S=e('./common'),A=S.nameToAlias,j=S.serializeAsType,P=S.serializeAsProperty,R='<?xml version="1.0" encoding="UTF-8"?>\n',k=/(<|>|'|"|&|\n\r|\n)/g,M=S.DEFAULT_NS_MAP,B=S.XSI_TYPE,D={'\n':'10','\n\r':'10','"':'34',"'":'39','<':'60','>':'62','&':'38'}
p.prototype.build=function(e){return this.element=e,this},p.prototype.serializeTo=function(e){e.appendIndent().append('<'+i(this.ns)+'>'+this.element.id+'</'+i(this.ns)+'>').appendNewLine()},d.prototype.serializeValue=d.prototype.serializeTo=function(e){var t=this.escape
t&&e.append('<![CDATA['),e.append(this.value),t&&e.append(']]>')},d.prototype.build=function(e,t){return this.value=t,'String'===e.type&&-1!==t.search(k)&&(this.escape=!0),this},f.prototype=new d,f.prototype.serializeTo=function(e){e.appendIndent().append('<'+i(this.ns)+'>'),this.serializeValue(e),e.append('</'+i(this.ns)+'>').appendNewLine()},h.prototype.build=function(e){this.element=e
var t=this.parseNsAttributes(e)
if(this.ns||(this.ns=this.nsTagName(e.$descriptor)),e.$descriptor.isGeneric){this.parseGeneric(e)}
else{var n=s(e)
this.parseAttributes(c(n)),this.parseContainments(u(n)),this.parseGenericAttributes(e,t)}return this},h.prototype.nsTagName=function(e){return o(this.logNamespaceUsed(e.ns),e)},h.prototype.nsPropertyTagName=function(e){return a(this.logNamespaceUsed(e.ns),e)},h.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},h.prototype.nsAttributeName=function(e){var t
if(t=E(e)?T(e):e.ns,e.inherited){return{localName:t.localName}}
var n=this.logNamespaceUsed(t)
return this.isLocalNs(n)?{localName:t.localName}:_({localName:t.localName},n)},h.prototype.parseGeneric=function(e){var t=this,n=this.body,i=this.attrs
x(e,function(e,r){'$body'===r?n.push((new d).build({type:'String'},e)):'$children'===r?x(e,function(e){n.push(new h(t).build(e))}):0!==r.indexOf('$')&&i.push({name:r,value:l(e)})})},h.prototype.parseNsAttributes=function(e){var t=this,n=e.$attrs,i=e.$model,r=[]
return x(n,function(e,n){var o,a=T(n)
'xmlns'===a.prefix&&(o={prefix:a.localName,uri:e}),a.prefix||'xmlns'!==a.localName||(o={uri:e}),o?i.getPackage(e)?t.logNamespace(o,!0):t.logNamespaceUsed(o):r.push({name:n,value:e})}),r},h.prototype.parseGenericAttributes=function(e,t){var n=this
x(t,function(t){if(t.name!==B){try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn('missing namespace information for ',t.name,'=',t.value,'on',e,n)}}})},h.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element
x(e,function(e){var r=i.get(e.name),o=e.isReference,a=e.isMany,s=t.nsPropertyTagName(e)
if(a||(r=[r]),e.isBody){n.push((new d).build(e,r[0]))}
else if(C.isSimple(e.type)){x(r,function(t){n.push(new f(s).build(e,t))})}
else if(o){x(r,function(e){n.push(new p(t,s).build(e))})}
else{var l=j(e),c=P(e)
x(r,function(e){var i
i=l?new m(t,s):c?new h(t,s):new h(t),n.push(i.build(e))})}})},h.prototype.getNamespaces=function(){var e=this.namespaces,t=this.parent
return e||(e=this.namespaces=t?t.getNamespaces():{prefixMap:{},uriMap:{},used:{},wellknown:[],custom:[]}),e},h.prototype.logNamespace=function(e,t){var n=this.getNamespaces(),i=e.uri
return n.uriMap[i]||(n.uriMap[i]=e,t?n.wellknown.push(e):n.custom.push(e)),n.prefixMap[e.prefix]=i,e},h.prototype.logNamespaceUsed=function(e){var t=this.element,n=t.$model,i=this.getNamespaces(),r=e.prefix,o=M[r]||n&&(n.getPackage(r)||{}).uri,a=e.uri||i.prefixMap[r]||o
if(!a){throw new Error('no namespace uri given for prefix <'+e.prefix+'>')}
return e=i.uriMap[a],e||(e=this.logNamespace({prefix:r,uri:a},o)),i.used[e.uri]||(i.used[e.uri]=e),e},h.prototype.parseAttributes=function(e){var t=this,n=this.element
x(e,function(e){var i=n.get(e.name)
if(e.isReference){if(e.isMany){var r=[]
x(i,function(e){r.push(e.id)}),i=r.join(' ')}else {i=i.id}}
t.addAttribute(t.nsAttributeName(e),i)})},h.prototype.addAttribute=function(e,t){var n=this.attrs
E(t)&&(t=l(t)),n.push({name:e,value:t})},h.prototype.serializeAttributes=function(e){var t=this.attrs
!this.parent&&(t=r(this.namespaces).concat(t)),x(t,function(t){e.append(' ').append(i(t.name)).append('="').append(t.value).append('"')})},h.prototype.serializeTo=function(e){var t=this.body.length,n=!(1===this.body.length&&this.body[0]instanceof d)
e.appendIndent().append('<'+i(this.ns)),this.serializeAttributes(e),e.append(t?'>':' />'),t&&(n&&e.appendNewLine().indent(),x(this.body,function(t){t.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append('</'+i(this.ns)+'>')),e.appendNewLine()},m.prototype=new h,m.prototype.build=function(e){var t=e.$descriptor
this.element=e,this.typeNs=this.nsTagName(t)
var n=this.typeNs,i=e.$model.getPackage(n.uri),r=i.xml&&i.xml.typePrefix||''
return this.addAttribute(this.nsAttributeName(B),(n.prefix?n.prefix+':':'')+r+t.ns.localName),h.prototype.build.call(this,e)},m.prototype.isLocalNs=function(e){return e.uri===this.typeNs.uri},t.exports=y},{'./common':535,'lodash/collection/filter':380,'lodash/collection/forEach':382,'lodash/collection/map':386,'lodash/lang/isString':509,'lodash/object/assign':512,'moddle/lib/ns':543,'moddle/lib/types':546}],538:[function(e,t,n){t.exports=e('./lib/moddle')},{'./lib/moddle':542}],539:[function(e,t,n){'use strict'
function i(){}i.prototype.get=function(e){return this.$model.properties.get(this,e)},i.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},t.exports=i},{}],540:[function(e,t,n){'use strict'
function i(e){this.ns=e,this.name=e.name,this.allTypes=[],this.properties=[],this.propertiesByName={}}var r=e('lodash/object/pick'),o=e('lodash/object/assign'),a=e('lodash/collection/forEach'),s=e('./ns').parseName
t.exports=i,i.prototype.build=function(){return r(this,['ns','name','allTypes','properties','propertiesByName','bodyProperty','idProperty'])},i.prototype.addProperty=function(e,t,n){'boolean'==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n)
var i=this.properties
void 0!==t?i.splice(t,0,e):i.push(e)},i.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,o=this.propertiesByName,a=e.name!==t.name
if(e.isId){if(!t.isId){throw new Error('property <'+t.ns.name+'> must be id property to refine <'+e.ns.name+'>')}
this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody){throw new Error('property <'+t.ns.name+'> must be body property to refine <'+e.ns.name+'>')}
this.setBodyProperty(t,!1)}var s=r.indexOf(e)
if(-1===s){throw new Error('property <'+i.name+'> not found in property list')}
r.splice(s,1),this.addProperty(t,n?void 0:s,a),o[i.name]=o[i.localName]=t},i.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split('#'),o=s(r[0],i),a=s(r[1],o.prefix).name,l=this.propertiesByName[a]
if(!l){throw new Error('refined property <'+a+'> not found')}
this.replaceProperty(l,e,n),delete e.redefines},i.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName
t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},i.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName
delete n[t.name],delete n[t.localName]},i.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty){throw new Error('body property defined multiple times (<'+this.bodyProperty.ns.name+'>, <'+e.ns.name+'>)')}
this.bodyProperty=e},i.prototype.setIdProperty=function(e,t){if(t&&this.idProperty){throw new Error('id property defined multiple times (<'+this.idProperty.ns.name+'>, <'+e.ns.name+'>)')}
this.idProperty=e},i.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n]
if(i){throw new Error('property <'+n+'> already defined; override of <'+i.definedBy.ns.name+'#'+i.ns.name+'> by <'+e.definedBy.ns.name+'#'+e.ns.name+'> not allowed without redefines')}},i.prototype.hasProperty=function(e){return this.propertiesByName[e]},i.prototype.addTrait=function(e,t){var n=this.allTypes;-1===n.indexOf(e)&&(a(e.properties,function(n){n=o({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,'definedBy',{value:e})
var i=n.replaces,r=n.redefines
i||r?this.redefineProperty(n,i||r,i):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))},this),n.push(e))}},{'./ns':543,'lodash/collection/forEach':382,'lodash/object/assign':512,'lodash/object/pick':519}],541:[function(e,t,n){'use strict'
function i(e,t){this.model=e,this.properties=t}var r=e('lodash/collection/forEach'),o=e('./base')
t.exports=i,i.prototype.createType=function(e){function t(e){i.define(this,'$type',{value:s,enumerable:!0}),i.define(this,'$attrs',{value:{}}),i.define(this,'$parent',{writable:!0}),r(e,function(e,t){this.set(t,e)},this)}var n=this.model,i=this.properties,a=Object.create(o.prototype)
r(e.properties,function(e){e.isMany||void 0===e.default||(a[e.name]=e.default)}),i.defineModel(a,n),i.defineDescriptor(a,e)
var s=e.ns.name
return t.prototype=a,t.hasType=a.$instanceOf=this.model.hasType,i.defineModel(t,n),i.defineDescriptor(t,e),t}},{'./base':539,'lodash/collection/forEach':382}],542:[function(e,t,n){'use strict'
function i(e){this.properties=new u(this),this.factory=new l(this,this.properties),this.registry=new c(e,this.properties),this.typeCache={}}var r=e('lodash/lang/isString'),o=e('lodash/lang/isObject'),a=e('lodash/collection/forEach'),s=e('lodash/collection/find'),l=e('./factory'),c=e('./registry'),u=e('./properties'),p=e('./ns').parseName
t.exports=i,i.prototype.create=function(e,t){var n=this.getType(e)
if(!n){throw new Error('unknown type <'+e+'>')}
return new n(t)},i.prototype.getType=function(e){var t=this.typeCache,n=r(e)?e:e.ns.name,i=t[n]
return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},i.prototype.createAny=function(e,t,n){var i=p(e),r={$type:e},s={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}}
return this.properties.defineDescriptor(r,s),this.properties.defineModel(r,this),this.properties.define(r,'$parent',{enumerable:!1,writable:!0}),a(n,function(e,t){o(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e}),r},i.prototype.getPackage=function(e){return this.registry.getPackage(e)},i.prototype.getPackages=function(){return this.registry.getPackages()},i.prototype.getElementDescriptor=function(e){return e.$descriptor},i.prototype.hasType=function(e,t){void 0===t&&(t=e,e=this)
var n=e.$model.getElementDescriptor(e)
return!!s(n.allTypes,function(e){return e.name===t})},i.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]}},{'./factory':541,'./ns':543,'./properties':544,'./registry':545,'lodash/collection/find':381,'lodash/collection/forEach':382,'lodash/lang/isObject':507,'lodash/lang/isString':509}],543:[function(e,t,n){'use strict'
t.exports.parseName=function(e,t){var n,i,r=e.split(/:/)
if(1===r.length){n=e,i=t}
else{if(2!==r.length){throw new Error('expected <prefix:localName> or <localName>, got '+e)}
n=r[1],i=r[0]}return e=(i?i+':':'')+n,{name:e,prefix:i,localName:n}}},{}],544:[function(e,t,n){'use strict'
function i(e){this.model=e}function r(e){return void 0===e}function o(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}t.exports=i,i.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),a=i&&i.name
r(n)?i?delete e[a]:delete e.$attrs[t]:i?a in e?e[a]=n:o(e,i,n):e.$attrs[t]=n},i.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t)
if(!n){return e.$attrs[t]}
var i=n.name
return!e[i]&&n.isMany&&o(e,n,[]),e[i]},i.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},i.prototype.defineDescriptor=function(e,t){this.define(e,'$descriptor',{value:t})},i.prototype.defineModel=function(e,t){this.define(e,'$model',{value:t})}},{}],545:[function(e,t,n){'use strict'
function i(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,o(e,this.registerPackage,this)}var r=e('lodash/object/assign'),o=e('lodash/collection/forEach'),a=e('./types'),s=e('./descriptor-builder'),l=e('./ns').parseName,c=a.isBuiltIn
t.exports=i,i.prototype.getPackage=function(e){return this.packageMap[e]},i.prototype.getPackages=function(){return this.packages},i.prototype.registerPackage=function(e){e=r({},e),o(e.types,function(t){this.registerType(t,e)},this),this.packageMap[e.uri]=this.packageMap[e.prefix]=e,this.packages.push(e)},i.prototype.registerType=function(e,t){e=r({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice()})
var n=l(e.name,t.prefix),i=n.name,a={}
o(e.properties,function(e){var t=l(e.name,n.prefix),i=t.name
c(e.type)||(e.type=l(e.type,t.prefix).name),r(e,{ns:t,name:i}),a[i]=e}),r(e,{ns:n,name:i,propertiesByName:a}),o(e.extends,function(e){var t=this.typeMap[e]
t.traits=t.traits||[],t.traits.push(i)},this),this.definePackage(e,t),this.typeMap[i]=e},i.prototype.mapTypes=function(e,t,n){function i(e){return r(e,!0)}function r(n,i){var r=l(n,c(n)?'':e.prefix)
s.mapTypes(r,t,i)}var a=c(e.name)?{name:e.name}:this.typeMap[e.name],s=this
if(!a){throw new Error('unknown type <'+e.name+'>')}
o(a.superClass,n?i:r),t(a,!n),o(a.traits,i)},i.prototype.getEffectiveDescriptor=function(e){var t=l(e),n=new s(t)
this.mapTypes(t,function(e,t){n.addTrait(e,t)})
var i=n.build()
return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},i.prototype.definePackage=function(e,t){this.properties.define(e,'$pkg',{value:t})}},{'./descriptor-builder':540,'./ns':543,'./types':546,'lodash/collection/forEach':382,'lodash/object/assign':512}],546:[function(e,t,n){'use strict'
var i={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r={String:function(e){return e},Boolean:function(e){return'true'===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}}
t.exports.coerceType=function(e,t){var n=r[e]
return n?n(t):t},t.exports.isBuiltIn=function(e){return!!i[e]},t.exports.isSimple=function(e){return!!r[e]}},{}],547:[function(e,t,n){t.exports=e('./lib/refs'),t.exports.Collection=e('./lib/collection')},{'./lib/collection':548,'./lib/refs':549}],548:[function(e,t,n){'use strict'
function i(e,t,n,i){var r=n.inverse
return Object.defineProperty(e,'remove',{value:function(e){var n=this.indexOf(e)
return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,'contains',{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,'add',{value:function(e){this.contains(e)||(this.push(e),t.set(e,r,i))}}),Object.defineProperty(e,'__refs_collection',{value:!0}),e}function r(e){return!0===e.__refs_collection}t.exports.extend=i,t.exports.isExtended=r},{}],549:[function(e,t,n){'use strict'
function i(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function r(e,t,n){Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:s.extend(n[t.name]||[],e,t,n)})}function o(e,t,n){var i=t.inverse,r=n[t.name]
Object.defineProperty(n,t.name,{enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var o=r
r=null,o&&e.unset(o,i,n),r=t,e.set(r,i,n)}}})}function a(e,t){if(!(this instanceof a)){return new a(e,t)}
e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}var s=e('./collection')
a.prototype.bind=function(e,t){if('string'==typeof t){if(!this.props[t]){throw new Error('no property <'+t+'> in ref')}
t=this.props[t]}t.collection?r(this,t,e):o(this,t,e)},a.prototype.ensureRefsCollection=function(e,t){var n=e[t.name]
return s.isExtended(n)||r(this,t,e),n},a.prototype.ensureBound=function(e,t){i(e,t)||this.bind(e,t)},a.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},a.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},t.exports=a},{'./collection':548}],550:[function(e,t,n){(function(e){'use strict'
function n(t,n,i,r){if('function'!=typeof t){throw new TypeError('"callback" argument must be a function')}
var o,a,s=arguments.length
switch(s){case 0:case 1:return e.nextTick(t)
case 2:return e.nextTick(function(){t.call(null,n)})
case 3:return e.nextTick(function(){t.call(null,n,i)})
case 4:return e.nextTick(function(){t.call(null,n,i,r)})
default:for(o=new Array(s-1),a=0;a<o.length;){o[a++]=arguments[a]}
return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf('v0.')||0===e.version.indexOf('v1.')&&0!==e.version.indexOf('v1.8.')?t.exports=n:t.exports=e.nextTick}).call(this,void 0)},{}],551:[function(e,t,n){t.exports=e('./lib/_stream_duplex.js')},{'./lib/_stream_duplex.js':552}],552:[function(e,t,n){'use strict'
function i(e){if(!(this instanceof i)){return new i(e)}
c.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once('end',r)}function r(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[]
for(var n in e){t.push(n)}
return t}
t.exports=i
var s=e('process-nextick-args'),l=e('core-util-is')
l.inherits=e('inherits')
var c=e('./_stream_readable'),u=e('./_stream_writable')
l.inherits(i,c)
for(var p=a(u.prototype),d=0;d<p.length;d++){var f=p[d]
i.prototype[f]||(i.prototype[f]=u.prototype[f])}},{'./_stream_readable':554,'./_stream_writable':556,'core-util-is':197,inherits:364,'process-nextick-args':550}],553:[function(e,t,n){'use strict'
function i(e){if(!(this instanceof i)){return new i(e)}
r.call(this,e)}t.exports=i
var r=e('./_stream_transform'),o=e('core-util-is')
o.inherits=e('inherits'),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{'./_stream_transform':555,'core-util-is':197,inherits:364}],554:[function(e,t,n){(function(n){'use strict'
function i(t,n){D=D||e('./_stream_duplex'),t=t||{},this.objectMode=!!t.objectMode,n instanceof D&&(this.objectMode=this.objectMode||!!t.readableObjectMode)
var i=t.highWaterMark,r=this.objectMode?16:16384
this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||'utf8',this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(B||(B=e('string_decoder/').StringDecoder),this.decoder=new B(t.encoding),this.encoding=t.encoding)}function r(t){if(D=D||e('./_stream_duplex'),!(this instanceof r)){return new r(t)}
this._readableState=new i(t,this),this.readable=!0,t&&'function'==typeof t.read&&(this._read=t.read),j.call(this)}function o(e,t,n,i,r){var o=c(t,n)
if(o){e.emit('error',o)}
else if(null===n){t.reading=!1,u(e,t)}
else if(t.objectMode||n&&n.length>0){if(t.ended&&!r){var s=new Error('stream.push() after EOF')
e.emit('error',s)}else if(t.endEmitted&&r){var s=new Error('stream.unshift() after end event')
e.emit('error',s)}else{var l
!t.decoder||r||i||(n=t.decoder.write(n),l=!t.objectMode&&0===n.length),r||(t.reading=!1),l||(t.flowing&&0===t.length&&!t.sync?(e.emit('data',n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&p(e))),f(e,t)}}else {r||(t.reading=!1)}
return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null
return A.isBuffer(t)||'string'==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError('Invalid non-string/buffer chunk')),n}function u(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end()
n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,p(e)}}function p(e){var t=e._readableState
t.needReadable=!1,t.emittedReadable||(M('emitReadable',t.flowing),t.emittedReadable=!0,t.sync?T(d,e):d(e))}function d(e){M('emit readable'),e.emit('readable'),b(e)}function f(e,t){t.readingMore||(t.readingMore=!0,T(h,e,t))}function h(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M('maybeReadMore read 0'),e.read(0),n!==t.length);){n=t.length}
t.readingMore=!1}function m(e){return function(){var t=e._readableState
M('pipeOnDrain',t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&P(e,'data')&&(t.flowing=!0,b(e))}}function v(e){M('readable nexttick read 0'),e.read(0)}function g(e,t){t.resumeScheduled||(t.resumeScheduled=!0,T(y,e,t))}function y(e,t){t.reading||(M('resume read 0'),e.read(0)),t.resumeScheduled=!1,e.emit('resume'),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState
if(M('flow',t.flowing),t.flowing){do{var n=e.read()}while(null!==n&&t.flowing)}}function x(e,t){var n,i=t.buffer,r=t.length,o=!!t.decoder,a=!!t.objectMode
if(0===i.length){return null}
if(0===r){n=null}
else if(a){n=i.shift()}
else if(!e||e>=r){n=o?i.join(''):1===i.length?i[0]:A.concat(i,r),i.length=0}
else if(e<i[0].length){var s=i[0]
n=s.slice(0,e),i[0]=s.slice(e)}else if(e===i[0].length){n=i.shift()}
else{n=o?'':new A(e)
for(var l=0,c=0,u=i.length;c<u&&l<e;c++){var s=i[0],p=Math.min(e-l,s.length)
o?n+=s.slice(0,p):s.copy(n,l,0,p),p<s.length?i[0]=s.slice(p):i.shift(),l+=p}}return n}function E(e){var t=e._readableState
if(t.length>0){throw new Error('endReadable called on non-empty stream')}
t.endEmitted||(t.ended=!0,T(w,t,e))}function w(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit('end'))}function _(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n)}}function C(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}
return-1}t.exports=r
var T=e('process-nextick-args'),S=e('isarray'),A=e('buffer').Buffer
r.ReadableState=i
var j,P=(e('events'),function(e,t){return e.listeners(t).length})
!function(){try{j=e('stream')}catch(e){}finally{j||(j=e('events').EventEmitter)}}()
var A=e('buffer').Buffer,R=e('core-util-is')
R.inherits=e('inherits')
var k=e('util'),M=void 0
M=k&&k.debuglog?k.debuglog('stream'):function(){}
var B
R.inherits(r,j)
var D,D
r.prototype.push=function(e,t){var n=this._readableState
return n.objectMode||'string'!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=new A(e,t),t=''),o(this,n,e,t,!1)},r.prototype.unshift=function(e){return o(this,this._readableState,e,'',!0)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(t){return B||(B=e('string_decoder/').StringDecoder),this._readableState.decoder=new B(t),this._readableState.encoding=t,this}
var O=8388608
r.prototype.read=function(e){M('read',e)
var t=this._readableState,n=e
if(('number'!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){return M('read: emitReadable',t.length,t.ended),0===t.length&&t.ended?E(this):p(this),null}
if(0===(e=l(e,t))&&t.ended){return 0===t.length&&E(this),null}
var i=t.needReadable
M('need readable',i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,M('length less than watermark',i)),(t.ended||t.reading)&&(i=!1,M('reading or ended',i)),i&&(M('do read'),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=l(n,t))
var r
return r=e>0?x(e,t):null,null===r&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&E(this),null!==r&&this.emit('data',r),r},r.prototype._read=function(e){this.emit('error',new Error('not implemented'))},r.prototype.pipe=function(e,t){function i(e){M('onunpipe'),e===p&&o()}function r(){M('onend'),e.end()}function o(){M('cleanup'),e.removeListener('close',l),e.removeListener('finish',c),e.removeListener('drain',v),e.removeListener('error',s),e.removeListener('unpipe',i),p.removeListener('end',r),p.removeListener('end',o),p.removeListener('data',a),g=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function a(t){M('ondata'),!1===e.write(t)&&(1!==d.pipesCount||d.pipes[0]!==e||1!==p.listenerCount('data')||g||(M('false write response, pause',p._readableState.awaitDrain),p._readableState.awaitDrain++),p.pause())}function s(t){M('onerror',t),u(),e.removeListener('error',s),0===P(e,'error')&&e.emit('error',t)}function l(){e.removeListener('finish',c),u()}function c(){M('onfinish'),e.removeListener('close',l),u()}function u(){M('unpipe'),p.unpipe(e)}var p=this,d=this._readableState
switch(d.pipesCount){case 0:d.pipes=e
break
case 1:d.pipes=[d.pipes,e]
break
default:d.pipes.push(e)}d.pipesCount+=1,M('pipe count=%d opts=%j',d.pipesCount,t)
var f=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,h=f?r:o
d.endEmitted?T(h):p.once('end',h),e.on('unpipe',i)
var v=m(p)
e.on('drain',v)
var g=!1
return p.on('data',a),e._events&&e._events.error?S(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on('error',s),e.once('close',l),e.once('finish',c),e.emit('pipe',p),d.flowing||(M('pipe resume'),p.resume()),e},r.prototype.unpipe=function(e){var t=this._readableState
if(0===t.pipesCount){return this}
if(1===t.pipesCount){return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit('unpipe',this),this)}
if(!e){var n=t.pipes,i=t.pipesCount
t.pipes=null,t.pipesCount=0,t.flowing=!1
for(var r=0;r<i;r++){n[r].emit('unpipe',this)}
return this}var o=C(t.pipes,e)
return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit('unpipe',this),this)},r.prototype.on=function(e,t){var n=j.prototype.on.call(this,e,t)
if('data'===e&&!1!==this._readableState.flowing&&this.resume(),'readable'===e&&!this._readableState.endEmitted){var i=this._readableState
i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&p(this):T(v,this))}return n},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var e=this._readableState
return e.flowing||(M('resume'),e.flowing=!0,g(this,e)),this},r.prototype.pause=function(){return M('call pause flowing=%j',this._readableState.flowing),!1!==this._readableState.flowing&&(M('pause'),this._readableState.flowing=!1,this.emit('pause')),this},r.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this
e.on('end',function(){if(M('wrapped end'),t.decoder&&!t.ended){var e=t.decoder.end()
e&&e.length&&i.push(e)}i.push(null)}),e.on('data',function(r){if(M('wrapped data'),t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){i.push(r)||(n=!0,e.pause())}})
for(var r in e){void 0===this[r]&&'function'==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r))}
return _(['error','close','destroy','pause','resume'],function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){M('wrapped _read',t),n&&(n=!1,e.resume())},i},r._fromList=x}).call(this,void 0)},{'./_stream_duplex':552,buffer:188,'core-util-is':197,events:359,inherits:364,isarray:366,'process-nextick-args':550,'string_decoder/':566,util:187}],555:[function(e,t,n){'use strict'
function i(e){this.afterTransform=function(t,n){return r(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(e,t,n){var i=e._transformState
i.transforming=!1
var r=i.writecb
if(!r){return e.emit('error',new Error('no writecb in Transform class'))}
i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&e.push(n),r(t)
var o=e._readableState
o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o)){return new o(e)}
s.call(this,e),this._transformState=new i(this)
var t=this
this._readableState.needReadable=!0,this._readableState.sync=!1,e&&('function'==typeof e.transform&&(this._transform=e.transform),'function'==typeof e.flush&&(this._flush=e.flush)),this.once('prefinish',function(){'function'==typeof this._flush?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t){return e.emit('error',t)}
var n=e._writableState,i=e._transformState
if(n.length){throw new Error('calling transform done when ws.length != 0')}
if(i.transforming){throw new Error('calling transform done when still transforming')}
return e.push(null)}t.exports=o
var s=e('./_stream_duplex'),l=e('core-util-is')
l.inherits=e('inherits'),l.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error('not implemented')},o.prototype._write=function(e,t,n){var i=this._transformState
if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState
null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{'./_stream_duplex':552,'core-util-is':197,inherits:364}],556:[function(e,t,n){(function(n){'use strict'
function i(){}function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(t,n){P=P||e('./_stream_duplex'),t=t||{},this.objectMode=!!t.objectMode,n instanceof P&&(this.objectMode=this.objectMode||!!t.writableObjectMode)
var i=t.highWaterMark,r=this.objectMode?16:16384
this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1
var o=!1===t.decodeStrings
this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||'utf8',this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this),this.corkedRequestsFree.next=new w(this)}function a(t){if(P=P||e('./_stream_duplex'),!(this instanceof a||this instanceof P)){return new a(t)}
this._writableState=new o(t,this),this.writable=!0,t&&('function'==typeof t.write&&(this._write=t.write),'function'==typeof t.writev&&(this._writev=t.writev)),A.call(this)}function s(e,t){var n=new Error('write after end')
e.emit('error',n),_(t,n)}function l(e,t,n,i){var r=!0
if(!T.isBuffer(n)&&'string'!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var o=new TypeError('Invalid non-string/buffer chunk')
e.emit('error',o),_(i,o),r=!1}return r}function c(e,t,n){return e.objectMode||!1===e.decodeStrings||'string'!=typeof t||(t=new T(t,n)),t}function u(e,t,n,i,o){n=c(t,n,i),T.isBuffer(n)&&(i='buffer')
var a=t.objectMode?1:n.length
t.length+=a
var s=t.length<t.highWaterMark
if(s||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest
t.lastBufferedRequest=new r(n,i,o),l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else {p(e,t,!1,a,n,i,o)}
return s}function p(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function d(e,t,n,i,r){--t.pendingcb,n?_(r,i):r(i),e._writableState.errorEmitted=!0,e.emit('error',i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var n=e._writableState,i=n.sync,r=n.writecb
if(f(n),t){d(e,n,i,t,r)}
else{var o=y(n)
o||n.corked||n.bufferProcessing||!n.bufferedRequest||g(e,n),i?C(m,e,n,o,r):m(e,n,o,r)}}function m(e,t,n,i){n||v(e,t),t.pendingcb--,i(),x(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit('drain'))}function g(e,t){t.bufferProcessing=!0
var n=t.bufferedRequest
if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree
o.entry=n
for(var a=0;n;){r[a]=n,n=n.next,a+=1}
p(e,t,!0,t.length,r,'',o.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,l=n.encoding,c=n.callback
if(p(e,t,!1,t.objectMode?1:s.length,s,l,c),n=n.next,t.writing){break}}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit('prefinish'))}function x(e,t){var n=y(t)
return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit('finish')):b(e,t)),n}function E(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?_(n):e.once('finish',n)),t.ended=!0,e.writable=!1}function w(e){var t=this
this.next=null,this.entry=null,this.finish=function(n){var i=t.entry
for(t.entry=null;i;){var r=i.callback
e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}t.exports=a
var _=e('process-nextick-args'),C=!n.browser&&['v0.10','v0.9.'].indexOf(n.version.slice(0,5))>-1?setImmediate:_,T=e('buffer').Buffer
a.WritableState=o
var S=e('core-util-is')
S.inherits=e('inherits')
var A,j={deprecate:e('util-deprecate')}
!function(){try{A=e('stream')}catch(e){}finally{A||(A=e('events').EventEmitter)}}()
var T=e('buffer').Buffer
S.inherits(a,A)
var P
o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;){t.push(e),e=e.next}
return t},function(){try{Object.defineProperty(o.prototype,'buffer',{get:j.deprecate(function(){return this.getBuffer()},'_writableState.buffer is deprecated. Use _writableState.getBuffer instead.')})}catch(e){}}()
var P
a.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe. Not readable.'))},a.prototype.write=function(e,t,n){var r=this._writableState,o=!1
return'function'==typeof t&&(n=t,t=null),T.isBuffer(e)?t='buffer':t||(t=r.defaultEncoding),'function'!=typeof n&&(n=i),r.ended?s(this,n):l(this,r,e,n)&&(r.pendingcb++,o=u(this,r,e,t,n)),o},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var e=this._writableState
e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g(this,e))},a.prototype.setDefaultEncoding=function(e){if('string'==typeof e&&(e=e.toLowerCase()),!(['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((e+'').toLowerCase())>-1)){throw new TypeError('Unknown encoding: '+e)}
this._writableState.defaultEncoding=e},a.prototype._write=function(e,t,n){n(new Error('not implemented'))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var i=this._writableState
'function'==typeof e?(n=e,e=null,t=null):'function'==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||E(this,i,n)}}).call(this,void 0)},{'./_stream_duplex':552,buffer:188,'core-util-is':197,events:359,inherits:364,'process-nextick-args':550,'util-deprecate':568}],557:[function(e,t,n){t.exports=e('./lib/_stream_passthrough.js')},{'./lib/_stream_passthrough.js':553}],558:[function(e,t,n){var i=function(){try{return e('stream')}catch(e){}}()
n=t.exports=e('./lib/_stream_readable.js'),n.Stream=i||n,n.Readable=n,n.Writable=e('./lib/_stream_writable.js'),n.Duplex=e('./lib/_stream_duplex.js'),n.Transform=e('./lib/_stream_transform.js'),n.PassThrough=e('./lib/_stream_passthrough.js')},{'./lib/_stream_duplex.js':552,'./lib/_stream_passthrough.js':553,'./lib/_stream_readable.js':554,'./lib/_stream_transform.js':555,'./lib/_stream_writable.js':556}],559:[function(e,t,n){t.exports=e('./lib/_stream_transform.js')},{'./lib/_stream_transform.js':555}],560:[function(e,t,n){t.exports=e('./lib/_stream_writable.js')},{'./lib/_stream_writable.js':556}],561:[function(e,t,n){(function(t){!function(n){function i(e,t){if(!(this instanceof i)){return new i(e,t)}
var r=this
o(r),r.q=r.c='',r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?'toLowerCase':'toUpperCase',r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=z.BEGIN,r.ENTITIES=Object.create(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(U)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),f(r,'onready')}function r(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),i=0,r=0,o=A.length;r<o;r++){var a=e[A[r]].length
if(a>t){switch(A[r]){case'textNode':m(e)
break
case'cdata':h(e,'oncdata',e.cdata),e.cdata=''
break
case'script':h(e,'onscript',e.script),e.script=''
break
default:g(e,'Max buffer length exceeded: '+A[r])}}i=Math.max(i,a)}e.bufferCheckPosition=n.MAX_BUFFER_LENGTH-i+e.position}function o(e){for(var t=0,n=A.length;t<n;t++){e[A[t]]=''}}function a(e){m(e),''!==e.cdata&&(h(e,'oncdata',e.cdata),e.cdata=''),''!==e.script&&(h(e,'onscript',e.script),e.script='')}function s(e,t){return new l(e,t)}function l(e,t){if(!(this instanceof l)){return new l(e,t)}
j.apply(this),this._parser=new i(e,t),this.writable=!0,this.readable=!0
var n=this
this._parser.onend=function(){n.emit('end')},this._parser.onerror=function(e){n.emit('error',e),n._parser.error=null},this._decoder=null,P.forEach(function(e){Object.defineProperty(n,'on'+e,{get:function(){return n._parser['on'+e]},set:function(t){if(!t){return n.removeAllListeners(e),n._parser['on'+e]=t}
n.on(e,t)},enumerable:!0,configurable:!1})})}function c(e){return e.split('').reduce(function(e,t){return e[t]=!0,e},{})}function u(e){return'[object RegExp]'===Object.prototype.toString.call(e)}function p(e,t){return u(e)?!!t.match(e):e[t]}function d(e,t){return!p(e,t)}function f(e,t,n){e[t]&&e[t](n)}function h(e,t,n){e.textNode&&m(e),f(e,t,n)}function m(e){e.textNode=v(e.opt,e.textNode),e.textNode&&f(e,'ontext',e.textNode),e.textNode=''}function v(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g,' ')),t}function g(e,t){return m(e),e.trackPosition&&(t+='\nLine: '+e.line+'\nColumn: '+e.column+'\nChar: '+e.c),t=new Error(t),e.error=t,f(e,'onerror',t),e}function y(e){return e.closedRoot||b(e,'Unclosed root tag'),e.state!==z.BEGIN&&e.state!==z.TEXT&&g(e,'Unexpected end'),m(e),e.c='',e.closed=!0,f(e,'onend'),i.call(e,e.strict,e.opt),e}function b(e,t){if('object'!=typeof e||!(e instanceof i)){throw new Error('bad call to strictFail')}
e.strict&&g(e,t)}function x(e){e.strict||(e.tagName=e.tagName[e.looseCase]())
var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}}
e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0}function E(e,t){var n=e.indexOf(':'),i=n<0?['',e]:e.split(':'),r=i[0],o=i[1]
return t&&'xmlns'===e&&(r='xmlns',o=''),{prefix:r,local:o}}function w(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)){return e.attribName=e.attribValue=''}
if(e.opt.xmlns){var t=E(e.attribName,!0),n=t.prefix,i=t.local
if('xmlns'===n){if('xml'===i&&e.attribValue!==I){b(e,'xml: prefix must be bound to '+I+'\nActual: '+e.attribValue)}
else if('xmlns'===i&&e.attribValue!==F){b(e,'xmlns: prefix must be bound to '+F+'\nActual: '+e.attribValue)}
else{var r=e.tag,o=e.tags[e.tags.length-1]||e
r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[i]=e.attribValue}}e.attribList.push([e.attribName,e.attribValue])}else {e.tag.attributes[e.attribName]=e.attribValue,h(e,'onattribute',{name:e.attribName,value:e.attribValue})}
e.attribName=e.attribValue=''}function _(e,t){if(e.opt.xmlns){var n=e.tag,i=E(e.tagName)
n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||'',n.prefix&&!n.uri&&(b(e,'Unbound namespace prefix: '+JSON.stringify(e.tagName)),n.uri=i.prefix)
var r=e.tags[e.tags.length-1]||e
n.ns&&r.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){h(e,'onopennamespace',{prefix:t,uri:n.ns[t]})})
for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],l=s[0],c=s[1],u=E(l,!0),p=u.prefix,d=u.local,f=''==p?'':n.ns[p]||'',m={name:l,value:c,prefix:p,local:d,uri:f}
p&&'xmlns'!=p&&!f&&(b(e,'Unbound namespace prefix: '+JSON.stringify(p)),m.uri=p),e.tag.attributes[l]=m,h(e,'onattribute',m)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),h(e,'onopentag',e.tag),t||(e.noscript||'script'!==e.tagName.toLowerCase()?e.state=z.TEXT:e.state=z.SCRIPT,e.tag=null,e.tagName=''),e.attribName=e.attribValue='',e.attribList.length=0}function C(e){if(!e.tagName){return b(e,'Weird empty close tag.'),e.textNode+='</>',void(e.state=z.TEXT)}
if(e.script){if('script'!==e.tagName){return e.script+='</'+e.tagName+'>',e.tagName='',void(e.state=z.SCRIPT)}
h(e,'onscript',e.script),e.script=''}var t=e.tags.length,n=e.tagName
e.strict||(n=n[e.looseCase]())
for(var i=n;t--;){if(e.tags[t].name===i){break}
b(e,'Unexpected close tag')}if(t<0){return b(e,'Unmatched closing tag: '+e.tagName),e.textNode+='</'+e.tagName+'>',void(e.state=z.TEXT)}
e.tagName=n
for(var r=e.tags.length;r-- >t;){var o=e.tag=e.tags.pop()
e.tagName=e.tag.name,h(e,'onclosetag',e.tagName)
var a={}
for(var s in o.ns){a[s]=o.ns[s]}
var l=e.tags[e.tags.length-1]||e
e.opt.xmlns&&o.ns!==l.ns&&Object.keys(o.ns).forEach(function(t){var n=o.ns[t]
h(e,'onclosenamespace',{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName='',e.attribList.length=0,e.state=z.TEXT}function T(e){var t,n=e.entity,i=n.toLowerCase(),r=''
return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[i]?e.ENTITIES[i]:(n=i,'#'===n.charAt(0)&&('x'===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),r=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),r=t.toString(10))),n=n.replace(/^0+/,''),r.toLowerCase()!==n?(b(e,'Invalid character entity'),'&'+e.entity+';'):String.fromCodePoint(t))}function S(e){var t=this
if(this.error){throw this.error}
if(t.closed){return g(t,'Cannot write after close. Assign an onready handler.')}
if(null===e){return y(t)}
for(var n=0,i='';t.c=i=e.charAt(n++);){switch(t.trackPosition&&(t.position++,'\n'===i?(t.line++,t.column=0):t.column++),t.state){case z.BEGIN:'<'===i?(t.state=z.OPEN_WAKA,t.startTagPosition=t.position):d(R,i)&&(b(t,'Non-whitespace before first tag.'),t.textNode=i,t.state=z.TEXT)
continue
case z.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=n-1;i&&'<'!==i&&'&'!==i;){(i=e.charAt(n++))&&t.trackPosition&&(t.position++,'\n'===i?(t.line++,t.column=0):t.column++)}
t.textNode+=e.substring(o,n-1)}'<'===i?(t.state=z.OPEN_WAKA,t.startTagPosition=t.position):(!d(R,i)||t.sawRoot&&!t.closedRoot||b(t,'Text data outside of root node.'),'&'===i?t.state=z.TEXT_ENTITY:t.textNode+=i)
continue
case z.SCRIPT:'<'===i?t.state=z.SCRIPT_ENDING:t.script+=i
continue
case z.SCRIPT_ENDING:'/'===i?t.state=z.CLOSE_TAG:(t.script+='<'+i,t.state=z.SCRIPT)
continue
case z.OPEN_WAKA:if('!'===i){t.state=z.SGML_DECL,t.sgmlDecl=''}
else if(p(R,i)){}else if(p(H,i)){t.state=z.OPEN_TAG,t.tagName=i}
else if('/'===i){t.state=z.CLOSE_TAG,t.tagName=''}
else if('?'===i){t.state=z.PROC_INST,t.procInstName=t.procInstBody=''}
else{if(b(t,'Unencoded <'),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition
i=new Array(a).join(' ')+i}t.textNode+='<'+i,t.state=z.TEXT}continue
case z.SGML_DECL:(t.sgmlDecl+i).toUpperCase()===L?(h(t,'onopencdata'),t.state=z.CDATA,t.sgmlDecl='',t.cdata=''):t.sgmlDecl+i==='--'?(t.state=z.COMMENT,t.comment='',t.sgmlDecl=''):(t.sgmlDecl+i).toUpperCase()===N?(t.state=z.DOCTYPE,(t.doctype||t.sawRoot)&&b(t,'Inappropriately located doctype declaration'),t.doctype='',t.sgmlDecl=''):'>'===i?(h(t,'onsgmldeclaration',t.sgmlDecl),t.sgmlDecl='',t.state=z.TEXT):p(B,i)?(t.state=z.SGML_DECL_QUOTED,t.sgmlDecl+=i):t.sgmlDecl+=i
continue
case z.SGML_DECL_QUOTED:i===t.q&&(t.state=z.SGML_DECL,t.q=''),t.sgmlDecl+=i
continue
case z.DOCTYPE:'>'===i?(t.state=z.TEXT,h(t,'ondoctype',t.doctype),t.doctype=!0):(t.doctype+=i,'['===i?t.state=z.DOCTYPE_DTD:p(B,i)&&(t.state=z.DOCTYPE_QUOTED,t.q=i))
continue
case z.DOCTYPE_QUOTED:t.doctype+=i,i===t.q&&(t.q='',t.state=z.DOCTYPE)
continue
case z.DOCTYPE_DTD:t.doctype+=i,']'===i?t.state=z.DOCTYPE:p(B,i)&&(t.state=z.DOCTYPE_DTD_QUOTED,t.q=i)
continue
case z.DOCTYPE_DTD_QUOTED:t.doctype+=i,i===t.q&&(t.state=z.DOCTYPE_DTD,t.q='')
continue
case z.COMMENT:'-'===i?t.state=z.COMMENT_ENDING:t.comment+=i
continue
case z.COMMENT_ENDING:'-'===i?(t.state=z.COMMENT_ENDED,t.comment=v(t.opt,t.comment),t.comment&&h(t,'oncomment',t.comment),t.comment=''):(t.comment+='-'+i,t.state=z.COMMENT)
continue
case z.COMMENT_ENDED:'>'!==i?(b(t,'Malformed comment'),t.comment+='--'+i,t.state=z.COMMENT):t.state=z.TEXT
continue
case z.CDATA:']'===i?t.state=z.CDATA_ENDING:t.cdata+=i
continue
case z.CDATA_ENDING:']'===i?t.state=z.CDATA_ENDING_2:(t.cdata+=']'+i,t.state=z.CDATA)
continue
case z.CDATA_ENDING_2:'>'===i?(t.cdata&&h(t,'oncdata',t.cdata),h(t,'onclosecdata'),t.cdata='',t.state=z.TEXT):']'===i?t.cdata+=']':(t.cdata+=']]'+i,t.state=z.CDATA)
continue
case z.PROC_INST:'?'===i?t.state=z.PROC_INST_ENDING:p(R,i)?t.state=z.PROC_INST_BODY:t.procInstName+=i
continue
case z.PROC_INST_BODY:if(!t.procInstBody&&p(R,i)){continue}
'?'===i?t.state=z.PROC_INST_ENDING:t.procInstBody+=i
continue
case z.PROC_INST_ENDING:'>'===i?(h(t,'onprocessinginstruction',{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody='',t.state=z.TEXT):(t.procInstBody+='?'+i,t.state=z.PROC_INST_BODY)
continue
case z.OPEN_TAG:p(V,i)?t.tagName+=i:(x(t),'>'===i?_(t):'/'===i?t.state=z.OPEN_TAG_SLASH:(d(R,i)&&b(t,'Invalid character in tag name'),t.state=z.ATTRIB))
continue
case z.OPEN_TAG_SLASH:'>'===i?(_(t,!0),C(t)):(b(t,'Forward-slash in opening tag not followed by >'),t.state=z.ATTRIB)
continue
case z.ATTRIB:if(p(R,i)){continue}
'>'===i?_(t):'/'===i?t.state=z.OPEN_TAG_SLASH:p(H,i)?(t.attribName=i,t.attribValue='',t.state=z.ATTRIB_NAME):b(t,'Invalid attribute name')
continue
case z.ATTRIB_NAME:'='===i?t.state=z.ATTRIB_VALUE:'>'===i?(b(t,'Attribute without value'),t.attribValue=t.attribName,w(t),_(t)):p(R,i)?t.state=z.ATTRIB_NAME_SAW_WHITE:p(V,i)?t.attribName+=i:b(t,'Invalid attribute name')
continue
case z.ATTRIB_NAME_SAW_WHITE:if('='===i){t.state=z.ATTRIB_VALUE}
else{if(p(R,i)){continue}
b(t,'Attribute without value'),t.tag.attributes[t.attribName]='',t.attribValue='',h(t,'onattribute',{name:t.attribName,value:''}),t.attribName='','>'===i?_(t):p(H,i)?(t.attribName=i,t.state=z.ATTRIB_NAME):(b(t,'Invalid attribute name'),t.state=z.ATTRIB)}continue
case z.ATTRIB_VALUE:if(p(R,i)){continue}
p(B,i)?(t.q=i,t.state=z.ATTRIB_VALUE_QUOTED):(b(t,'Unquoted attribute value'),t.state=z.ATTRIB_VALUE_UNQUOTED,t.attribValue=i)
continue
case z.ATTRIB_VALUE_QUOTED:if(i!==t.q){'&'===i?t.state=z.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=i
continue}w(t),t.q='',t.state=z.ATTRIB_VALUE_CLOSED
continue
case z.ATTRIB_VALUE_CLOSED:p(R,i)?t.state=z.ATTRIB:'>'===i?_(t):'/'===i?t.state=z.OPEN_TAG_SLASH:p(H,i)?(b(t,'No whitespace between attributes'),t.attribName=i,t.attribValue='',t.state=z.ATTRIB_NAME):b(t,'Invalid attribute name')
continue
case z.ATTRIB_VALUE_UNQUOTED:if(d(O,i)){'&'===i?t.state=z.ATTRIB_VALUE_ENTITY_U:t.attribValue+=i
continue}w(t),'>'===i?_(t):t.state=z.ATTRIB
continue
case z.CLOSE_TAG:if(t.tagName){'>'===i?C(t):p(V,i)?t.tagName+=i:t.script?(t.script+='</'+t.tagName,t.tagName='',t.state=z.SCRIPT):(d(R,i)&&b(t,'Invalid tagname in closing tag'),t.state=z.CLOSE_TAG_SAW_WHITE)}
else{if(p(R,i)){continue}
d(H,i)?t.script?(t.script+='</'+i,t.state=z.SCRIPT):b(t,'Invalid tagname in closing tag.'):t.tagName=i}continue
case z.CLOSE_TAG_SAW_WHITE:if(p(R,i)){continue}
'>'===i?C(t):b(t,'Invalid characters in closing tag')
continue
case z.TEXT_ENTITY:case z.ATTRIB_VALUE_ENTITY_Q:case z.ATTRIB_VALUE_ENTITY_U:switch(t.state){case z.TEXT_ENTITY:var s=z.TEXT,l='textNode'
break
case z.ATTRIB_VALUE_ENTITY_Q:var s=z.ATTRIB_VALUE_QUOTED,l='attribValue'
break
case z.ATTRIB_VALUE_ENTITY_U:var s=z.ATTRIB_VALUE_UNQUOTED,l='attribValue'}';'===i?(t[l]+=T(t),t.entity='',t.state=s):p(D,i)?t.entity+=i:(b(t,'Invalid character entity'),t[l]+='&'+t.entity+i,t.entity='',t.state=s)
continue
default:throw new Error(t,'Unknown state: '+t.state)}}return t.position>=t.bufferCheckPosition&&r(t),t}n.parser=function(e,t){return new i(e,t)},n.SAXParser=i,n.SAXStream=l,n.createStream=s,n.MAX_BUFFER_LENGTH=65536
var A=['comment','sgmlDecl','textNode','tagName','doctype','procInstName','procInstBody','entity','attribName','attribValue','cdata','script']
n.EVENTS=['text','processinginstruction','sgmldeclaration','doctype','comment','attribute','opentag','closetag','opencdata','cdata','closecdata','error','end','ready','script','opennamespace','closenamespace'],Object.create||(Object.create=function(e){function t(){this.__proto__=e}return t.prototype=e,new t}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__}),Object.keys||(Object.keys=function(e){var t=[]
for(var n in e){e.hasOwnProperty(n)&&t.push(n)}
return t}),i.prototype={end:function(){y(this)},write:S,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}}
try{var j=e('stream').Stream}catch(e){var j=function(){}}var P=n.EVENTS.filter(function(e){return'error'!==e&&'end'!==e})
l.prototype=Object.create(j.prototype,{constructor:{value:l}}),l.prototype.write=function(n){if('function'==typeof t&&'function'==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var i=e('string_decoder').StringDecoder
this._decoder=new i('utf8')}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit('data',n),!0},l.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},l.prototype.on=function(e,t){var n=this
return n._parser['on'+e]||-1===P.indexOf(e)||(n._parser['on'+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments)
t.splice(0,0,e),n.emit.apply(n,t)}),j.prototype.on.call(n,e,t)}
var R='\r\n\t ',k='0124356789',M='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',B="'\"",D=k+M+'#',O=R+'>',L='[CDATA[',N='DOCTYPE',I='http://www.w3.org/XML/1998/namespace',F='http://www.w3.org/2000/xmlns/',U={xml:I,xmlns:F}
R=c(R),k=c(k),M=c(M)
var H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,V=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/
B=c(B),D=c(D),O=c(O)
var z=0
n.STATE={BEGIN:z++,TEXT:z++,TEXT_ENTITY:z++,OPEN_WAKA:z++,SGML_DECL:z++,SGML_DECL_QUOTED:z++,DOCTYPE:z++,DOCTYPE_QUOTED:z++,DOCTYPE_DTD:z++,DOCTYPE_DTD_QUOTED:z++,COMMENT_STARTING:z++,COMMENT:z++,COMMENT_ENDING:z++,COMMENT_ENDED:z++,CDATA:z++,CDATA_ENDING:z++,CDATA_ENDING_2:z++,PROC_INST:z++,PROC_INST_BODY:z++,PROC_INST_ENDING:z++,OPEN_TAG:z++,OPEN_TAG_SLASH:z++,ATTRIB:z++,ATTRIB_NAME:z++,ATTRIB_NAME_SAW_WHITE:z++,ATTRIB_VALUE:z++,ATTRIB_VALUE_QUOTED:z++,ATTRIB_VALUE_CLOSED:z++,ATTRIB_VALUE_UNQUOTED:z++,ATTRIB_VALUE_ENTITY_Q:z++,ATTRIB_VALUE_ENTITY_U:z++,CLOSE_TAG:z++,CLOSE_TAG_SAW_WHITE:z++,SCRIPT:z++,SCRIPT_ENDING:z++},n.ENTITIES={amp:'&',gt:'>',lt:'<',quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],i='number'==typeof t?String.fromCharCode(t):t
n.ENTITIES[e]=i})
for(var z in n.STATE){n.STATE[n.STATE[z]]=z}
z=n.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,i,r=[],o=-1,a=arguments.length
if(!a){return''}
for(var s='';++o<a;){var l=Number(arguments[o])
if(!isFinite(l)||l<0||l>1114111||t(l)!=l){throw RangeError('Invalid code point: '+l)}
l<=65535?r.push(l):(l-=65536,n=55296+(l>>10),i=l%1024+56320,r.push(n,i)),(o+1==a||r.length>16384)&&(s+=e.apply(null,r),r.length=0)}return s}
Object.defineProperty?Object.defineProperty(String,'fromCodePoint',{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===n?sax={}:n)}).call(this,void 0)},{stream:565,string_decoder:566}],562:[function(e,t,n){'use strict'
function i(e,t){v.call(this),this.options=t=h({},g,t),this.container=e,this._createScrollButtons(e,t),this._bindEvents(e)}function r(e,t){var n=o(e)
return n||(n=new i(e,t),e.__scrollTabs=n),n}function o(e){return e.__scrollTabs}var a=e('min-dom/lib/domify'),s=e('min-dom/lib/classes'),l=e('min-dom/lib/matches'),c=e('min-dom/lib/delegate'),u=e('min-dom/lib/query'),p=e('min-dom/lib/event'),d=e('min-dom/lib/attr'),f=e('lodash/collection/filter'),h=e('lodash/object/assign'),m=e('inherits'),v=e('events'),g={scrollSymbolLeft:'',scrollSymbolRight:''}
m(i,v),i.prototype._createButton=function(e,t){var n=t.className,i=t.direction,r=u('.'+n,e)
return r||(r=a('<span class="scroll-tabs-button '+n+'">'+t.label+'</span>'),e.insertBefore(r,e.childNodes[0])),d(r,'data-direction',i),r},i.prototype._createScrollButtons=function(e,t){this._createButton(e,{className:'scroll-tabs-left',label:t.scrollSymbolLeft,direction:-1}),this._createButton(e,{className:'scroll-tabs-right',label:t.scrollSymbolRight,direction:1})},i.prototype.getActiveTabNode=function(){return u(this.options.selectors.active,this.container)},i.prototype.getTabsContainerNode=function(){return u(this.options.selectors.tabsContainer,this.container)},i.prototype.getAllTabNodes=function(){return u.all(this.options.selectors.tab,this.container)},i.prototype.getVisibleTabs=function(){var e=this.getAllTabNodes(),t=this.options.selectors.ignore
return f(e,function(e){return!l(e,t)})},i.prototype.getAdjacentTab=function(e,t){var n=this.getVisibleTabs()
return n[n.indexOf(e)+t]},i.prototype._bindEvents=function(e){this._bindWheelEvent(e),this._bindTabClickEvents(e),this._bindScrollButtonEvents(e)},i.prototype._bindTabClickEvents=function(e){var t=this.options.selectors.tab,n=this
c.bind(e,t,'click',function(e){n.scrollToTabNode(e.delegateTarget)})},i.prototype._bindWheelEvent=function(e){var t=this
p.bind(e,'wheel',function(e){var n=Math.sign(e.deltaY),i=t.getActiveTabNode(),r=t.getAdjacentTab(i,n)
r&&(t.scrollToTabNode(r),t.emit('scroll',r,i,n)),e.preventDefault()})},i.prototype._bindScrollButtonEvents=function(e){var t=this
c.bind(e,'.scroll-tabs-button','click',function(e){var n=e.delegateTarget,i=parseInt(d(n,'data-direction'),10),r=t.getActiveTabNode(),o=t.getAdjacentTab(r,i)
o&&(t.scrollToTabNode(o),t.emit('scroll',o,r,i)),e.preventDefault()})},i.prototype.scrollToTabNode=function(e){if(e){var t=e.parentNode,n=e.offsetWidth,i=e.offsetLeft,r=i+n,o=t.offsetWidth
t.scrollLeft>i?t.scrollLeft=0:r>o&&(t.scrollLeft=r-o)}},i.prototype.update=function(){var e=this.getTabsContainerNode(),t=e.scrollWidth>e.offsetWidth
s(this.container).toggle('scroll-tabs-overflow',t),t&&this.scrollToTabNode(this.getActiveTabNode())},t.exports=r,t.exports.get=o},{events:359,inherits:364,'lodash/collection/filter':380,'lodash/object/assign':512,'min-dom/lib/attr':525,'min-dom/lib/classes':526,'min-dom/lib/delegate':529,'min-dom/lib/domify':530,'min-dom/lib/event':531,'min-dom/lib/matches':532,'min-dom/lib/query':533}],563:[function(e,t,n){'use strict'
function i(e,t,n){var i=e.start,a=i,s=n.length-t.length,l=(n.length,t.length,t.substring(i))
n.lastIndexOf(l)===n.length-l.length&&(t=t.substring(0,t.length-l.length),n=n.substring(0,n.length-l.length))
var s=r(t,n)
return s&&(a='remove'===s.type?s.newStart:s.newEnd),o(a)}function r(e,t){var n,i,r,o,a,s=0,l=0
for(t.length>e.length?(i=t,o=e):(i=e,o=t);s<i.length;){r=i.charAt(s),a=o.charAt(l),r!==a?(n||(n={l_start:s,s_start:l}),s++):(n&&!n.complete&&(n.l_end=s,n.s_end=l,n.complete=!0),l++,s++)}
if(n&&!n.complete&&(n.complete=!0,n.s_end=o.length,n.l_end=i.length),n){return t.length>e.length?{newStart:n.l_start,newEnd:n.l_end,type:'add'}:{newStart:n.s_start,newEnd:n.s_end,type:t.length<e.length?'remove':'replace'}}}function o(e,t){return{start:e,end:void 0===t?e:t}}t.exports=i,t.exports.range=o},{}],564:[function(e,t,n){!function(i,r){if('function'==typeof define&&define.amd){define(['eve'],function(e){return r(i,e)})}
else if(void 0!==n){var o=e('eve')
t.exports=r(i,o)}else {r(i,i.eve)}}(window||this,function(e,t){var n=function(t){var n={},i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},r=Array.isArray||function(e){return e instanceof Array||'[object Array]'==Object.prototype.toString.call(e)},o=0,a='M'+(+new Date).toString(36),s=function(){return a+(o++).toString(36)},l=Date.now||function(){return+new Date},c=function(e){var t=this
if(null==e){return t.s}
var n=t.s-e
t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},u=function(e){var t=this
if(null==e){return t.spd}
t.spd=e},p=function(e){var t=this
if(null==e){return t.dur}
t.s=t.s*e/t.dur,t.dur=e},d=function(){var e=this
delete n[e.id],e.update(),t('mina.stop.'+e.id,e)},f=function(){var e=this
e.pdif||(delete n[e.id],e.update(),e.pdif=e.get()-e.b)},h=function(){var e=this
e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e)},m=function(){var e,t=this
if(r(t.start)){e=[]
for(var n=0,i=t.start.length;n<i;n++){e[n]=+t.start[n]+(t.end[n]-t.start[n])*t.easing(t.s)}}else {e=+t.start+(t.end-t.start)*t.easing(t.s)}
t.set(e)},v=function(){var e=0
for(var r in n){if(n.hasOwnProperty(r)){var o=n[r],a=o.get()
e++,o.s=(a-o.b)/(o.dur/o.spd),o.s>=1&&(delete n[r],o.s=1,e--,function(e){setTimeout(function(){t('mina.finish.'+e.id,e)})}(o)),o.update()}}e&&i(v)},g=function(e,t,r,o,a,l,y){var b={id:s(),start:e,end:t,b:r,s:0,dur:o-r,spd:1,get:a,set:l,easing:y||g.linear,status:c,speed:u,duration:p,stop:d,pause:f,resume:h,update:m}
n[b.id]=b
var x,E=0
for(x in n){if(n.hasOwnProperty(x)&&2==++E){break}}
return 1==E&&i(v),b}
return g.time=l,g.getById=function(e){return n[e]||null},g.linear=function(e){return e},g.easeout=function(e){return Math.pow(e,1.7)},g.easein=function(e){return Math.pow(e,.48)},g.easeinout=function(e){if(1==e){return 1}
if(0==e){return 0}
var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),i=n-t,r=Math.pow(Math.abs(i),1/3)*(i<0?-1:1),o=-n-t,a=Math.pow(Math.abs(o),1/3)*(o<0?-1:1),s=r+a+.5
return 3*(1-s)*s*s+s*s*s},g.backin=function(e){if(1==e){return 1}
var t=1.70158
return e*e*((t+1)*e-t)},g.backout=function(e){if(0==e){return 0}
e-=1
var t=1.70158
return e*e*((t+1)*e+t)+1},g.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1},g.bounce=function(e){var t,n=7.5625,i=2.75
return e<1/i?t=n*e*e:e<2/i?(e-=1.5/i,t=n*e*e+.75):e<2.5/i?(e-=2.25/i,t=n*e*e+.9375):(e-=2.625/i,t=n*e*e+.984375),t},e.mina=g,g}(void 0===t?function(){}:t),i=function(e){function n(e,t){if(e){if(e.tagName){return w(e)}
if(r(e,'array')&&n.set){return n.set.apply(n,e)}
if(e instanceof y){return e}
if(null==t){return e=_.doc.querySelector(e),w(e)}}return e=null==e?'100%':e,t=null==t?'100%':t,new E(e,t)}function i(e,t){if(t){if('#text'==e&&(e=_.doc.createTextNode(t.text||'')),'string'==typeof e&&(e=i(e)),'string'==typeof t){return'xlink:'==t.substring(0,6)?e.getAttributeNS(U,t.substring(6)):'xml:'==t.substring(0,4)?e.getAttributeNS(H,t.substring(4)):e.getAttribute(t)}
for(var n in t){if(t[C](n)){var r=T(t[n])
r?'xlink:'==n.substring(0,6)?e.setAttributeNS(U,n.substring(6),r):'xml:'==n.substring(0,4)?e.setAttributeNS(H,n.substring(4),r):e.setAttribute(n,r):e.removeAttribute(n)}}}else {e=_.doc.createElementNS(H,e)}
return e}function r(e,t){return t=T.prototype.toLowerCase.call(t),'finite'==t?isFinite(e):!('array'!=t||!(e instanceof Array||Array.isArray&&Array.isArray(e)))||('null'==t&&null===e||t==typeof e&&null!==e||'object'==t&&e===Object(e)||D.call(e).slice(8,-1).toLowerCase()==t)}function o(e){if('function'==typeof e||Object(e)!==e){return e}
var t=new e.constructor
for(var n in e){e[C](n)&&(t[n]=o(e[n]))}
return t}function a(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t){return e.push(e.splice(n,1)[0])}}}function s(e,t,n){function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join(''),s=i.cache=i.cache||{},l=i.count=i.count||[]
return s[C](o)?(a(l,o),n?n(s[o]):s[o]):(l.length>=1e3&&delete s[l.shift()],l.push(o),s[o]=e.apply(t,r),n?n(s[o]):s[o])}return i}function l(e,t,n,i,r,o){if(null==r){var a=e-n,s=t-i
return a||s?(180+180*j.atan2(-s,-a)/M+360)%360:0}return l(e,t,r,o)-l(n,i,r,o)}function c(e){return e%360*M/180}function u(e){return 180*e/M%360}function p(e){var t=[]
return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,i){return i=i.split(/\s*,\s*|\s+/),'rotate'==n&&1==i.length&&i.push(0,0),'scale'==n&&(i.length>2?i=i.slice(0,2):2==i.length&&i.push(0,0),1==i.length&&i.push(i[0],0,0)),'skewX'==n?t.push(['m',1,0,j.tan(c(i[0])),1,0,0]):'skewY'==n?t.push(['m',1,j.tan(c(i[0])),0,1,0,0]):t.push([n.charAt(0)].concat(i)),e}),t}function d(e,t){var i=X(e),r=new n.Matrix
if(i){for(var o=0,a=i.length;o<a;o++){var s,l,c,u,p,d=i[o],f=d.length,h=T(d[0]).toLowerCase(),m=d[0]!=h,v=m?r.invert():0
't'==h&&2==f?r.translate(d[1],0):'t'==h&&3==f?m?(s=v.x(0,0),l=v.y(0,0),c=v.x(d[1],d[2]),u=v.y(d[1],d[2]),r.translate(c-s,u-l)):r.translate(d[1],d[2]):'r'==h?2==f?(p=p||t,r.rotate(d[1],p.x+p.width/2,p.y+p.height/2)):4==f&&(m?(c=v.x(d[2],d[3]),u=v.y(d[2],d[3]),r.rotate(d[1],c,u)):r.rotate(d[1],d[2],d[3])):'s'==h?2==f||3==f?(p=p||t,r.scale(d[1],d[f-1],p.x+p.width/2,p.y+p.height/2)):4==f?m?(c=v.x(d[2],d[3]),u=v.y(d[2],d[3]),r.scale(d[1],d[1],c,u)):r.scale(d[1],d[1],d[2],d[3]):5==f&&(m?(c=v.x(d[3],d[4]),u=v.y(d[3],d[4]),r.scale(d[1],d[2],c,u)):r.scale(d[1],d[2],d[3],d[4])):'m'==h&&7==f&&r.add(d[1],d[2],d[3],d[4],d[5],d[6])}}return r}function f(e){var t=e.node.ownerSVGElement&&w(e.node.ownerSVGElement)||e.node.parentNode&&w(e.node.parentNode)||n.select('svg')||n(0,0),i=t.select('defs'),r=null!=i&&i.node
return r||(r=x('defs',t.node).node),r}function h(e){return e.node.ownerSVGElement&&w(e.node.ownerSVGElement)||n.select('svg')}function m(e,t,n){function r(e){if(null==e){return B}
if(e==+e){return e}
i(c,{width:e})
try{return c.getBBox().width}catch(e){return 0}}function o(e){if(null==e){return B}
if(e==+e){return e}
i(c,{height:e})
try{return c.getBBox().height}catch(e){return 0}}function a(i,r){null==t?l[i]=r(e.attr(i)||0):i==t&&(l=r(null==n?e.attr(i)||0:n))}var s=h(e).node,l={},c=s.querySelector('.svg---mgr')
switch(c||(c=i('rect'),i(c,{x:-9e9,y:-9e9,width:10,height:10,class:'svg---mgr',fill:'none'}),s.appendChild(c)),e.type){case'rect':a('rx',r),a('ry',o)
case'image':a('width',r),a('height',o)
case'text':a('x',r),a('y',o)
break
case'circle':a('cx',r),a('cy',o),a('r',r)
break
case'ellipse':a('cx',r),a('cy',o),a('rx',r),a('ry',o)
break
case'line':a('x1',r),a('x2',r),a('y1',o),a('y2',o)
break
case'marker':a('refX',r),a('markerWidth',r),a('refY',o),a('markerHeight',o)
break
case'radialGradient':a('fx',r),a('fy',o)
break
case'tspan':a('dx',r),a('dy',o)
break
default:a(t,r)}return s.removeChild(c),l}function v(e){r(e,'array')||(e=Array.prototype.slice.call(arguments,0))
for(var t=0,n=0,i=this.node;this[t];){delete this[t++]}
for(t=0;t<e.length;t++){'set'==e[t].type?e[t].forEach(function(e){i.appendChild(e.node)}):i.appendChild(e[t].node)}
var o=i.childNodes
for(t=0;t<o.length;t++){this[n++]=w(o[t])}
return this}function y(e){if(e.snap in V){return V[e.snap]}
var t
try{t=e.ownerSVGElement}catch(e){}this.node=e,t&&(this.paper=new E(t)),this.type=e.tagName
var n=this.id=F(this)
if(this.anims={},this._={transform:[]},e.snap=n,V[n]=this,'g'==this.type&&(this.add=v),this.type in{g:1,mask:1,pattern:1,symbol:1}){for(var i in E.prototype){E.prototype[C](i)&&(this[i]=E.prototype[i])}}}function b(e){this.node=e}function x(e,t){var n=i(e)
return t.appendChild(n),w(n)}function E(e,t){var n,r,o,a=E.prototype
if(e&&'svg'==e.tagName){if(e.snap in V){return V[e.snap]}
var s=e.ownerDocument
n=new y(e),r=e.getElementsByTagName('desc')[0],o=e.getElementsByTagName('defs')[0],r||(r=i('desc'),r.appendChild(s.createTextNode('Created with Snap')),n.node.appendChild(r)),o||(o=i('defs'),n.node.appendChild(o)),n.defs=o
for(var l in a){a[C](l)&&(n[l]=a[l])}
n.paper=n.root=n}else {n=x('svg',_.doc.body),i(n.node,{height:t,version:1.1,width:e,xmlns:H})}
return n}function w(e){return e?e instanceof y||e instanceof b?e:e.tagName&&'svg'==e.tagName.toLowerCase()?new E(e):e.tagName&&'object'==e.tagName.toLowerCase()&&'image/svg+xml'==e.type?new E(e.contentDocument.getElementsByTagName('svg')[0]):new y(e):e}n.version='0.3.0',n.toString=function(){return'Snap v'+this.version},n._={}
var _={win:e.window,doc:e.window.document}
n._.glob=_
var C='hasOwnProperty',T=String,S=parseFloat,A=parseInt,j=Math,P=j.max,R=j.min,k=j.abs,M=(j.pow,j.PI),B=(j.round,''),D=Object.prototype.toString,O=(n._.separator=/[,\s]+/,{hs:1,rg:1}),L=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,N=0,I='S'+(+new Date).toString(36),F=function(e){return(e&&e.type?e.type:B)+I+(N++).toString(36)},U='http://www.w3.org/1999/xlink',H='http://www.w3.org/2000/svg',V={}
n.url=function(e){return"url('#"+e+"')"}
n._.$=i,n._.id=F,n.format=function(){var e=function(e,t,n){var i=n
return t.replace(/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t,n,r,o){t=t||r,i&&(t in i&&(i=i[t]),'function'==typeof i&&o&&(i=i()))}),i=(null==i||i==n?e:i)+''}
return function(t,n){return T(t).replace(/\{([^\}]+)\}/g,function(t,i){return e(t,i,n)})}}(),n._.clone=o,n._.cacher=s,n.rad=c,n.deg=u,n.angle=l,n.is=r,n.snapTo=function(e,t,n){if(n=r(n,'finite')?n:10,r(e,'array')){for(var i=e.length;i--;){if(k(e[i]-t)<=n){return e[i]}}}else{e=+e
var o=t%e
if(o<n){return t-o}
if(o>e-n){return t-o+e}}return t},n.getRGB=s(function(e){if(!e||(e=T(e)).indexOf('-')+1){return{r:-1,g:-1,b:-1,hex:'none',error:1,toString:W}}
if('none'==e){return{r:-1,g:-1,b:-1,hex:'none',toString:W}}
if(!(O[C](e.toLowerCase().substring(0,2))||'#'==e.charAt())&&(e=z(e)),!e){return{r:-1,g:-1,b:-1,hex:'none',error:1,toString:W}}
var t,i,o,a,s,l,c=e.match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i)
return c?(c[2]&&(o=A(c[2].substring(5),16),i=A(c[2].substring(3,5),16),t=A(c[2].substring(1,3),16)),c[3]&&(o=A((s=c[3].charAt(3))+s,16),i=A((s=c[3].charAt(2))+s,16),t=A((s=c[3].charAt(1))+s,16)),c[4]&&(l=c[4].split(/[\s]*,[\s]*/),t=S(l[0]),'%'==l[0].slice(-1)&&(t*=2.55),i=S(l[1]),'%'==l[1].slice(-1)&&(i*=2.55),o=S(l[2]),'%'==l[2].slice(-1)&&(o*=2.55),'rgba'==c[1].toLowerCase().slice(0,4)&&(a=S(l[3])),l[3]&&'%'==l[3].slice(-1)&&(a/=100)),c[5]?(l=c[5].split(/[\s]*,[\s]*/),t=S(l[0]),'%'==l[0].slice(-1)&&(t/=100),i=S(l[1]),'%'==l[1].slice(-1)&&(i/=100),o=S(l[2]),'%'==l[2].slice(-1)&&(o/=100),('deg'==l[0].slice(-3)||''==l[0].slice(-1))&&(t/=360),'hsba'==c[1].toLowerCase().slice(0,4)&&(a=S(l[3])),l[3]&&'%'==l[3].slice(-1)&&(a/=100),n.hsb2rgb(t,i,o,a)):c[6]?(l=c[6].split(/[\s]*,[\s]*/),t=S(l[0]),'%'==l[0].slice(-1)&&(t/=100),i=S(l[1]),'%'==l[1].slice(-1)&&(i/=100),o=S(l[2]),'%'==l[2].slice(-1)&&(o/=100),('deg'==l[0].slice(-3)||''==l[0].slice(-1))&&(t/=360),'hsla'==c[1].toLowerCase().slice(0,4)&&(a=S(l[3])),l[3]&&'%'==l[3].slice(-1)&&(a/=100),n.hsl2rgb(t,i,o,a)):(t=R(j.round(t),255),i=R(j.round(i),255),o=R(j.round(o),255),a=R(P(a,0),1),c={r:t,g:i,b:o,toString:W},c.hex='#'+(16777216|o|i<<8|t<<16).toString(16).slice(1),c.opacity=r(a,'finite')?a:1,c)):{r:-1,g:-1,b:-1,hex:'none',error:1,toString:W}},n),n.hsb=s(function(e,t,i){return n.hsb2rgb(e,t,i).hex}),n.hsl=s(function(e,t,i){return n.hsl2rgb(e,t,i).hex}),n.rgb=s(function(e,t,n,i){if(r(i,'finite')){var o=j.round
return'rgba('+[o(e),o(t),o(n),+i.toFixed(2)]+')'}return'#'+(16777216|n|t<<8|e<<16).toString(16).slice(1)})
var z=function(e){var t=_.doc.getElementsByTagName('head')[0]||_.doc.getElementsByTagName('svg')[0],n='rgb(255, 0, 0)'
return(z=s(function(e){if('red'==e.toLowerCase()){return n}
t.style.color=n,t.style.color=e
var i=_.doc.defaultView.getComputedStyle(t,B).getPropertyValue('color')
return i==n?null:i}))(e)},q=function(){return'hsb('+[this.h,this.s,this.b]+')'},$=function(){return'hsl('+[this.h,this.s,this.l]+')'},W=function(){return 1==this.opacity||null==this.opacity?this.hex:'rgba('+[this.r,this.g,this.b,this.opacity]+')'},G=function(e,t,i){if(null==t&&r(e,'object')&&'r'in e&&'g'in e&&'b'in e&&(i=e.b,t=e.g,e=e.r),null==t&&r(e,string)){var o=n.getRGB(e)
e=o.r,t=o.g,i=o.b}return(e>1||t>1||i>1)&&(e/=255,t/=255,i/=255),[e,t,i]},Y=function(e,t,i,o){e=j.round(255*e),t=j.round(255*t),i=j.round(255*i)
var a={r:e,g:t,b:i,opacity:r(o,'finite')?o:1,hex:n.rgb(e,t,i),toString:W}
return r(o,'finite')&&(a.opacity=o),a}
n.color=function(e){var t
return r(e,'object')&&'h'in e&&'s'in e&&'b'in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):r(e,'object')&&'h'in e&&'s'in e&&'l'in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(r(e,'string')&&(e=n.getRGB(e)),r(e,'object')&&'r'in e&&'g'in e&&'b'in e&&!('error'in e)?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):(e={hex:'none'},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=W,e},n.hsb2rgb=function(e,t,n,i){r(e,'object')&&'h'in e&&'s'in e&&'b'in e&&(n=e.b,t=e.s,e=e.h,i=e.o),e*=360
var o,a,s,l,c
return e=e%360/60,c=n*t,l=c*(1-k(e%2-1)),o=a=s=n-c,e=~~e,o+=[c,l,0,0,l,c][e],a+=[l,c,c,l,0,0][e],s+=[0,0,l,c,c,l][e],Y(o,a,s,i)},n.hsl2rgb=function(e,t,n,i){r(e,'object')&&'h'in e&&'s'in e&&'l'in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360
var o,a,s,l,c
return e=e%360/60,c=2*t*(n<.5?n:1-n),l=c*(1-k(e%2-1)),o=a=s=n-c/2,e=~~e,o+=[c,l,0,0,l,c][e],a+=[l,c,c,l,0,0][e],s+=[0,0,l,c,c,l][e],Y(o,a,s,i)},n.rgb2hsb=function(e,t,n){n=G(e,t,n),e=n[0],t=n[1],n=n[2]
var i,r,o,a
return o=P(e,t,n),a=o-R(e,t,n),i=0==a?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,i=(i+360)%6*60/360,r=0==a?0:a/o,{h:i,s:r,b:o,toString:q}},n.rgb2hsl=function(e,t,n){n=G(e,t,n),e=n[0],t=n[1],n=n[2]
var i,r,o,a,s,l
return a=P(e,t,n),s=R(e,t,n),l=a-s,i=0==l?null:a==e?(t-n)/l:a==t?(n-e)/l+2:(e-t)/l+4,i=(i+360)%6*60/360,o=(a+s)/2,r=0==l?0:o<.5?l/(2*o):l/(2-2*o),{h:i,s:r,l:o,toString:$}},n.parsePathString=function(e){if(!e){return null}
var t=n.path(e)
if(t.arr){return n.path.clone(t.arr)}
var i={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[]
return r(e,'array')&&r(e[0],'array')&&(o=n.path.clone(e)),o.length||T(e).replace(/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,function(e,t,n){var r=[],a=t.toLowerCase()
if(n.replace(L,function(e,t){t&&r.push(+t)}),'m'==a&&r.length>2&&(o.push([t].concat(r.splice(0,2))),a='l',t='m'==t?'l':'L'),'o'==a&&1==r.length&&o.push([t,r[0]]),'r'==a){o.push([t].concat(r))}
else {for(;r.length>=i[a]&&(o.push([t].concat(r.splice(0,i[a]))),i[a]);){}}}),o.toString=n.path.toString,t.arr=n.path.clone(o),o}
var X=n.parseTransformString=function(e){if(!e){return null}
var t=[]
return r(e,'array')&&r(e[0],'array')&&(t=n.path.clone(e)),t.length||T(e).replace(/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,function(e,n,i){var r=[]
n.toLowerCase()
i.replace(L,function(e,t){t&&r.push(+t)}),t.push([n].concat(r))}),t.toString=n.path.toString,t}
n._.svgTransform2string=p,n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=d,n._unit2px=m
_.doc.contains||_.doc.compareDocumentPosition
n._.getSomeDefs=f,n._.getSomeSVG=h,n.select=function(e){return e=T(e).replace(/([^\\]):/g,'$1\\:'),w(_.doc.querySelector(e))},n.selectAll=function(e){for(var t=_.doc.querySelectorAll(e),i=(n.set||Array)(),r=0;r<t.length;r++){i.push(w(t[r]))}
return i},setInterval(function(){for(var e in V){if(V[C](e)){var t=V[e],n=t.node;('svg'!=t.type&&!n.ownerSVGElement||'svg'==t.type&&(!n.parentNode||'ownerSVGElement'in n.parentNode&&!n.ownerSVGElement))&&delete V[e]}}},1e4),y.prototype.attr=function(e,n){var i=this
i.node
if(!e){return i}
if(r(e,'string')){if(!(arguments.length>1)){return t('snap.util.getattr.'+e,i).firstDefined()}
var o={}
o[e]=n,e=o}for(var a in e){e[C](a)&&t('snap.util.attr.'+a,i,e[a])}
return i},n.parse=function(e){var t=_.doc.createDocumentFragment(),n=!0,i=_.doc.createElement('div')
if(e=T(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e='<svg>'+e+'</svg>',n=!1),i.innerHTML=e,e=i.getElementsByTagName('svg')[0]){if(n){t=e}
else{for(;e.firstChild;){t.appendChild(e.firstChild)}
i.innerHTML=B}}return new b(t)},n.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=_.doc.createDocumentFragment(),i=0,r=e.length;i<r;i++){var o=e[i]
o.node&&o.node.nodeType&&t.appendChild(o.node),o.nodeType&&t.appendChild(o),'string'==typeof o&&t.appendChild(n.parse(o).node)}return new b(t)},n._.make=x,n._.wrap=w,E.prototype.el=function(e,t){var n=x(e,this.node)
return t&&n.attr(t),n},t.on('snap.util.getattr',function(){var e=t.nt()
e=e.substring(e.lastIndexOf('.')+1)
var n=e.replace(/[A-Z]/g,function(e){return'-'+e.toLowerCase()})
return K[C](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):i(this.node,e)})
var K={'alignment-baseline':0,'baseline-shift':0,clip:0,'clip-path':0,'clip-rule':0,color:0,'color-interpolation':0,'color-interpolation-filters':0,'color-profile':0,'color-rendering':0,cursor:0,direction:0,display:0,'dominant-baseline':0,'enable-background':0,fill:0,'fill-opacity':0,'fill-rule':0,filter:0,'flood-color':0,'flood-opacity':0,font:0,'font-family':0,'font-size':0,'font-size-adjust':0,'font-stretch':0,'font-style':0,'font-variant':0,'font-weight':0,'glyph-orientation-horizontal':0,'glyph-orientation-vertical':0,'image-rendering':0,kerning:0,'letter-spacing':0,'lighting-color':0,marker:0,'marker-end':0,'marker-mid':0,'marker-start':0,mask:0,opacity:0,overflow:0,'pointer-events':0,'shape-rendering':0,'stop-color':0,'stop-opacity':0,stroke:0,'stroke-dasharray':0,'stroke-dashoffset':0,'stroke-linecap':0,'stroke-linejoin':0,'stroke-miterlimit':0,'stroke-opacity':0,'stroke-width':0,'text-anchor':0,'text-decoration':0,'text-rendering':0,'unicode-bidi':0,visibility:0,'word-spacing':0,'writing-mode':0}
t.on('snap.util.attr',function(e){var n=t.nt(),r={}
n=n.substring(n.lastIndexOf('.')+1),r[n]=e
var o=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),a=n.replace(/[A-Z]/g,function(e){return'-'+e.toLowerCase()})
K[C](a)?this.node.style[o]=null==e?B:e:i(this.node,r)}),E.prototype,n.ajax=function(e,n,i,o){var a=new XMLHttpRequest,s=F()
if(a){if(r(n,'function')){o=i,i=n,n=null}
else if(r(n,'object')){var l=[]
for(var c in n){n.hasOwnProperty(c)&&l.push(encodeURIComponent(c)+'='+encodeURIComponent(n[c]))}
n=l.join('&')}return a.open(n?'POST':'GET',e,!0),(n&&(a.setRequestHeader('X-Requested-With','XMLHttpRequest'),a.setRequestHeader('Content-type','application/x-www-form-urlencoded')),i&&(t.once('snap.ajax.'+s+'.0',i),t.once('snap.ajax.'+s+'.200',i),t.once('snap.ajax.'+s+'.304',i)),a.onreadystatechange=function(){4==a.readyState&&t('snap.ajax.'+s+'.'+a.status,o,a)},4==a.readyState)?a:(a.send(n),a)}},n.load=function(e,t,i){n.ajax(e,function(e){var r=n.parse(e.responseText)
i?t.call(i,r):t(r)})}
var J=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,a=r.clientLeft||i.clientLeft||0
return{y:t.top+(g.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:t.left+(g.win.pageXOffset||r.scrollLeft||i.scrollLeft)-a}}
return n.getElementByPoint=function(e,t){var n=this,i=(n.canvas,_.doc.elementFromPoint(e,t))
if(_.win.opera&&'svg'==i.tagName){var r=J(i),o=i.createSVGRect()
o.x=e-r.x,o.y=t-r.y,o.width=o.height=1
var a=i.getIntersectionList(o,null)
a.length&&(i=a[a.length-1])}return i?w(i):null},n.plugin=function(e){e(n,y,E,_,b)},_.win.Snap=n,n}(e||this)
return i.plugin(function(i,r,o,a,s){function l(e,t){if(null==t){var n=!0
if(!(t='linearGradient'==e.type||'radialGradient'==e.type?e.node.getAttribute('gradientTransform'):'pattern'==e.type?e.node.getAttribute('patternTransform'):e.node.getAttribute('transform'))){return new i.Matrix}
t=i._.svgTransform2string(t)}else {t=i._.rgTransform.test(t)?h(t).replace(/\.{3}|\u2026/g,e._.transform||E):i._.svgTransform2string(t),f(t,'array')&&(t=i.path?i.path.toString.call(t):h(t)),e._.transform=t}
var r=i._.transform2matrix(t,e.getBBox(1))
if(n){return r}
e.matrix=r}function c(e){function t(e,t){var n=v(e.node,t)
n=n&&n.match(r),(n=n&&n[2])&&'#'==n.charAt()&&(n=n.substring(1))&&(a[n]=(a[n]||[]).concat(function(n){var i={}
i[t]=URL(n),v(e.node,i)}))}for(var n,i=e.selectAll('*'),r=/^\s*url\(("|'|)(.*)\1\)\s*$/,o=[],a={},s=0,l=i.length;s<l;s++){n=i[s],t(n,'fill'),t(n,'stroke'),t(n,'filter'),t(n,'mask'),t(n,'clip-path'),function(e){var t=v(e.node,'xlink:href')
t&&'#'==t.charAt()&&(t=t.substring(1))&&(a[t]=(a[t]||[]).concat(function(t){e.attr('xlink:href','#'+t)}))}(n)
var c=v(n.node,'id')
c&&(v(n.node,{id:n.id}),o.push({old:c,id:n.id}))}for(s=0,l=o.length;s<l;s++){var u=a[o[s].old]
if(u){for(var p=0,d=u.length;p<d;p++){u[p](o[s].id)}}}}function u(e,t,n){return function(i){var r=i.slice(e,t)
return 1==r.length&&(r=r[0]),n?n(r):r}}function p(e){return function(){var t=e?'<'+this.type:'',n=this.node.attributes,i=this.node.childNodes
if(e){for(var r=0,o=n.length;r<o;r++){t+=' '+n[r].name+'="'+n[r].value.replace(/"/g,'\\"')+'"'}}
if(i.length){for(e&&(t+='>'),r=0,o=i.length;r<o;r++){3==i[r].nodeType?t+=i[r].nodeValue:1==i[r].nodeType&&(t+=x(i[r]).toString())}
e&&(t+='</'+this.type+'>')}else {e&&(t+='/>')}
return t}}var d=r.prototype,f=i.is,h=String,m=i._unit2px,v=i._.$,g=i._.make,y=i._.getSomeDefs,b='hasOwnProperty',x=i._.wrap
d.getBBox=function(e){if(!i.Matrix||!i.path){return this.node.getBBox()}
var t=this,n=new i.Matrix
if(t.removed){return i._.box()}
for(;'use'==t.type;){if(e||(n=n.add(t.transform().localMatrix.translate(t.attr('x')||0,t.attr('y')||0))),t.original){t=t.original}
else{var r=t.attr('xlink:href')
t=t.original=t.node.ownerDocument.getElementById(r.substring(r.indexOf('#')+1))}}var o=t._,a=i.path.get[t.type]||i.path.get.deflt
try{return e?(o.bboxwt=a?i.path.getBBox(t.realPath=a(t)):i._.box(t.node.getBBox()),i._.box(o.bboxwt)):(t.realPath=a(t),t.matrix=t.transform().localMatrix,o.bbox=i.path.getBBox(i.path.map(t.realPath,n.add(t.matrix))),i._.box(o.bbox))}catch(e){return i._.box()}}
var w=function(){return this.string}
d.transform=function(e){var t=this._
if(null==e){for(var n,r=this,o=new i.Matrix(this.node.getCTM()),a=l(this),s=[a],c=new i.Matrix,u=a.toTransformString(),p=h(a)==h(this.matrix)?h(t.transform):u;'svg'!=r.type&&(r=r.parent());){s.push(l(r))}
for(n=s.length;n--;){c.add(s[n])}
return{string:p,globalMatrix:o,totalMatrix:c,localMatrix:a,diffMatrix:o.clone().add(a.invert()),global:o.toTransformString(),total:c.toTransformString(),local:u,toString:w}}return e instanceof i.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):l(this,e),this.node&&('linearGradient'==this.type||'radialGradient'==this.type?v(this.node,{gradientTransform:this.matrix}):'pattern'==this.type?v(this.node,{patternTransform:this.matrix}):v(this.node,{transform:this.matrix})),this},d.parent=function(){return x(this.node.parentNode)},d.append=d.add=function(e){if(e){if('set'==e.type){var t=this
return e.forEach(function(e){t.add(e)}),this}e=x(e),this.node.appendChild(e.node),e.paper=this.paper}return this},d.appendTo=function(e){return e&&(e=x(e),e.append(this)),this},d.prepend=function(e){if(e){if('set'==e.type){var t,n=this
return e.forEach(function(e){t?t.after(e):n.prepend(e),t=e}),this}e=x(e)
var i=e.parent()
this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),i&&i.add()}return this},d.prependTo=function(e){return e=x(e),e.prepend(this),this},d.before=function(e){if('set'==e.type){var t=this
return e.forEach(function(e){var n=e.parent()
t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=x(e)
var n=e.parent()
return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},d.after=function(e){e=x(e)
var t=e.parent()
return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},d.insertBefore=function(e){e=x(e)
var t=this.parent()
return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},d.insertAfter=function(e){e=x(e)
var t=this.parent()
return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},d.remove=function(){var e=this.parent()
return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},d.select=function(e){return e=h(e).replace(/([^\\]):/g,'$1\\:'),x(this.node.querySelector(e))},d.selectAll=function(e){for(var t=this.node.querySelectorAll(e),n=(i.set||Array)(),r=0;r<t.length;r++){n.push(x(t[r]))}
return n},d.asPX=function(e,t){return null==t&&(t=this.attr(e)),+m(this,e,t)},d.use=function(){var e,t=this.node.id
return t||(t=this.id,v(this.node,{id:t})),e='linearGradient'==this.type||'radialGradient'==this.type||'pattern'==this.type?g(this.type,this.node.parentNode):g('use',this.node.parentNode),v(e.node,{'xlink:href':'#'+t}),e.original=this,e},d.clone=function(){var e=x(this.node.cloneNode(!0))
return v(e.node,'id')&&v(e.node,{id:e.id}),c(e),e.insertAfter(this),e},d.toDefs=function(){return y(this).appendChild(this.node),this},d.pattern=d.toPattern=function(e,t,n,i){var r=g('pattern',y(this))
return null==e&&(e=this.getBBox()),f(e,'object')&&'x'in e&&(t=e.y,n=e.width,i=e.height,e=e.x),v(r.node,{x:e,y:t,width:n,height:i,patternUnits:'userSpaceOnUse',id:r.id,viewBox:[e,t,n,i].join(' ')}),r.node.appendChild(this.node),r},d.marker=function(e,t,n,i,r,o){var a=g('marker',y(this))
return null==e&&(e=this.getBBox()),f(e,'object')&&'x'in e&&(t=e.y,n=e.width,i=e.height,r=e.refX||e.cx,o=e.refY||e.cy,e=e.x),v(a.node,{viewBox:[e,t,n,i].join(' '),markerWidth:n,markerHeight:i,orient:'auto',refX:r||0,refY:o||0,id:a.id}),a.node.appendChild(this.node),a}
var _=function(e,t,i,r){'function'!=typeof i||i.length||(r=i,i=n.linear),this.attr=e,this.dur=t,i&&(this.easing=i),r&&(this.callback=r)}
i._.Animation=_,i.animation=function(e,t,n,i){return new _(e,t,n,i)},d.inAnim=function(){var e=this,t=[]
for(var n in e.anims){e.anims[b](n)&&function(e){t.push({anim:new _(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n])}
return t},i.animate=function(e,i,r,o,a,s){'function'!=typeof a||a.length||(s=a,a=n.linear)
var l=n.time(),c=n(e,i,l,l+o,n.time,r,a)
return s&&t.once('mina.finish.'+c.id,s),c},d.stop=function(){for(var e=this.inAnim(),t=0,n=e.length;t<n;t++){e[t].stop()}
return this},d.animate=function(e,i,r,o){'function'!=typeof r||r.length||(o=r,r=n.linear),e instanceof _&&(o=e.callback,r=e.easing,i=r.dur,e=e.attr)
var a,s,l,c,p=[],d=[],m={},v=this
for(var g in e){if(e[b](g)){v.equal?(c=v.equal(g,h(e[g])),a=c.from,s=c.to,l=c.f):(a=+v.attr(g),s=+e[g])
var y=f(a,'array')?a.length:1
m[g]=u(p.length,p.length+y,l),p=p.concat(a),d=d.concat(s)}}var x=n.time(),E=n(p,d,x,x+i,n.time,function(e){var t={}
for(var n in m){m[b](n)&&(t[n]=m[n](e))}
v.attr(t)},r)
return v.anims[E.id]=E,E._attrs=e,E._callback=o,t('snap.animcreated.'+v.id,E),t.once('mina.finish.'+E.id,function(){delete v.anims[E.id],o&&o.call(v)}),t.once('mina.stop.'+E.id,function(){delete v.anims[E.id]}),v}
var C={}
d.data=function(e,n){var r=C[this.id]=C[this.id]||{}
if(0==arguments.length){return t('snap.data.get.'+this.id,this,r,null),r}
if(1==arguments.length){if(i.is(e,'object')){for(var o in e){e[b](o)&&this.data(o,e[o])}
return this}return t('snap.data.get.'+this.id,this,r[e],e),r[e]}return r[e]=n,t('snap.data.set.'+this.id,this,n,e),this},d.removeData=function(e){return null==e?C[this.id]={}:C[this.id]&&delete C[this.id][e],this},d.outerSVG=d.toString=p(1),d.innerSVG=p(),d.toDataURL=function(){if(e&&e.btoa){var t=this.getBBox(),n=i.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+t.x.toFixed(3),y:+t.y.toFixed(3),width:+t.width.toFixed(3),height:+t.height.toFixed(3),contents:this.outerSVG()})
return'data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(n)))}},s.prototype.select=d.select,s.prototype.selectAll=d.selectAll}),i.plugin(function(e,t,n,i,r){function o(e,t,n,i,r,o){if(null==t&&'[object SVGMatrix]'==a.call(e)){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void(this.f=e.f)}
null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}var a=Object.prototype.toString,s=String,l=Math
!function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function i(e){var t=l.sqrt(n(e))
e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}t.add=function(e,t,n,i,r,a){var s,l,c,u,p=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[e,n,r],[t,i,a],[0,0,1]]
for(e&&e instanceof o&&(f=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),s=0;s<3;s++){for(l=0;l<3;l++){for(u=0,c=0;c<3;c++){u+=d[s][c]*f[c][l]}
p[s][l]=u}}return this.a=p[0][0],this.b=p[1][0],this.c=p[0][1],this.d=p[1][1],this.e=p[0][2],this.f=p[1][2],this},t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c
return new o(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},t.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(e,t){return this.add(1,0,0,1,e,t)},t.scale=function(e,t,n,i){return null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i),this},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0
var r=+l.cos(t).toFixed(9),o=+l.sin(t).toFixed(9)
return this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(e,t){return e*this.a+t*this.c+this.e},t.y=function(e,t){return e*this.b+t*this.d+this.f},t.get=function(e){return+this[s.fromCharCode(97+e)].toFixed(4)},t.toString=function(){return'matrix('+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+')'},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.determinant=function(){return this.a*this.d-this.b*this.c},t.split=function(){var t={}
t.dx=this.e,t.dy=this.f
var r=[[this.a,this.c],[this.b,this.d]]
t.scalex=l.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=l.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex)
var o=-r[0][1],a=r[1][1]
return a<0?(t.rotate=e.deg(l.acos(a)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(l.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(e){var t=e||this.split()
return+t.shear.toFixed(9)?'m'+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?'t'+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:'')+(1!=t.scalex||1!=t.scaley?'s'+[t.scalex,t.scaley,0,0]:'')+(t.rotate?'r'+[+t.rotate.toFixed(4),0,0]:''))}}(o.prototype),e.Matrix=o,e.matrix=function(e,t,n,i,r,a){return new o(e,t,n,i,r,a)}}),i.plugin(function(e,n,i,r,o){function a(i){return function(r){if(t.stop(),r instanceof o&&1==r.node.childNodes.length&&('radialGradient'==r.node.firstChild.tagName||'linearGradient'==r.node.firstChild.tagName||'pattern'==r.node.firstChild.tagName)&&(r=r.node.firstChild,f(this).appendChild(r),r=p(r)),r instanceof n){if('radialGradient'==r.type||'linearGradient'==r.type||'pattern'==r.type){r.node.id||m(r.node,{id:r.id})
var a=v(r.node.id)}else {a=r.attr(i)}}
else if(a=e.color(r),a.error){var s=e(f(this).ownerSVGElement).gradient(r)
s?(s.node.id||m(s.node,{id:s.id}),a=v(s.node.id)):a=r}else {a=g(a)}
var l={}
l[i]=a,m(this.node,l),this.node.style[i]=b}}function s(e){t.stop(),e==+e&&(e+='px'),this.node.style.fontSize=e}function l(e){for(var t=[],n=e.childNodes,i=0,r=n.length;i<r;i++){var o=n[i]
3==o.nodeType&&t.push(o.nodeValue),'tspan'==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?t.push(o.firstChild.nodeValue):t.push(l(o)))}return t}function c(){return t.stop(),this.node.style.fontSize}var u=e._.make,p=e._.wrap,d=e.is,f=e._.getSomeDefs,h=/^url\(#?([^)]+)\)$/,m=e._.$,v=e.url,g=String,y=e._.separator,b=''
t.on('snap.util.attr.mask',function(e){if(e instanceof n||e instanceof o){if(t.stop(),e instanceof o&&1==e.node.childNodes.length&&(e=e.node.firstChild,f(this).appendChild(e),e=p(e)),'mask'==e.type){var i=e}
else {i=u('mask',f(this)),i.node.appendChild(e.node)}
!i.node.id&&m(i.node,{id:i.id}),m(this.node,{mask:v(i.id)})}}),function(e){t.on('snap.util.attr.clip',e),t.on('snap.util.attr.clip-path',e),t.on('snap.util.attr.clipPath',e)}(function(e){if(e instanceof n||e instanceof o){if(t.stop(),'clipPath'==e.type){var i=e}
else {i=u('clipPath',f(this)),i.node.appendChild(e.node),!i.node.id&&m(i.node,{id:i.id})}
m(this.node,{'clip-path':v(i.node.id||i.id)})}}),t.on('snap.util.attr.fill',a('fill')),t.on('snap.util.attr.stroke',a('stroke'))
t.on('snap.util.grad.parse',function(e){e=g(e)
var t=e.match(/^([lr])(?:\(([^)]*)\))?(.*)$/i)
if(!t){return null}
var n=t[1],i=t[2],r=t[3]
return i=i.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),1==i.length&&0==i[0]&&(i=[]),r=r.split('-'),r=r.map(function(e){e=e.split(':')
var t={color:e[0]}
return e[1]&&(t.offset=parseFloat(e[1])),t}),{type:n,params:i,stops:r}}),t.on('snap.util.attr.d',function(n){t.stop(),d(n,'array')&&d(n[0],'array')&&(n=e.path.toString.call(n)),n=g(n),n.match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),m(this.node,{d:n})})(-1),t.on('snap.util.attr.#text',function(e){t.stop(),e=g(e)
for(var n=r.doc.createTextNode(e);this.node.firstChild;){this.node.removeChild(this.node.firstChild)}
this.node.appendChild(n)})(-1),t.on('snap.util.attr.path',function(e){t.stop(),this.attr({d:e})})(-1),t.on('snap.util.attr.class',function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on('snap.util.attr.viewBox',function(e){var n
n=d(e,'object')&&'x'in e?[e.x,e.y,e.width,e.height].join(' '):d(e,'array')?e.join(' '):e,m(this.node,{viewBox:n}),t.stop()})(-1),t.on('snap.util.attr.transform',function(e){this.transform(e),t.stop()})(-1),t.on('snap.util.attr.r',function(e){'rect'==this.type&&(t.stop(),m(this.node,{rx:e,ry:e}))})(-1),t.on('snap.util.attr.textpath',function(e){if(t.stop(),'text'==this.type){var i,r,o
if(!e&&this.textPath){for(r=this.textPath;r.node.firstChild;){this.node.appendChild(r.node.firstChild)}
return r.remove(),void delete this.textPath}if(d(e,'string')){var a=f(this),s=p(a.parentNode).path(e)
a.appendChild(s.node),i=s.id,s.attr({id:i})}else{(e=p(e))instanceof n&&((i=e.attr('id'))||(i=e.id,e.attr({id:i})))}
if(i){if(r=this.textPath,o=this.node,r){r.attr({'xlink:href':'#'+i})}
else{for(r=m('textPath',{'xlink:href':'#'+i});o.firstChild;){r.appendChild(o.firstChild)}
o.appendChild(r),this.textPath=p(r)}}}})(-1),t.on('snap.util.attr.text',function(e){if('text'==this.type){for(var n=this.node,i=function(e){var t=m('tspan')
if(d(e,'array')){for(var n=0;n<e.length;n++){t.appendChild(i(e[n]))}}
else {t.appendChild(r.doc.createTextNode(e))}
return t.normalize&&t.normalize(),t};n.firstChild;){n.removeChild(n.firstChild)}
for(var o=i(e);o.firstChild;){n.appendChild(o.firstChild)}}t.stop()})(-1),t.on('snap.util.attr.fontSize',s)(-1),t.on('snap.util.attr.font-size',s)(-1),t.on('snap.util.getattr.transform',function(){return t.stop(),this.transform()})(-1),t.on('snap.util.getattr.textpath',function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop()
var i=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue('marker-'+n)
return'none'==i?i:e(r.doc.getElementById(i.match(h)[1]))}}function i(e){return function(n){t.stop()
var i='marker'+e.charAt(0).toUpperCase()+e.substring(1)
if(''==n||!n){return void(this.node.style[i]='none')}
if('marker'==n.type){var r=n.node.id
return r||m(n.node,{id:n.id}),void(this.node.style[i]=v(r))}}}t.on('snap.util.getattr.marker-end',n('end'))(-1),t.on('snap.util.getattr.markerEnd',n('end'))(-1),t.on('snap.util.getattr.marker-start',n('start'))(-1),t.on('snap.util.getattr.markerStart',n('start'))(-1),t.on('snap.util.getattr.marker-mid',n('mid'))(-1),t.on('snap.util.getattr.markerMid',n('mid'))(-1),t.on('snap.util.attr.marker-end',i('end'))(-1),t.on('snap.util.attr.markerEnd',i('end'))(-1),t.on('snap.util.attr.marker-start',i('start'))(-1),t.on('snap.util.attr.markerStart',i('start'))(-1),t.on('snap.util.attr.marker-mid',i('mid'))(-1),t.on('snap.util.attr.markerMid',i('mid'))(-1)}(),t.on('snap.util.getattr.r',function(){if('rect'==this.type&&m(this.node,'rx')==m(this.node,'ry')){return t.stop(),m(this.node,'rx')}})(-1),t.on('snap.util.getattr.text',function(){if('text'==this.type||'tspan'==this.type){t.stop()
var e=l(this.node)
return 1==e.length?e[0]:e}})(-1),t.on('snap.util.getattr.#text',function(){return this.node.textContent})(-1),t.on('snap.util.getattr.viewBox',function(){t.stop()
var n=m(this.node,'viewBox')
return n?(n=n.split(y),e._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),t.on('snap.util.getattr.points',function(){var e=m(this.node,'points')
return t.stop(),e?e.split(y):void 0})(-1),t.on('snap.util.getattr.path',function(){var e=m(this.node,'d')
return t.stop(),e})(-1),t.on('snap.util.getattr.class',function(){return this.node.className.baseVal})(-1),t.on('snap.util.getattr.fontSize',c)(-1),t.on('snap.util.getattr.font-size',c)(-1)}),i.plugin(function(n,i,r,o,a){var s=r.prototype,l=n.is
s.rect=function(e,t,n,i,r,o){var a
return null==o&&(o=r),l(e,'object')&&'[object Object]'==e?a=e:null!=e&&(a={x:e,y:t,width:n,height:i},null!=r&&(a.rx=r,a.ry=o)),this.el('rect',a)},s.circle=function(e,t,n){var i
return l(e,'object')&&'[object Object]'==e?i=e:null!=e&&(i={cx:e,cy:t,r:n}),this.el('circle',i)}
var c=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var i=o.doc.createElement('img'),r=o.doc.body
i.style.cssText='position:absolute;left:-9999em;top:-9999em',i.onload=function(){n.call(i),i.onload=i.onerror=null,r.removeChild(i)},i.onerror=e,r.appendChild(i),i.src=t}}()
s.image=function(e,t,i,r,o){var a=this.el('image')
if(l(e,'object')&&'src'in e){a.attr(e)}
else if(null!=e){var s={'xlink:href':e,preserveAspectRatio:'none'}
null!=t&&null!=i&&(s.x=t,s.y=i),null!=r&&null!=o?(s.width=r,s.height=o):c(e,function(){n._.$(a.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(a.node,s)}return a},s.ellipse=function(e,t,n,i){var r
return l(e,'object')&&'[object Object]'==e?r=e:null!=e&&(r={cx:e,cy:t,rx:n,ry:i}),this.el('ellipse',r)},s.path=function(e){var t
return l(e,'object')&&!l(e,'array')?t=e:e&&(t={d:e}),this.el('path',t)},s.group=s.g=function(e){var t=this.el('g')
return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.svg=function(e,t,n,i,r,o,a,s){var c={}
return l(e,'object')&&null==t?c=e:(null!=e&&(c.x=e),null!=t&&(c.y=t),null!=n&&(c.width=n),null!=i&&(c.height=i),null!=r&&null!=o&&null!=a&&null!=s&&(c.viewBox=[r,o,a,s])),this.el('svg',c)},s.mask=function(e){var t=this.el('mask')
return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.ptrn=function(e,t,n,i,r,o,a,s){if(l(e,'object')){var c=e}
else {c={patternUnits:'userSpaceOnUse'},e&&(c.x=e),t&&(c.y=t),null!=n&&(c.width=n),null!=i&&(c.height=i),null!=r&&null!=o&&null!=a&&null!=s&&(c.viewBox=[r,o,a,s])}
return this.el('pattern',c)},s.use=function(e){return null!=e?(e instanceof i&&(e.attr('id')||e.attr({id:n._.id(e)}),e=e.attr('id')),'#'==String(e).charAt()&&(e=e.substring(1)),this.el('use',{'xlink:href':'#'+e})):i.prototype.use.call(this)},s.symbol=function(e,t,n,i){var r={}
return null!=e&&null!=t&&null!=n&&null!=i&&(r.viewBox=[e,t,n,i]),this.el('symbol',r)},s.text=function(e,t,n){var i={}
return l(e,'object')?i=e:null!=e&&(i={x:e,y:t,text:n||''}),this.el('text',i)},s.line=function(e,t,n,i){var r={}
return l(e,'object')?r=e:null!=e&&(r={x1:e,x2:n,y1:t,y2:i}),this.el('line',r)},s.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0))
var t={}
return l(e,'object')&&!l(e,'array')?t=e:null!=e&&(t={points:e}),this.el('polyline',t)},s.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0))
var t={}
return l(e,'object')&&!l(e,'array')?t=e:null!=e&&(t={points:e}),this.el('polygon',t)},function(){function i(){return this.selectAll('stop')}function r(e,t){var i=u('stop'),r={offset:+t+'%'}
return e=n.color(e),r['stop-color']=e.hex,e.opacity<1&&(r['stop-opacity']=e.opacity),u(i,r),this.node.appendChild(i),this}function o(){if('linearGradient'==this.type){var e=u(this.node,'x1')||0,t=u(this.node,'x2')||1,i=u(this.node,'y1')||0,r=u(this.node,'y2')||0
return n._.box(e,i,math.abs(t-e),math.abs(r-i))}var o=this.node.cx||.5,a=this.node.cy||.5,s=this.node.r||0
return n._.box(o-s,a-s,2*s,2*s)}function a(e,n){function i(e,t){for(var n=(t-p)/(e-d),i=d;i<e;i++){a[i].offset=+(+p+n*(i-d)).toFixed(2)}
d=e,p=t}var r,o=t('snap.util.grad.parse',null,n).firstDefined()
if(!o){return null}
o.params.unshift(e),r='l'==o.type.toLowerCase()?l.apply(0,o.params):c.apply(0,o.params),o.type!=o.type.toLowerCase()&&u(r.node,{gradientUnits:'userSpaceOnUse'})
var a=o.stops,s=a.length,p=0,d=0
s--
for(var f=0;f<s;f++){'offset'in a[f]&&i(f,a[f].offset)}
for(a[s].offset=a[s].offset||100,i(s,a[s].offset),f=0;f<=s;f++){var h=a[f]
r.addStop(h.color,h.offset)}return r}function l(e,t,a,s,l){var c=n._.make('linearGradient',e)
return c.stops=i,c.addStop=r,c.getBBox=o,null!=t&&u(c.node,{x1:t,y1:a,x2:s,y2:l}),c}function c(e,t,a,s,l,c){var p=n._.make('radialGradient',e)
return p.stops=i,p.addStop=r,p.getBBox=o,null!=t&&u(p.node,{cx:t,cy:a,r:s}),null!=l&&null!=c&&u(p.node,{fx:l,fy:c}),p}var u=n._.$
s.gradient=function(e){return a(this.defs,e)},s.gradientLinear=function(e,t,n,i){return l(this.defs,e,t,n,i)},s.gradientRadial=function(e,t,n,i,r){return c(this.defs,e,t,n,i,r)},s.toString=function(){var e,t=this.node.ownerDocument,i=t.createDocumentFragment(),r=t.createElement('div'),o=this.node.cloneNode(!0)
return i.appendChild(r),r.appendChild(o),n._.$(o,{xmlns:'http://www.w3.org/2000/svg'}),e=r.innerHTML,i.removeChild(i.firstChild),e},s.toDataURL=function(){if(e&&e.btoa){return'data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(this)))}},s.clear=function(){for(var e,t=this.node.firstChild;t;){e=t.nextSibling,'defs'!=t.tagName?t.parentNode.removeChild(t):s.clear.call({node:t}),t=e}}}()}),i.plugin(function(e,t,n,i){function r(e){var t=r.ps=r.ps||{}
return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t){t[I](n)&&n!=e&&!--t[n].sleep&&delete t[n]}}),t[e]}function o(e,t,n,i){return null==e&&(e=t=n=i=0),null==t&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:i,h:i,x2:e+n,y2:t+i,cx:e+n/2,cy:t+i/2,r1:H.min(n,i)/2,r2:H.max(n,i)/2,r0:H.sqrt(n*n+i*i)/2,path:C(e,t,n,i),vb:[e,t,n,i].join(' ')}}function a(){return this.join(',').replace(F,'$1')}function s(e){var t=N(e)
return t.toString=a,t}function l(e,t,n,i,r,o,a,s,l){return null==l?m(e,t,n,i,r,o,a,s):u(e,t,n,i,r,o,a,s,v(e,t,n,i,r,o,a,s,l))}function c(n,i){function r(e){return+(+e).toFixed(3)}return e._.cacher(function(e,o,a){e instanceof t&&(e=e.attr('d')),e=M(e)
for(var s,c,p,d,f,h='',m={},v=0,g=0,y=e.length;g<y;g++){if(p=e[g],'M'==p[0]){s=+p[1],c=+p[2]}
else{if(d=l(s,c,p[1],p[2],p[3],p[4],p[5],p[6]),v+d>o){if(i&&!m.start){if(f=l(s,c,p[1],p[2],p[3],p[4],p[5],p[6],o-v),h+=['C'+r(f.start.x),r(f.start.y),r(f.m.x),r(f.m.y),r(f.x),r(f.y)],a){return h}
m.start=h,h=['M'+r(f.x),r(f.y)+'C'+r(f.n.x),r(f.n.y),r(f.end.x),r(f.end.y),r(p[5]),r(p[6])].join(),v+=d,s=+p[5],c=+p[6]
continue}if(!n&&!i){return f=l(s,c,p[1],p[2],p[3],p[4],p[5],p[6],o-v)}}v+=d,s=+p[5],c=+p[6]}h+=p.shift()+p}return m.end=h,f=n?v:i?m:u(s,c,p[0],p[1],p[2],p[3],p[4],p[5],1)},null,e._.clone)}function u(e,t,n,i,r,o,a,s,l){var c=1-l,u=$(c,3),p=$(c,2),d=l*l,f=d*l,h=u*e+3*p*l*n+3*c*l*l*r+f*a,m=u*t+3*p*l*i+3*c*l*l*o+f*s,v=e+2*l*(n-e)+d*(r-2*n+e),g=t+2*l*(i-t)+d*(o-2*i+t),y=n+2*l*(r-n)+d*(a-2*r+n),b=i+2*l*(o-i)+d*(s-2*o+i)
return{x:h,y:m,m:{x:v,y:g},n:{x:y,y:b},start:{x:c*e+l*n,y:c*t+l*i},end:{x:c*r+l*a,y:c*o+l*s},alpha:90-180*H.atan2(v-y,g-b)/V}}function p(t,n,i,r,a,s,l,c){e.is(t,'array')||(t=[t,n,i,r,a,s,l,c])
var u=k.apply(null,t)
return o(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function d(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function f(e,t){return e=o(e),t=o(t),d(t,e.x,e.y)||d(t,e.x2,e.y)||d(t,e.x,e.y2)||d(t,e.x2,e.y2)||d(e,t.x,t.y)||d(e,t.x2,t.y)||d(e,t.x,t.y2)||d(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function h(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function m(e,t,n,i,r,o,a,s,l){null==l&&(l=1),l=l>1?1:l<0?0:l
for(var c=l/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var m=c*u[f]+c,v=h(m,e,n,r,a),g=h(m,t,i,o,s),y=v*v+g*g
d+=p[f]*H.sqrt(y)}return c*d}function v(e,t,n,i,r,o,a,s,l){if(!(l<0||m(e,t,n,i,r,o,a,s)<l)){var c,u=.5,p=1-u
for(c=m(e,t,n,i,r,o,a,s,p);W(c-l)>.01;){u/=2,p+=(c<l?1:-1)*u,c=m(e,t,n,i,r,o,a,s,p)}
return p}}function g(e,t,n,i,r,o,a,s){if(!(q(e,n)<z(r,a)||z(e,n)>q(r,a)||q(t,i)<z(o,s)||z(t,i)>q(o,s))){var l=(e*i-t*n)*(r-a)-(e-n)*(r*s-o*a),c=(e*i-t*n)*(o-s)-(t-i)*(r*s-o*a),u=(e-n)*(o-s)-(t-i)*(r-a)
if(u){var p=l/u,d=c/u,f=+p.toFixed(2),h=+d.toFixed(2)
if(!(f<+z(e,n).toFixed(2)||f>+q(e,n).toFixed(2)||f<+z(r,a).toFixed(2)||f>+q(r,a).toFixed(2)||h<+z(t,i).toFixed(2)||h>+q(t,i).toFixed(2)||h<+z(o,s).toFixed(2)||h>+q(o,s).toFixed(2))){return{x:p,y:d}}}}}function y(e,t,n){if(!f(p(e),p(t))){return n?0:[]}
for(var i=m.apply(0,e),r=m.apply(0,t),o=~~(i/8),a=~~(r/8),s=[],l=[],c={},d=n?0:[],h=0;h<o+1;h++){var v=u.apply(0,e.concat(h/o))
s.push({x:v.x,y:v.y,t:h/o})}for(h=0;h<a+1;h++){v=u.apply(0,t.concat(h/a)),l.push({x:v.x,y:v.y,t:h/a})}
for(h=0;h<o;h++){for(var y=0;y<a;y++){var b=s[h],x=s[h+1],E=l[y],w=l[y+1],_=W(x.x-b.x)<.001?'y':'x',C=W(w.x-E.x)<.001?'y':'x',T=g(b.x,b.y,x.x,x.y,E.x,E.y,w.x,w.y)
if(T){if(c[T.x.toFixed(4)]==T.y.toFixed(4)){continue}
c[T.x.toFixed(4)]=T.y.toFixed(4)
var S=b.t+W((T[_]-b[_])/(x[_]-b[_]))*(x.t-b.t),A=E.t+W((T[C]-E[C])/(w[C]-E[C]))*(w.t-E.t)
S>=0&&S<=1&&A>=0&&A<=1&&(n?d++:d.push({x:T.x,y:T.y,t1:S,t2:A}))}}}return d}function b(e,t){return E(e,t)}function x(e,t){return E(e,t,1)}function E(e,t,n){e=M(e),t=M(t)
for(var i,r,o,a,s,l,c,u,p,d,f=n?0:[],h=0,m=e.length;h<m;h++){var v=e[h]
if('M'==v[0]){i=s=v[1],r=l=v[2]}
else{'C'==v[0]?(p=[i,r].concat(v.slice(1)),i=p[6],r=p[7]):(p=[i,r,i,r,s,l,s,l],i=s,r=l)
for(var g=0,b=t.length;g<b;g++){var x=t[g]
if('M'==x[0]){o=c=x[1],a=u=x[2]}
else{'C'==x[0]?(d=[o,a].concat(x.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,c,u,c,u],o=c,a=u)
var E=y(p,d,n)
if(n){f+=E}
else{for(var w=0,_=E.length;w<_;w++){E[w].segment1=h,E[w].segment2=g,E[w].bez1=p,E[w].bez2=d}
f=f.concat(E)}}}}}return f}function w(e,t,n){var i=_(e)
return d(i,t,n)&&E(e,[['M',t,n],['H',i.x2+10]],1)%2==1}function _(e){var t=r(e)
if(t.bbox){return N(t.bbox)}
if(!e){return o()}
e=M(e)
for(var n,i=0,a=0,s=[],l=[],c=0,u=e.length;c<u;c++){if(n=e[c],'M'==n[0]){i=n[1],a=n[2],s.push(i),l.push(a)}
else{var p=k(i,a,n[1],n[2],n[3],n[4],n[5],n[6])
s=s.concat(p.min.x,p.max.x),l=l.concat(p.min.y,p.max.y),i=n[5],a=n[6]}}var d=z.apply(0,s),f=z.apply(0,l),h=q.apply(0,s),m=q.apply(0,l),v=o(d,f,h-d,m-f)
return t.bbox=N(v),v}function C(e,t,n,i,r){if(r){return[['M',+e+ +r,t],['l',n-2*r,0],['a',r,r,0,0,1,r,r],['l',0,i-2*r],['a',r,r,0,0,1,-r,r],['l',2*r-n,0],['a',r,r,0,0,1,-r,-r],['l',0,2*r-i],['a',r,r,0,0,1,r,-r],['z']]}
var o=[['M',e,t],['l',n,0],['l',0,i],['l',-n,0],['z']]
return o.toString=a,o}function T(e,t,n,i,r){if(null==r&&null==i&&(i=n),e=+e,t=+t,n=+n,i=+i,null!=r){var o=Math.PI/180,s=e+n*Math.cos(-i*o),l=e+n*Math.cos(-r*o),c=t+n*Math.sin(-i*o),u=t+n*Math.sin(-r*o),p=[['M',s,c],['A',n,n,0,+(r-i>180),0,l,u]]}
else {p=[['M',e,t],['m',0,-i],['a',n,i,0,1,1,0,2*i],['a',n,i,0,1,1,0,-2*i],['z']]}
return p.toString=a,p}function S(t){var n=r(t),i=String.prototype.toLowerCase
if(n.rel){return s(n.rel)}
e.is(t,'array')&&e.is(t&&t[0],'array')||(t=e.parsePathString(t))
var o=[],l=0,c=0,u=0,p=0,d=0
'M'==t[0][0]&&(l=t[0][1],c=t[0][2],u=l,p=c,d++,o.push(['M',l,c]))
for(var f=d,h=t.length;f<h;f++){var m=o[f]=[],v=t[f]
if(v[0]!=i.call(v[0])){switch(m[0]=i.call(v[0]),m[0]){case'a':m[1]=v[1],m[2]=v[2],m[3]=v[3],m[4]=v[4],m[5]=v[5],m[6]=+(v[6]-l).toFixed(3),m[7]=+(v[7]-c).toFixed(3)
break
case'v':m[1]=+(v[1]-c).toFixed(3)
break
case'm':u=v[1],p=v[2]
default:for(var g=1,y=v.length;g<y;g++){m[g]=+(v[g]-(g%2?l:c)).toFixed(3)}}}else{m=o[f]=[],'m'==v[0]&&(u=v[1]+l,p=v[2]+c)
for(var b=0,x=v.length;b<x;b++){o[f][b]=v[b]}}var E=o[f].length
switch(o[f][0]){case'z':l=u,c=p
break
case'h':l+=+o[f][E-1]
break
case'v':c+=+o[f][E-1]
break
default:l+=+o[f][E-2],c+=+o[f][E-1]}}return o.toString=a,n.rel=s(o),o}function A(t){var n=r(t)
if(n.abs){return s(n.abs)}
if(L(t,'array')&&L(t&&t[0],'array')||(t=e.parsePathString(t)),!t||!t.length){return[['M',0,0]]}
var i,o=[],l=0,c=0,u=0,p=0,d=0
'M'==t[0][0]&&(l=+t[0][1],c=+t[0][2],u=l,p=c,d++,o[0]=['M',l,c])
for(var f,h,m=3==t.length&&'M'==t[0][0]&&'R'==t[1][0].toUpperCase()&&'Z'==t[2][0].toUpperCase(),v=d,g=t.length;v<g;v++){if(o.push(f=[]),h=t[v],(i=h[0])!=i.toUpperCase()){switch(f[0]=i.toUpperCase(),f[0]){case'A':f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+h[6]+l,f[7]=+h[7]+c
break
case'V':f[1]=+h[1]+c
break
case'H':f[1]=+h[1]+l
break
case'R':for(var y=[l,c].concat(h.slice(1)),b=2,x=y.length;b<x;b++){y[b]=+y[b]+l,y[++b]=+y[b]+c}
o.pop(),o=o.concat(D(y,m))
break
case'O':o.pop(),y=T(l,c,h[1],h[2]),y.push(y[0]),o=o.concat(y)
break
case'U':o.pop(),o=o.concat(T(l,c,h[1],h[2],h[3])),f=['U'].concat(o[o.length-1].slice(-2))
break
case'M':u=+h[1]+l,p=+h[2]+c
default:for(b=1,x=h.length;b<x;b++){f[b]=+h[b]+(b%2?l:c)}}}else if('R'==i){y=[l,c].concat(h.slice(1)),o.pop(),o=o.concat(D(y,m)),f=['R'].concat(h.slice(-2))}
else if('O'==i){o.pop(),y=T(l,c,h[1],h[2]),y.push(y[0]),o=o.concat(y)}
else if('U'==i){o.pop(),o=o.concat(T(l,c,h[1],h[2],h[3])),f=['U'].concat(o[o.length-1].slice(-2))}
else {for(var E=0,w=h.length;E<w;E++){f[E]=h[E]}}
if('O'!=(i=i.toUpperCase())){switch(f[0]){case'Z':l=+u,c=+p
break
case'H':l=f[1]
break
case'V':c=f[1]
break
case'M':u=f[f.length-2],p=f[f.length-1]
default:l=f[f.length-2],c=f[f.length-1]}}}return o.toString=a,n.abs=s(o),o}function j(e,t,n,i){return[e,t,n,i,n,i]}function P(e,t,n,i,r,o){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function R(t,n,i,r,o,a,s,l,c,u){var p,d=120*V/180,f=V/180*(+o||0),h=[],m=e._.cacher(function(e,t,n){return{x:e*H.cos(n)-t*H.sin(n),y:e*H.sin(n)+t*H.cos(n)}})
if(u){C=u[0],T=u[1],w=u[2],_=u[3]}
else{p=m(t,n,-f),t=p.x,n=p.y,p=m(l,c,-f),l=p.x,c=p.y
var v=(H.cos(V/180*o),H.sin(V/180*o),(t-l)/2),g=(n-c)/2,y=v*v/(i*i)+g*g/(r*r)
y>1&&(y=H.sqrt(y),i*=y,r*=y)
var b=i*i,x=r*r,E=(a==s?-1:1)*H.sqrt(W((b*x-b*g*g-x*v*v)/(b*g*g+x*v*v))),w=E*i*g/r+(t+l)/2,_=E*-r*v/i+(n+c)/2,C=H.asin(((n-_)/r).toFixed(9)),T=H.asin(((c-_)/r).toFixed(9))
C=t<w?V-C:C,T=l<w?V-T:T,C<0&&(C=2*V+C),T<0&&(T=2*V+T),s&&C>T&&(C-=2*V),!s&&T>C&&(T-=2*V)}var S=T-C
if(W(S)>d){var A=T,j=l,P=c
T=C+d*(s&&T>C?1:-1),l=w+i*H.cos(T),c=_+r*H.sin(T),h=R(l,c,i,r,o,0,s,j,P,[T,A,w,_])}S=T-C
var k=H.cos(C),M=H.sin(C),B=H.cos(T),D=H.sin(T),O=H.tan(S/4),L=4/3*i*O,N=4/3*r*O,I=[t,n],F=[t+L*M,n-N*k],U=[l+L*D,c-N*B],z=[l,c]
if(F[0]=2*I[0]-F[0],F[1]=2*I[1]-F[1],u){return[F,U,z].concat(h)}
h=[F,U,z].concat(h).join().split(',')
for(var q=[],$=0,G=h.length;$<G;$++){q[$]=$%2?m(h[$-1],h[$],f).y:m(h[$],h[$+1],f).x}
return q}function k(e,t,n,i,r,o,a,s){for(var l,c,u,p,d,f,h,m,v=[],g=[[],[]],y=0;y<2;++y){if(0==y?(c=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*a,u=3*n-3*e):(c=6*t-12*i+6*o,l=-3*t+9*i-9*o+3*s,u=3*i-3*t),W(l)<1e-12){if(W(c)<1e-12){continue}
0<(p=-u/c)&&p<1&&v.push(p)}else {h=c*c-4*u*l,m=H.sqrt(h),h<0||(d=(-c+m)/(2*l),0<d&&d<1&&v.push(d),0<(f=(-c-m)/(2*l))&&f<1&&v.push(f))}}
for(var b,x=v.length,E=x;x--;){p=v[x],b=1-p,g[0][x]=b*b*b*e+3*b*b*p*n+3*b*p*p*r+p*p*p*a,g[1][x]=b*b*b*t+3*b*b*p*i+3*b*p*p*o+p*p*p*s}
return g[0][E]=e,g[1][E]=t,g[0][E+1]=a,g[1][E+1]=s,g[0].length=g[1].length=E+2,{min:{x:z.apply(0,g[0]),y:z.apply(0,g[1])},max:{x:q.apply(0,g[0]),y:q.apply(0,g[1])}}}function M(e,t){var n=!t&&r(e)
if(!t&&n.curve){return s(n.curve)}
for(var i=A(e),o=t&&A(t),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=(function(e,t,n){var i,r
if(!e){return['C',t.x,t.y,t.x,t.y,t.x,t.y]}
switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case'M':t.X=e[1],t.Y=e[2]
break
case'A':e=['C'].concat(R.apply(0,[t.x,t.y].concat(e.slice(1))))
break
case'S':'C'==n||'S'==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=['C',i,r].concat(e.slice(1))
break
case'T':'Q'==n||'T'==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=['C'].concat(P(t.x,t.y,t.qx,t.qy,e[1],e[2]))
break
case'Q':t.qx=e[1],t.qy=e[2],e=['C'].concat(P(t.x,t.y,e[1],e[2],e[3],e[4]))
break
case'L':e=['C'].concat(j(t.x,t.y,e[1],e[2]))
break
case'H':e=['C'].concat(j(t.x,t.y,e[1],t.y))
break
case'V':e=['C'].concat(j(t.x,t.y,t.x,e[1]))
break
case'Z':e=['C'].concat(j(t.x,t.y,t.X,t.Y))}return e}),u=function(e,t){if(e[t].length>7){e[t].shift()
for(var n=e[t];n.length;){d[t]='A',o&&(f[t]='A'),e.splice(t++,0,['C'].concat(n.splice(0,6)))}
e.splice(t,1),g=q(i.length,o&&o.length||0)}},p=function(e,t,n,r,a){e&&t&&'M'==e[a][0]&&'M'!=t[a][0]&&(t.splice(a,0,['M',r.x,r.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],g=q(i.length,o&&o.length||0))},d=[],f=[],h='',m='',v=0,g=q(i.length,o&&o.length||0);v<g;v++){i[v]&&(h=i[v][0]),'C'!=h&&(d[v]=h,v&&(m=d[v-1])),i[v]=c(i[v],a,m),'A'!=d[v]&&'C'==h&&(d[v]='C'),u(i,v),o&&(o[v]&&(h=o[v][0]),'C'!=h&&(f[v]=h,v&&(m=f[v-1])),o[v]=c(o[v],l,m),'A'!=f[v]&&'C'==h&&(f[v]='C'),u(o,v)),p(i,o,a,l,v),p(o,i,l,a,v)
var y=i[v],b=o&&o[v],x=y.length,E=o&&b.length
a.x=y[x-2],a.y=y[x-1],a.bx=U(y[x-4])||a.x,a.by=U(y[x-3])||a.y,l.bx=o&&(U(b[E-4])||l.x),l.by=o&&(U(b[E-3])||l.y),l.x=o&&b[E-2],l.y=o&&b[E-1]}return o||(n.curve=s(i)),o?[i,o]:i}function B(e,t){if(!t){return e}
var n,i,r,o,a,s,l
for(e=M(e),r=0,a=e.length;r<a;r++){for(l=e[r],o=1,s=l.length;o<s;o+=2){n=t.x(l[o],l[o+1]),i=t.y(l[o],l[o+1]),l[o]=n,l[o+1]=i}}
return e}function D(e,t){for(var n=[],i=0,r=e.length;r-2*!t>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}]
t?i?r-4==i?o[3]={x:+e[0],y:+e[1]}:r-2==i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[r-2],y:+e[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),n.push(['C',(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var O=t.prototype,L=e.is,N=e._.clone,I='hasOwnProperty',F=/,?([a-z]),?/gi,U=parseFloat,H=Math,V=H.PI,z=H.min,q=H.max,$=H.pow,W=H.abs,G=c(1),Y=c(),X=c(0,1),K=e._unit2px,J={path:function(e){return e.attr('path')},circle:function(e){var t=K(e)
return T(t.cx,t.cy,t.r)},ellipse:function(e){var t=K(e)
return T(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=K(e)
return C(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=K(e)
return C(t.x||0,t.y||0,t.width,t.height)},line:function(e){return'M'+[e.attr('x1')||0,e.attr('y1')||0,e.attr('x2'),e.attr('y2')]},polyline:function(e){return'M'+e.attr('points')},polygon:function(e){return'M'+e.attr('points')+'z'},deflt:function(e){var t=e.node.getBBox()
return C(t.x,t.y,t.width,t.height)}}
e.path=r,e.path.getTotalLength=G,e.path.getPointAtLength=Y,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6){return X(e,t).end}
var i=X(e,n,1)
return t?X(i,t).end:i},O.getTotalLength=function(){if(this.node.getTotalLength){return this.node.getTotalLength()}},O.getPointAtLength=function(e){return Y(this.attr('d'),e)},O.getSubpath=function(t,n){return e.path.getSubpath(this.attr('d'),t,n)},e._.box=o,e.path.findDotsAtSegment=u,e.path.bezierBBox=p,e.path.isPointInsideBBox=d,e.path.isBBoxIntersect=f,e.path.intersection=b,e.path.intersectionNumber=x,e.path.isPointInside=w,e.path.getBBox=_,e.path.get=J,e.path.toRelative=S,e.path.toAbsolute=A,e.path.toCubic=M,e.path.map=B,e.path.toString=a,e.path.clone=s}),i.plugin(function(e,n,i,r){for(var o=n.prototype,a=('createTouch'in r.doc),s=['click','dblclick','mousedown','mousemove','mouseout','mouseover','mouseup','touchstart','touchmove','touchend','touchcancel'],l={mousedown:'touchstart',mousemove:'touchmove',mouseup:'touchend'},c=(function(e,t){var n='y'==e?'scrollTop':'scrollLeft',i=t&&t.node?t.node.ownerDocument:r.doc
return i[n in i.documentElement?'documentElement':'body'][n]}),u=function(){this.returnValue=!1},p=function(){return this.originalEvent.preventDefault()},d=function(){this.cancelBubble=!0},f=function(){return this.originalEvent.stopPropagation()},h=function(){return r.doc.addEventListener?function(e,t,n,i){var r=a&&l[t]?l[t]:t,o=function(r){var o=c('y',i),s=c('x',i)
if(a&&l.hasOwnProperty(t)){for(var u=0,d=r.targetTouches&&r.targetTouches.length;u<d;u++){if(r.targetTouches[u].target==e||e.contains(r.targetTouches[u].target)){var h=r
r=r.targetTouches[u],r.originalEvent=h,r.preventDefault=p,r.stopPropagation=f
break}}}var m=r.clientX+s,v=r.clientY+o
return n.call(i,r,m,v)}
return t!==r&&e.addEventListener(t,o,!1),e.addEventListener(r,o,!1),function(){return t!==r&&e.removeEventListener(t,o,!1),e.removeEventListener(r,o,!1),!0}}:r.doc.attachEvent?function(e,t,n,i){var r=function(e){e=e||i.node.ownerDocument.window.event
var t=c('y',i),r=c('x',i),o=e.clientX+r,a=e.clientY+t
return e.preventDefault=e.preventDefault||u,e.stopPropagation=e.stopPropagation||d,n.call(i,e,o,a)}
return e.attachEvent('on'+t,r),function(){return e.detachEvent('on'+t,r),!0}}:void 0}(),m=[],v=function(e){for(var n,i=e.clientX,r=e.clientY,o=c('y'),s=c('x'),l=m.length;l--;){if(n=m[l],a){for(var u,p=e.touches&&e.touches.length;p--;){if(u=e.touches[p],u.identifier==n.el._drag.id||n.el.node.contains(u.target)){i=u.clientX,r=u.clientY,(e.originalEvent?e.originalEvent:e).preventDefault()
break}}}else {e.preventDefault()}
var d=n.el.node
d.nextSibling,d.parentNode,d.style.display
i+=s,r+=o,t('snap.drag.move.'+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},g=function(n){e.unmousemove(v).unmouseup(g)
for(var i,r=m.length;r--;){i=m[r],i.el._drag={},t('snap.drag.end.'+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n)}
m=[]},y=s.length;y--;){!function(t){e[t]=o[t]=function(n,i){return e.is(n,'function')&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:h(this.node||document,t,n,i||this)})),this},e['un'+t]=o['un'+t]=function(e){for(var n=this.events||[],i=n.length;i--;){if(n[i].name==t&&(n[i].f==e||!e)){return n[i].unbind(),n.splice(i,1),!n.length&&delete this.events,this}}
return this}}(s[y])}
o.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},o.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)}
var b=[]
o.drag=function(n,i,r,o,a,s){function l(l,c,u){(l.originalEvent||l).preventDefault(),this._drag.x=c,this._drag.y=u,this._drag.id=l.identifier,!m.length&&e.mousemove(v).mouseup(g),m.push({el:this,move_scope:o,start_scope:a,end_scope:s}),i&&t.on('snap.drag.start.'+this.id,i),n&&t.on('snap.drag.move.'+this.id,n),r&&t.on('snap.drag.end.'+this.id,r),t('snap.drag.start.'+this.id,a||o||this,c,u,l)}if(!arguments.length){var c
return this.drag(function(e,t){this.attr({transform:c+(c?'T':'t')+[e,t]})},function(){c=this.transform().local})}return this._drag={},b.push({el:this,start:l}),this.mousedown(l),this},o.undrag=function(){for(var n=b.length;n--;){b[n].el==this&&(this.unmousedown(b[n].start),b.splice(n,1),t.unbind('snap.drag.*.'+this.id))}
return!b.length&&e.unmousemove(v).unmouseup(g),this}}),i.plugin(function(e,n,i,r){var o=(n.prototype,i.prototype),a=String,s=e._.$
e.filter={},o.filter=function(t){var i=this
'svg'!=i.type&&(i=i.paper)
var r=e.parse(a(t)),o=e._.id(),l=(i.node.offsetWidth,i.node.offsetHeight,s('filter'))
return s(l,{id:o,filterUnits:'userSpaceOnUse'}),l.appendChild(r.node),i.defs.appendChild(l),new n(l)},t.on('snap.util.getattr.filter',function(){t.stop()
var n=s(this.node,'filter')
if(n){var i=a(n).match(/^\s*url\((.+)\)/)
return i&&e.select(i[1])}}),t.on('snap.util.attr.filter',function(i){if(i instanceof n&&'filter'==i.type){t.stop()
var r=i.node.id
r||(s(i.node,{id:i.id}),r=i.id),s(this.node,{filter:e.url(r)})}i&&'none'!=i||(t.stop(),this.node.removeAttribute('filter'))}),e.filter.blur=function(t,n){null==t&&(t=2)
var i=null==n?t:[t,n]
return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:i})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,i,r,o){return'string'==typeof i&&(r=i,o=r,i=4),'string'!=typeof r&&(o=r,r='#000'),r=r||'#000',null==i&&(i=4),null==o&&(o=1),null==t&&(t=0,n=2),null==n&&(n=t),r=e.color(r),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:t,dy:n,blur:i,opacity:o})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),i})},{eve:358}],565:[function(e,t,n){function i(){r.call(this)}t.exports=i
var r=e('events').EventEmitter
e('inherits')(i,r),i.Readable=e('readable-stream/readable.js'),i.Writable=e('readable-stream/writable.js'),i.Duplex=e('readable-stream/duplex.js'),i.Transform=e('readable-stream/transform.js'),i.PassThrough=e('readable-stream/passthrough.js'),i.Stream=i,i.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function i(){c.readable&&c.resume&&c.resume()}function o(){u||(u=!0,e.end())}function a(){u||(u=!0,'function'==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===r.listenerCount(this,'error')){throw e}}function l(){c.removeListener('data',n),e.removeListener('drain',i),c.removeListener('end',o),c.removeListener('close',a),c.removeListener('error',s),e.removeListener('error',s),c.removeListener('end',l),c.removeListener('close',l),e.removeListener('close',l)}var c=this
c.on('data',n),e.on('drain',i),e._isStdio||t&&!1===t.end||(c.on('end',o),c.on('close',a))
var u=!1
return c.on('error',s),e.on('error',s),c.on('end',l),c.on('close',l),e.on('close',l),e.emit('pipe',c),e}},{events:359,inherits:364,'readable-stream/duplex.js':551,'readable-stream/passthrough.js':557,'readable-stream/readable.js':558,'readable-stream/transform.js':559,'readable-stream/writable.js':560}],566:[function(e,t,n){function i(e){if(e&&!l(e)){throw new Error('Unknown encoding: '+e)}}function r(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e('buffer').Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0
default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||'utf8').toLowerCase().replace(/[-_]/,''),i(e),this.encoding){case'utf8':this.surrogateSize=3
break
case'ucs2':case'utf16le':this.surrogateSize=2,this.detectIncompleteChar=o
break
case'base64':this.surrogateSize=3,this.detectIncompleteChar=a
break
default:return void(this.write=r)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0}
c.prototype.write=function(e){for(var t='';this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length
if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength){return''}
e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)
var i=t.charCodeAt(t.length-1)
if(!(i>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length){return t}
break}this.charLength+=this.surrogateSize,t=''}this.detectIncompleteChar(e)
var r=e.length
this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r)
var r=t.length-1,i=t.charCodeAt(r)
if(i>=55296&&i<=56319){var o=this.surrogateSize
return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t]
if(1==t&&n>>5==6){this.charLength=2
break}if(t<=2&&n>>4==14){this.charLength=3
break}if(t<=3&&n>>3==30){this.charLength=4
break}}this.charReceived=t},c.prototype.end=function(e){var t=''
if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding
t+=i.slice(0,n).toString(r)}return t}},{buffer:188}],567:[function(e,t,n){!function(e){'use strict'
function i(){this.data=[null],this.top=0}function r(){return new i}i.prototype.clear=function(){return this.data=[null],this.top=0,this},i.prototype.length=function(){return this.top},i.prototype.peek=function(){return this.data[this.top]},i.prototype.pop=function(){return this.top>0?(this.top--,this.data.pop()):void 0},i.prototype.push=function(e){return this.data[++this.top]=e,this},void 0!==n?t.exports=r:'function'==typeof define?define(function(){return r}):e.stack=r}(this)},{}],568:[function(e,t,n){(function(e){function n(e,t){function n(){if(!r){if(i('throwDeprecation')){throw new Error(t)}
i('traceDeprecation')?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(i('noDeprecation')){return e}
var r=!1
return n}function i(t){try{if(!e.localStorage){return!1}}catch(e){return!1}var n=e.localStorage[t]
return null!=n&&'true'===String(n).toLowerCase()}t.exports=n}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{}]},{},[1])
